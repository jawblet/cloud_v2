{"version":3,"sources":["svg/icons lazy /^/.//.*$/ groupOptions: {} namespace object","hooks/UserContext.js","components/Loading.js","pages/PrivateRoute.js","components/Breadcrumbs.js","components/FormInput.js","components/ConfirmPasswordInput.js","hooks/useToggle.js","sections/UserForm.js","components/btns/CTA.js","atoms/Error.js","atoms/Prompt.js","hooks/upload/useForm.js","pages/CreateUser.js","sections/TagBank.js","components/Toggle.js","components/Search.js","pages/CreateHouse.js","pages/Register.js","pages/Login.js","pages/Confirm.js","hooks/user/useConfirm.js","components/btns/InlineButton.js","data/buttons.js","pages/Landing.js","sections/Header.js","hooks/user/useLogout.js","utils/Grid.js","sections/views/Subtitle.js","hooks/layers/useLayerPosts.js","atoms/TagPreview.js","components/animate/Fade.js","components/modals/Preview.js","atoms/Pin.js","sections/views/PostCell.js","atoms/Chevron.js","components/dnd/menu/dnd.js","components/dnd/menu/GroupLabel.js","components/dnd/menu/LayerLabel.js","components/dnd/menu/GroupHeader.js","hooks/layers/useRenameGroup.js","hooks/useDetectClickOut.js","svg/LayerIcons.js","components/dnd/menu/DragItem.js","components/dnd/menu/DnDList.js","components/dnd/menu/DeleteGroup.js","components/dnd/menu/Group.js","components/dnd/menu/AddGroup.js","data/zones.js","hooks/house/useMapKey.js","components/animate/SwitchSlide.js","components/dnd/menu/DnDMenu.js","components/modals/HouseLegend.js","hooks/house/useHouseLegend.js","sections/views/LayerView.js","atoms/PathList.js","components/menus/SlideMenu.js","sections/views/PathCellContent.js","hooks/usePositionPoints.js","sections/views/PathCell.js","sections/views/PathView.js","components/btns/Button.js","components/btns/TooltipBtn.js","hooks/useToolTipButtons.js","components/btns/NavBar.js","components/animate/SwitchFade.js","atoms/ExpandButton.js","pages/Home.js","hooks/layers/useRefreshLayers.js","hooks/useSqueeze.js","components/InlineComment.js","components/Comment.js","components/CommentList.js","components/posts/edit/EditPostTags.js","sections/EditSidebar.js","hooks/posts/useComment.js","components/posts/LinkPreview.js","hooks/posts/useEditPost.js","components/menus/SelectMenu.js","components/btns/TooltipBar.js","components/btns/Toolbar.js","pages/layer/layer_data.js","hooks/posts/useManagePosts.js","sections/Edit.js","hooks/posts/usePostDetail.js","components/TextareaEdit.js","components/InputEdit.js","components/modals/LayerModal.js","hooks/layers/useDeleteLayer.js","hooks/layers/useDeleteGroup.js","hooks/useModal.js","sections/LayerInfo.js","hooks/layers/useRenameLayer.js","hooks/useOneFilter.js","atoms/page/AddButton.js","components/ListMenu.js","atoms/MenuItem.js","components/menus/FilterMenu.js","pages/layer/Sidebar.js","pages/layer/EmptyPage.js","components/menus/BasicSelectMenu.js","components/posts/Post100Tag.js","components/posts/Post100Note.js","components/posts/Post100.js","sections/posts/PostList100.js","hooks/useToggleOneOfMany.js","components/posts/Post.js","sections/posts/PostList25.js","pages/layer/SwitchViews.js","components/modals/PathLegend.js","hooks/paths/useTagLegend.js","pages/layer/PageBody.js","pages/layer/Layer.js","hooks/layers/useGetLayer.js","sections/LayerRoute.js","pages/layer/Sublayer.js","pages/layer/Group.js","hooks/layers/useGroupPosts.js","sections/GroupRoute.js","atoms/Notification.js","components/modals/UserModal.js","pages/User.js","hooks/user/useDelete.js","components/Drawer.js","components/upload/LinkUpload.js","components/upload/NoteUpload.js","components/upload/DragUpload.js","hooks/useDragDrop.js","components/CommentInput.js","atoms/Tooltip.js","atoms/AutoComplete.js","atoms/RecentTags.js","hooks/paths/useTags.js","components/upload/UploadContainer.js","components/animate/Rolldown.js","components/menus/LayerSelectMenu.js","sections/AddPost.js","hooks/upload/useSubmit.js","sections/AddLayer.js","hooks/layers/useAddLayer.js","data/colors.js","pages/Add.js","hooks/posts/useEditor.js","hooks/upload/useUpload.js","sections/posts/ThreadHeader.js","sections/posts/RichComment.js","hooks/useScrollToBottom.js","hooks/posts/useRichEditor.js","data/utils.js","sections/posts/ThreadComments.js","hooks/threads/useThreadComments.js","hooks/threads/useShowEditor.js","pages/Thread.js","hooks/threads/useThread.js","atoms/ColorPicker.js","atoms/TagCount.js","components/TagBody.js","sections/TagList.js","components/Filter.js","pages/Tags.js","hooks/useManyFilters.js","hooks/paths/useChangeColor.js","sections/HouseNav.js","components/menus/HouseNavMenu.js","pages/House.js","components/upload/library/RichEditor.js","components/posts/InboxPreview.js","components/posts/InboxLink.js","atoms/Paginate.js","sections/Inbox.js","pages/InMail.js","hooks/useLibrary.js","utils/Flex.js","components/animate/Grow.js","atoms/Node.js","data/syllabus.js","pages/Syllabus.js","sections/color/key.js","sections/color/SymbolKey.js","pages/Archive.js","sections/HouseRoute.js","pages/layer/PathLayer.js","hooks/paths/useGetPath.js","sections/PathRoute.js","pages/NotFound.js","atoms/HomeButton.js","App.js","hooks/user/useFindUser.js","index.js","svg/GroupIcon.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","UserContext","createContext","Loading","className","LoadingPage","PrivateRoute","props","useContext","user","isLoading","Component","component","rest","render","to","BreadcrumbsNav","nav","crumb","index","url","activeClassName","name","Breadcrumbs","crumbs","active","FormInput","fail","white","type","placeholder","disabled","value","onChange","handleChange","onKeyDown","handleKeyDown","ConfirmPasswordInput","initialState","useState","newState","flipToggle","handleToggle","useToggle","style","marginBottom","onClick","placeholderConfirm","nameConfirm","valueConfirm","userForm","values","invalidFields","passwordFields","passwordFail","some","el","indexOf","email","includes","username","password","passwordConfirm","CTA","color","kind","data-id","handleClick","error","Prompt","prompt","useForm","initialValues","history","useHistory","setUser","setValues","setError","success","setSuccess","registerUser","formValues","a","axios","method","data","res","console","log","push","response","rentHouse","house","boardersUnconfirmed","post","boarders","_id","length","users","catch","err","emailBoarders","houseId","doc","put","get","currentUser","loginUser","updateUser","updatePassword","searchRef","React","createRef","addTags","test","input","messages","fields","trimmedTag","trim","clearInput","current","event","target","handleSubmit","preventDefault","form","removeTag","tag","newBoarders","filter","keyCode","CreateUser","onSubmit","TagBank","tags","handleDelete","Toggle","toggleState","label","Search","forwardRef","ref","focus","setFocus","onFocus","CreateHouse","openBoarders","SwitchTransition","mode","CSSTransition","timeout","classNames","addEndListener","node","done","addEventListener","justifyContent","Register","createUser","setRegistration","setActive","useEffect","location","hash","width","marginTop","paddingBottom","Login","Confirm","handleCheckUser","newUnconfirmed","newConfirmed","handleCheckHouse","blankValues","entries","forEach","k","houseName","results","useConfirm","InlineButton","navButtons","icon","uploadBtns","HEADINGS","INLINE_STYLES","ADD_PATH","BLOCK_TYPES","NOTE_TOOLTIP","paddingTop","textAlign","ZOOM_IN_BTN","dataId","ZOOM_OUT_BTN","Landing","Header","logoutUser","useLogout","Grid","columns","rows","autoColumns","autoRows","gap","justify","align","display","inline","gridTemplateColumns","gridTemplateRows","gridAutoColumns","gridAutoRows","justifyItems","alignItems","getGrid","children","Subtitle","slug","heavy","p","useLayerPosts","posts","setPosts","loading","setLoading","getLayerPosts","layerId","getPathPosts","pathId","getHousePosts","page","offset","TagPreview","count","backgroundColor","Fade","nodeRef","useRef","in","short","exit","unmountOnExit","Preview","preview","tagNum","textTransform","date","remainder","i","key","getTags","Pin","path","showPreview","pathStyle","position","top","y","left","x","onMouseEnter","onMouseLeave","PostCell","squeeze","onPageLoad","groupBy","Chevron","expand","setExpand","LABEL_STYLE","fontFamily","lineHeight","fontSize","letterSpacing","fontWeight","GroupLabel","group","disable","handleBlur","newName","GroupIcon","l","onBlur","LayerLabel","GroupHeader","row","groups","setGroups","setNewName","rename","currentTarget","groupId","newGroups","renamedGroup","newSlug","slugify","splice","useRenameGroup","initState","setDisable","handleClickOutside","contains","document","removeEventListener","useDetectClickOut","LayerIcon","LayerPath","lazy","layerPath","strokeWidth","stroke","fill","fallback","height","viewBox","strokeLinecap","strokeLinejoin","xmlns","DragItem","layer","DnDList","listType","setHoverId","listId","layers","transform","droppableId","direction","isCombineEnabled","dropProvided","droppableProps","innerRef","draggableId","dragProvided","dragHandleProps","draggableProps","DeleteGroup","deleteRow","Group","transformOrigin","AddLayer","water","sand","stoneface","fungus","buriedTreasure","clay","grass","useMapKey","groupArray","setGroupState","updateHouseModel","newRows","groupsRemaining","ungrouped","newUngrouped","reorderRows","source","destination","dragGroup","find","dropGroup","reordered","list","startIndex","endIndex","item","reorderList","newTarget","zone","zoneArray","zones","max","Math","floor","random","changeColor","addRow","newGroup","SwitchSlide","state","DnDMenu","hide","hideMenu","onDragEnd","AddGroup","internalScroll","HouseLegend","setHouse","setBoarders","usernames","boarderId","all","useHouseLegend","boarder","LayerView","hoverId","PathList","items","SlideMenu","PathCellContent","cellRef","pins","setPins","getPinPos","r","PI","round","cos","sin","usePositionPoints","PathCell","PathView","paths","Button","TooltipBtn","button","tooltips","getTooltip","hideTooltip","data-label","Tooltip","tooltip","show","column","useToolTipButtons","btns","setTooltips","initArray","btn","dataset","NavBar","buttons","zoomIn","setZoom","useTooltipButtons","squeezeBtn","handleExpandClick","SwitchFade","ExpandButton","margin","is","Home","globalTags","setRooms","layerArrs","flat","useRefreshLayers","setSqueeze","handleSqueeze","useSqueeze","InlineComment","commentRef","autosize","contentEditable","suppressContentEditableWarning","comment","Comment","deleteComment","commentAuthor","setAuthor","isAuthor","checkAuthor","CommentList","postComments","EditPostTags","EditSidebar","handleDeleteDetail","useReducer","action","c","concat","newComment","dispatch","comments","getPostTags","delete","useComment","LinkCard","link","showGraphic","header","description","minLine","LinkPreview","cardSize","maxLine","LinkDetail","useEditPost","tagNames","editRef","isReadOnly","setEditable","EditorState","createEmpty","editorState","setEditorState","onNoteChange","displayNoteBody","contentState","convertFromRaw","JSON","parse","content","findTags","contentBlock","callback","findWithRegex","TAGS_REGEX","RegExp","join","regex","matchArr","start","text","getText","exec","highlightSpan","decoratedText","toLowerCase","obj","decorator","CompositeDecorator","strategy","newEditorState","createWithContent","editNote","handleKeyCommand","command","RichUtils","mapKeyToEditorCommand","getDefaultKeyBinding","onTab","toggleInlineStyle","inlineStyle","toggleBlockType","blockType","SelectMenu","selectItem","menu","setMenu","TooltipBar","Toolbar","currentInlineStyle","getCurrentInlineStyle","selection","getSelection","getCurrentContent","getBlockForKey","getStartKey","getType","setBlockType","styled","onMouseDown","onToggleInline","has","substring","addTag","addTagFromNote","zoom","PAGE_TITLE","getUrlBase","substr","lastIndexOf","useManagePosts","useLocation","deletePost","pathname","openPost","postId","updatePost","note","Edit","params","useParams","setPost","setTags","getPostDetail","usePostDetail","newNote","stringify","convertToRaw","readOnly","TextareaEdit","handleClickIn","descriptionRef","InputEdit","size","LayerModal","handleDeleteLayer","pushUser","getAllRooms","allGroups","deleteLayer","groupCopy","targetGroup","newGroupLayers","deletePosts","useDeleteLayer","handleDeleteGroup","deleteGroup","useDeleteGroup","handleOutsideClick","toggleModal","useModal","modal","setModal","modalRef","LayerInfo","initValues","editInline","setEditInline","setValue","setSize","blur","from","updatedLayer","newGroupArray","useRenameLayer","useRoomFilter","activeItem","setActiveItem","handleOneFilter","AddButton","room","ListMenu","title","MenuItem","FilterMenu","Sidebar","setZoomFilter","activeView","EmptyPage","EmptySubpage","BasicSelectMenu","childData","revertAll","roundTop","Post100Tag","handleHover","handleStopHover","tagpath","data-index","cursor","Post100Note","Post100","toggleMenu","toggleRef","handleDeletePost","uniqueTags","Array","Set","paddingLeft","PostList100","newArr","useToggleOneOfMany","Post","PostList25","postTotal","postArrs","ceil","slice","SwitchViews","PathLegend","tagDetails","loadModal","postExcerpts","tagCount","useOneTag","tagRef","setLoadModal","setExcerpts","postCount","setTagDetails","getTagDetails","Date","createdOn","toDateString","day","month","year","excerpts","TAG_REGEX","getPlainText","setTagpath","lengthX","heightY","coords","setCoords","tagId","tagEnd","getBoundingClientRect","right","roomTop","tagMid","bottom","calculateTagPath","PageBody","useTagLegend","subpage","Layer","useOneFilter","setLayerLoading","setLayer","roomObject","getLayer","useGetLayer","onScroll","LayerRoute","Sublayer","groupSlug","setGroup","setGroupLoading","getGroup","currentGroup","getGroupPosts","handleGetGroup","useGroupPosts","GroupRoute","Notification","notif","Modal","deleteUser","User","useDelete","padding","UserModal","Drawer","tab","LinkUpload","NoteUpload","setNote","spellCheck","DragUpload","inDropZone","file","upload","message","msg","uploadComplete","supportedTypes","handleDragEnter","handleDragLeave","handleDragOver","dataTransfer","dropEffect","handleDrop","files","useDragDrop","onDragOver","onDragEnter","onDragLeave","onDrop","CommentInput","AutoComplete","selectTag","data-name","RecentTags","marginRight","useTags","t_loading","is_t_Loading","allTags","setAllTags","unique","sum","setTagCount","sort","tagData","postTagSum","lastThreeTags","setLastTags","getAllTagsFromPosts","allTagsFromPosts","UploadContainer","switchType","setComments","setTooltip","openAutoComplete","flexDirection","Rolldown","LayerSelectMenu","setAdd","paddingRight","background","AddPost","rooms","handleLinkSubmit","roomName","roomTo","status","handleNoteSubmit","tagArr","foundTag","tagObj","useSubmit","roomInput","setNewRoom","validateLayer","newId","uuid","getGroups","newLayer","addNewLayer","handleAddRoom","useAddLayer","colors","COLOR_OBJECTS","peach","red","yellow","green","blue","purple","Add","addPost","roomFrom","setType","useEditor","colorArr","setGlobalTags","setResults","createTag","n","newTag","returnObj","textContent","newTags","window","toString","useUpload","ThreadHeader","setEditor","showEdit","RichComment","scrollRef","scrollToBottom","scrollIntoView","behavior","useScrollToBottom","useRichEditor","toLocaleDateString","setTitle","onTitleChange","clearEditor","ThreadComments","thread","getComments","addComment","handleAddComment","loadComments","useThreadComments","raw","useShowEditor","Thread","threadId","metadata","setMetadata","getPost","author","getThread","useThread","ColorPicker","eyedrop","handleColorSelect","defaultValue","tagObject","TagCount","activeFilter","countEach","TagBody","TagList","Filter","filters","handleFilterClick","handlePaintClick","Tags","changeFilter","currentState","newFilter","useManyFilters","colorChangeActive","remainingTags","useChangeColor","HouseNav","hover","HouseNavMenu","hoverRoom","House","setHover","RichEditor","styledToolbar","InboxPreview","plaintext","handleLibraryBookDelete","InboxLink","Paginate","pageState","handlePageCounter","totalPages","prevPage","nextPage","Inbox","threads","limit","setThreads","setPage","getLibraryBooks","add","docs","addLibraryBook","deleteLibraryBook","handleLibrarySubmit","useLibrary","marginLeft","Flex","mainAxis","crossAxis","middle","center","between","around","getFlex","Node","handleOpen","Row","open","components","Grow","dropdown","ROWS","Syllabus","setOpen","arr","SYMBOL_KEY","symbol","SymbolKey","Archive","HouseRoute","exact","InMail","PathLayer","setPath","getPath","useGetPath","PathRoute","NotFound","HomeButton","App","findUser","useFindUser","Provider","defaults","headers","ReactDOM","StrictMode","getElementById","strokeDasharray"],"mappings":"8HAAA,IAAIA,EAAM,CACT,OAAQ,CACP,IACA,GAED,UAAW,CACV,IACA,GAED,OAAQ,CACP,IACA,GAED,UAAW,CACV,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,QAAS,CACR,IACA,GAED,WAAY,CACX,IACA,GAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,OAAQ,CACP,IACA,IAED,UAAW,CACV,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,OAAQ,CACP,IACA,IAED,UAAW,CACV,IACA,IAED,QAAS,CACR,IACA,IAED,WAAY,CACX,IACA,IAED,OAAQ,CACP,IACA,IAED,UAAW,CACV,IACA,IAED,OAAQ,CACP,IACA,IAED,UAAW,CACV,IACA,IAED,OAAQ,CACP,IACA,IAED,UAAW,CACV,IACA,IAED,OAAQ,CACP,IACA,IAED,UAAW,CACV,IACA,IAED,OAAQ,CACP,IACA,IAE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AAhD,UACI,cAAC,IAAD,CAAmB3wB,UAAU,gCAC7B,oBAAIA,UAAU,QAAd,6BAEJ,sBAAKA,UAAU,oBAAf,UACKgE,GAAS,cAAC3E,EAAD,CAAO2E,MAAOA,EAAMgD,WAC7BtC,GAAW,cAACkoB,GAAD,CAAcC,MAAOnoB,OAErC,sBAAK1E,UAAU,gBAAf,UACI,oBAAIA,UAAU,gBAAd,uBACA,cAACsB,EAAD,CAAWG,KAAM,OAAQC,YAAa,aAAcR,KAAM,OAC9CU,MAAO6vB,EACP3vB,aAAcA,OAG9B,qBAAK9B,UAAU,qBAAqBwC,MAAO,CAACiH,eAAe,YAA3D,SACI,cAAC9F,EAAD,CAAKzC,KAAM,cAAC,IAAD,IAAW2C,KAAK,UAAUpC,KAAM,kBEvCpD,IAAM0wB,GAAS,CAElB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAGA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAGA,UACA,UACA,UACA,UAGA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAGA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAGA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAGA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGSC,GAAgB,CACzB,CAAEjd,KACF,CAAE,UACF,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAED,CAAEkd,MACD,CAAE,UACF,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAED,CAAEC,IACD,CAAE,UACF,UACA,UACA,YAED,CAAEC,OACD,CAAC,UACD,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAEA,CAAEC,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","file":"static/js/main.67180fec.chunk.js","sourcesContent":["var map = {\n\t\"./L0\": [\n\t\t165,\n\t\t0\n\t],\n\t\"./L0.js\": [\n\t\t165,\n\t\t0\n\t],\n\t\"./L1\": [\n\t\t166,\n\t\t1\n\t],\n\t\"./L1.js\": [\n\t\t166,\n\t\t1\n\t],\n\t\"./L10\": [\n\t\t167,\n\t\t2\n\t],\n\t\"./L10.js\": [\n\t\t167,\n\t\t2\n\t],\n\t\"./L11\": [\n\t\t168,\n\t\t3\n\t],\n\t\"./L11.js\": [\n\t\t168,\n\t\t3\n\t],\n\t\"./L12\": [\n\t\t169,\n\t\t4\n\t],\n\t\"./L12.js\": [\n\t\t169,\n\t\t4\n\t],\n\t\"./L13\": [\n\t\t170,\n\t\t5\n\t],\n\t\"./L13.js\": [\n\t\t170,\n\t\t5\n\t],\n\t\"./L14\": [\n\t\t171,\n\t\t6\n\t],\n\t\"./L14.js\": [\n\t\t171,\n\t\t6\n\t],\n\t\"./L15\": [\n\t\t172,\n\t\t7\n\t],\n\t\"./L15.js\": [\n\t\t172,\n\t\t7\n\t],\n\t\"./L16\": [\n\t\t173,\n\t\t8\n\t],\n\t\"./L16.js\": [\n\t\t173,\n\t\t8\n\t],\n\t\"./L17\": [\n\t\t174,\n\t\t9\n\t],\n\t\"./L17.js\": [\n\t\t174,\n\t\t9\n\t],\n\t\"./L18\": [\n\t\t175,\n\t\t10\n\t],\n\t\"./L18.js\": [\n\t\t175,\n\t\t10\n\t],\n\t\"./L19\": [\n\t\t176,\n\t\t11\n\t],\n\t\"./L19.js\": [\n\t\t176,\n\t\t11\n\t],\n\t\"./L2\": [\n\t\t177,\n\t\t12\n\t],\n\t\"./L2.js\": [\n\t\t177,\n\t\t12\n\t],\n\t\"./L20\": [\n\t\t178,\n\t\t13\n\t],\n\t\"./L20.js\": [\n\t\t178,\n\t\t13\n\t],\n\t\"./L21\": [\n\t\t179,\n\t\t14\n\t],\n\t\"./L21.js\": [\n\t\t179,\n\t\t14\n\t],\n\t\"./L22\": [\n\t\t180,\n\t\t15\n\t],\n\t\"./L22.js\": [\n\t\t180,\n\t\t15\n\t],\n\t\"./L23\": [\n\t\t181,\n\t\t16\n\t],\n\t\"./L23.js\": [\n\t\t181,\n\t\t16\n\t],\n\t\"./L24\": [\n\t\t182,\n\t\t17\n\t],\n\t\"./L24.js\": [\n\t\t182,\n\t\t17\n\t],\n\t\"./L25\": [\n\t\t183,\n\t\t18\n\t],\n\t\"./L25.js\": [\n\t\t183,\n\t\t18\n\t],\n\t\"./L26\": [\n\t\t184,\n\t\t19\n\t],\n\t\"./L26.js\": [\n\t\t184,\n\t\t19\n\t],\n\t\"./L27\": [\n\t\t185,\n\t\t20\n\t],\n\t\"./L27.js\": [\n\t\t185,\n\t\t20\n\t],\n\t\"./L28\": [\n\t\t186,\n\t\t21\n\t],\n\t\"./L28.js\": [\n\t\t186,\n\t\t21\n\t],\n\t\"./L29\": [\n\t\t187,\n\t\t22\n\t],\n\t\"./L29.js\": [\n\t\t187,\n\t\t22\n\t],\n\t\"./L3\": [\n\t\t188,\n\t\t23\n\t],\n\t\"./L3.js\": [\n\t\t188,\n\t\t23\n\t],\n\t\"./L30\": [\n\t\t189,\n\t\t24\n\t],\n\t\"./L30.js\": [\n\t\t189,\n\t\t24\n\t],\n\t\"./L4\": [\n\t\t190,\n\t\t25\n\t],\n\t\"./L4.js\": [\n\t\t190,\n\t\t25\n\t],\n\t\"./L5\": [\n\t\t191,\n\t\t26\n\t],\n\t\"./L5.js\": [\n\t\t191,\n\t\t26\n\t],\n\t\"./L6\": [\n\t\t192,\n\t\t27\n\t],\n\t\"./L6.js\": [\n\t\t192,\n\t\t27\n\t],\n\t\"./L7\": [\n\t\t193,\n\t\t28\n\t],\n\t\"./L7.js\": [\n\t\t193,\n\t\t28\n\t],\n\t\"./L8\": [\n\t\t194,\n\t\t29\n\t],\n\t\"./L8.js\": [\n\t\t194,\n\t\t29\n\t],\n\t\"./L9\": [\n\t\t195,\n\t\t30\n\t],\n\t\"./L9.js\": [\n\t\t195,\n\t\t30\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 318;\nmodule.exports = webpackAsyncContext;","import { createContext } from 'react'; \n\n//set initial value of user to null (pre-login)\nexport const UserContext = createContext(null);\n\n","import React from 'react';\n\nexport function Loading() { \n    return(\n        <div className=\"loading\">\n            Loading...\n        </div>\n    )\n}\n\nexport function LoadingPage() {\n    return (\n            <div className=\"loadingPage\">\n                <h3 className=\"loadingPage__text\">. . .</h3>\n            </div>\n    ) \n}","import React, { useContext } from 'react'; \nimport { Route, Redirect } from 'react-router-dom';\nimport { LoadingPage } from './../components/Loading';\nimport { UserContext } from './../hooks/UserContext';\n\nexport default function PrivateRoute(props) {   \n    const { user, isLoading } = useContext(UserContext); \n\n        const { component: Component,\n        ...rest } = props; \n\n        //return loading component \n        if(isLoading) {\n          return <LoadingPage/>;\n        } \n\n        if(user){\n            return ( <Route {...rest} render={(props) => (\n            <Component {...props}/>)}/>)\n        } else {\n            return <Redirect to='/home'/>\n        }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n  \n\n    useEffect(() => {\n        console.log('The Privte Route useEffect ran');\n        if(user) {\n          console.log(user);\n          setUser(userStatus.username);\n        } else {\n            console.log('The Privte Route did NOT find a user');\n            setUser({});\n        }\n      }, []);\n \n\n export default function PrivateRoute(props) {\n    const { user, setUser } = useContext(UserContext);\n    const { userStatus } = useFindUser();\n\n    const checkAuthentication = () => {\n            console.log('Private route check ran');\n            const Component = props.component; \n            if(user) {\n                return <Component/>\n            } else {\n                return <Redirect to = {{ pathname: '/' }} />\n            }\n        }\n \n    return(\n        <>\n        {checkAuthentication(props)}\n       </>\n    )\n};\n**/\n\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst BreadcrumbsNav = ({ nav } ) => {\n    return(\n        <div className=\"breadcrumbsNav\">\n             <NavLink to='/'>\n                <h4>arrive anywhere</h4> \n            </NavLink>\n            {nav &&\n                nav.map((crumb, index) => {\n                    return ( \n                        <h4 key={index}>\n                            <span className=\"crumb__break\">/</span>\n                            <NavLink to={`/${crumb.url}`} className=\"crumb\" activeClassName=\"crumb--active\">\n                                {crumb.name}\n                            </NavLink>\n                        </h4> \n                    )}) \n                }\n        </div>\n    )\n}\n\nconst Breadcrumbs = ({crumbs, active}) => {\n    return (\n        <div className=\"breadcrumbs\">\n            {crumbs.map(crumb => {\n                return( \n                <h4 className={`crumb--w ${active === crumb ? 'active' : ''}`} key={crumb}>\n                    {crumb}\n                </h4>)\n            })}\n        </div>\n    )\n}\n\nexport { BreadcrumbsNav, Breadcrumbs }","import React from 'react'; \n\nexport default function FormInput(props) {\n    const fail = props.fail; \n    const white = props.white;\n \n    return(\n        <>\n            <input type={props.type}\n            className={`input\n                ${white ? 'input--white' : ''} \n                ${fail ? \"input--fail\" : ''} `}\n            placeholder={props.placeholder}\n            disabled={props.disabled}\n            name={props.name}\n            value={props.value}\n            onChange={props.handleChange}\n            onKeyDown={props.handleKeyDown} \n            />\n        </>\n    )\n}","import React from 'react'; \nimport useToggle from '../hooks/useToggle';\nimport { RiEyeCloseLine, RiEyeFill } from 'react-icons/ri';\n\nexport default function ConfirmPasswordInput(props) {\n    let fail = props.fail; \n    const { newState, handleToggle } = useToggle(false); \n\n    return(\n        <div className=\"flex column\"> \n        <div className=\"input__pass\">\n                <input type={newState ? \"text\" : \"password\"}  \n                className={`input ${fail ? \"input--fail\" : null} `}                \n                placeholder={props.placeholder}\n                name={props.name}\n                value={props.value}\n                onChange={props.handleChange}\n                onKeyDown={props.handleKeyDown}\n                style={{marginBottom:'1.5rem'}}\n                />\n            <span className=\"showPasswordButton\" onClick={handleToggle}>\n                {newState \n                   ? <RiEyeFill className=\"icon\" />\n                   : <RiEyeCloseLine className=\"icon\" />}\n            </span>\n        </div>\n                <input type={newState ? \"text\" : \"password\"}  \n                className={`input ${fail ? \"input--fail\" : null} `}    \n                placeholder={props.placeholderConfirm}\n                name={props.nameConfirm}\n                value={props.valueConfirm}\n                onChange={props.handleChange}\n                onKeyDown={props.handleKeyDown}\n                />\n            </div> \n \n    )\n}\n","import { useState } from 'react';\n\nexport default function useToggle(initialState) {\n    const [newState, flipToggle] = useState(initialState);\n\n    const handleToggle = () => {\n        flipToggle(!newState);\n    }\n\n    return {newState, handleToggle}\n}\n","import FormInput from './../components/FormInput';\nimport ConfirmPasswordInput from './../components/ConfirmPasswordInput';\n\nexport default function userForm({values, invalidFields, handleChange}) {\n  const passwordFields = ['password', 'passwordConfirm'];\n  let passwordFail = invalidFields.some(el => passwordFields.indexOf(el) !== -1);\n \n    return( \n     <span className=\"formFields\">\n        <FormInput type={\"text\"} placeholder={\"Email\"} name={\"email\"} value={values.email}\n                   fail={invalidFields.includes(\"email\")} handleChange={handleChange} \n                   />\n        <FormInput type={\"text\"} placeholder={\"Username\"} name={\"username\"} value={values.username} \n                   fail={invalidFields.includes(\"username\")} handleChange={handleChange} \n                    /> \n        <ConfirmPasswordInput type={\"password\"} \n                    fail={passwordFail}\n                    placeholder={\"Password\"} placeholderConfirm={\"Confirm password\"}\n                    name={\"password\"} nameConfirm={\"passwordConfirm\"} \n                    value={values.password} valueConfirm={values.passwordConfirm}\n                    handleChange={handleChange}\n                    />\n      </span>\n    )\n}\n","import React from 'react';\n\nexport default function CTA (props) { \n        return(\n            <button className={`btn CTA ${props.color} ${props.kind}`} \n                    data-id={props.id}\n                    type={props.type} \n                    onClick={props.handleClick}>\n                <h4>{props.name}</h4>\n            </button>\n        )\n}\n","import React from 'react';\n\nexport default function Error(props) {\n    return(\n        <div className=\"notification error\">\n            <h5>{props.error}</h5>\n        </div>\n    )\n}","import React from 'react';\n\nexport default function Prompt({type, prompt, handleClick}){\n    return(\n        <h5 className={`prompt ${type}`} onClick={handleClick}>\n            {prompt}\n        </h5>\n    )\n}","import React, { useState, useContext } from 'react'; \nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios'; \nimport { UserContext } from '../UserContext';  \n \nexport default function useForm({ initialValues }) {\n    let history = useHistory();\n    const { user, setUser } = useContext(UserContext);\n    const [values, setValues] = useState(initialValues || {});\n    const [error, setError] = useState(null);\n    const [success, setSuccess] = useState(null);\n    \n    //track form values\n    const handleChange = event => {\n        const value = event.target.value; \n        const name = event.target.name;\n        setValues({ \n            ...values, \n            [name]: value\n        }); \n    };\n\n    //submit form when submit button is clicked \n    const handleSubmit = event => {\n        event.preventDefault();\n        switch (values.form) {\n            case 'register':\n            registerUser({ values });\n            break;\n            case 'login':\n            loginUser({ values });\n            break;\n            case 'user':\n            updateUser({ values });\n                if(values.password || values.passwordConfirm) {\n                    updatePassword({ values });\n                }\n            break;\n            case 'rent':\n            rentHouse({ values });\n            break;\n            default: return;\n        }\n    };\n\n    //email boarders\n    const emailBoarders = (house, users) => {\n        console.log('boarders r emailed');\n        axios.post('/houses/email', {\n            house,\n            users\n        }).then(res => console.log(res))\n        .catch(err => console.log(err));\n    };    \n  \n    //register user  \n    const registerUser = async (formValues) => {\n        const { username, email, password, passwordConfirm } = formValues.values;\n        try {\n            await axios({\n                method: 'POST',\n                url: `auth/register`, \n                data: {\n                  username,\n                  email,\n                  password,\n                  passwordConfirm\n                }\n            }).then(res => {\n                    console.log(res);\n                    const user = res.data.data.user;\n                    setUser(user); //set user in context w/o jwt \n                    history.push('/register#rent'); \n                })\n            } catch(err) {\n                 console.log(err);\n                 setError(err.response.data);\n            }\n      };\n\n//submit + rent house \nconst rentHouse = (formValues) => {\n    const { house, boardersUnconfirmed } = formValues.values;\n         axios.post('houses', {\n              house,\n              boardersUnconfirmed,  // save new emails as unconfirmed users\n              boarders: user._id    // save creator as confirmed user\n            }).then(res => {\n            console.log(boardersUnconfirmed);\n            if(boardersUnconfirmed.length !== 0) { \n                emailBoarders(house, boardersUnconfirmed); \n            }\n            const houseId = res.data.data.doc._id;\n            return axios.put(`users/${user._id}`, { // add house to user \n                house: houseId\n                })\n            }).then(() => { \n                return axios.get('/user')\n                .then(res => {     // check user's jwt             \n                    //console.log(res);         \n                    setUser(res.data.currentUser);      // use jwt value to set current user\n                    history.push('/');                  // push user home\n                });  \n        }).catch((err) => {\n            setError(err.response.data);\n            console.log(err);\n    })\n};\n\n    //login user \n    const loginUser = async (formValues) => {\n        const { username, password } = formValues.values;\n            await axios.post('auth/login', {\n                  username,\n                  password\n            }).then(async () => { \n                return await axios.get('/user')\n                .then(res => {                          // check user's jwt \n                    setUser(res.data.currentUser);      // use jwt value to set current user\n                    history.push('/');                  // push user home\n                    });  \n                }).catch((err) => {\n                 console.log(err.response.data);\n                 setError(err.response.data);\n            })\n      };\n \n//update user information\n      const updateUser = async (formValues) => {\n          const { username, email } = formValues.values;\n          setSuccess(null);\n          setError(null);\n          try {\n              await axios({\n                  method: 'PUT',\n                  url: `users/${user._id}`,\n                  data: {\n                    username,\n                    email\n                  }\n              }).then(res => {\n                  //console.log(res);\n                  setSuccess('Profile update complete.');\n              })\n          } catch(err) {\n              console.log(err);\n              setError(err.response.data);\n          }\n      }\n\n    const updatePassword = async (formValues) => {\n        const { password, passwordConfirm } = formValues.values;\n        setSuccess(null);\n        setError(null); \n        try {\n            await axios({\n                method: 'PUT',\n                url: `/auth/password/${user._id}`,\n                data: {\n                  password,\n                  passwordConfirm\n                }\n            }).then(res => {\n                //console.log(res);\n                setSuccess('Profile update complete.'); })\n        } catch(err) {\n            console.log(err);\n            setError(err.response.data);\n        }\n    }\n\n// rent house + handle the email chips\nconst searchRef = React.createRef(); //define searchRef\n\n//handle key down events in tag upload\nconst handleKeyDown = (e) => { \n    if(searchRef.current) {\n       //submit tags on comma or enter press\n        if(e.keyCode === 188 || e.keyCode === 13) {\n            e.preventDefault();\n            addTags();\n        }\n    }\n};\n\n //handle add\n    const addTags = () => { \n        if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(values.input)) {\n            if(values.boardersUnconfirmed.length < 4) {\n                    if(values.boardersUnconfirmed.includes(values.input)) { // don't add existing emails\n                        return setError({messages: 'That email address was already added.', fields: ['email']})\n                    }\n\n                const trimmedTag = values.input.trim(); //trim whitespace \n                setValues({\n                    ...values,\n                    boardersUnconfirmed: [...values.boardersUnconfirmed, trimmedTag]\n                })\n                setError(null);\n                clearInput();\n            }\n        } else {\n           return setError({messages: 'Email address is not valid.', fields: ['email']});\n        }\n    };\n\n//handle clear\n    const clearInput = () => {\n        searchRef.current.value = \"\";\n    }\n\n//handle delete boarder \nconst removeTag = (tag) => {\n    let newBoarders = values.boardersUnconfirmed.filter(el => el !== tag);\n    setValues({\n        ...values,\n        boardersUnconfirmed: newBoarders\n    });\n };\n \n    return {\n        handleChange,\n        handleSubmit,\n        values,\n        error,\n        success,\n        searchRef,\n        addTags,\n        clearInput,\n        removeTag,\n        handleKeyDown\n    }\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport UserForm from '../sections/UserForm';\nimport CTA from '../components/btns/CTA';\nimport Error from '../atoms/Error';\nimport Prompt from '../atoms/Prompt';\nimport useForm from '../hooks/upload/useForm';\n\n \nexport default function CreateUser() {\n    const { values, handleChange, handleSubmit, error} = useForm({\n        initialValues: {\n            form: 'register',\n            email: '',\n            username: '',\n            password: '', passwordConfirm: ''\n        }\n    }); \n\n    let invalidFields;\n    error ? invalidFields = error.fields : invalidFields = []; \n\n    return(\n            <div className=\"inlineForm\">\n            <h3>Register</h3>\n                <div className=\"inlineForm__notif\">\n                    {error && <Error error={error.messages}/>}\n                </div>\n                <form onSubmit={handleSubmit}> \n                    <UserForm values={values} handleChange={handleChange} handleSubmit={handleSubmit}\n                     invalidFields={invalidFields}/>\n                <div className=\"inlineForm__submit\">\n                    <Link to='/login'>\n                        <Prompt prompt={\"Existing account? Log in.\"}/>\n                    </Link>\n                    <CTA name=\"register\" kind=\"primary\" type=\"submit\"\n                    /> \n                </div>\n                </form>\n            </div>\n    )\n}","import React from 'react'; \nimport { VscClose } from 'react-icons/vsc';\n\nexport default function TagBank({tags, handleDelete}) { \n    return(\n        <>\n        {tags.length > 0 &&  \n               <div className=\"tagBank\">\n                {tags.map(tag => {\n                    return( <div className=\"tag tag--edit\" key={tag._id || tag} style={{marginBottom:'0.5rem'}}>\n                        <h4>{tag.tag || tag}</h4> \n                        <VscClose className=\"tag__X\" onClick={() => handleDelete(tag)}/> \n                    </div>\n                    )\n                })}\n             </div> \n            }\n        </>\n    )\n}","import React from 'react';\n\nexport default function Toggle({toggleState, handleToggle, label}) {\n    let active;\n    active = toggleState ? 'on' : '';\n    return(\n        <div className=\"toggle__wrapper\">\n            <div className={`toggle ${active}`} onClick={handleToggle}>\n                <span className=\"toggle__switch\"></span>\n            </div>\n            <h4>\n                {label}\n            </h4>\n        </div>\n    )\n}","import React, { forwardRef, useState } from 'react';\nimport { VscClose, VscAdd } from 'react-icons/vsc';\n\nconst Search = forwardRef((props, ref) => { \n    const { input } = props.values;\n    \n    const [focus, setFocus] = useState(false);\n    \n    const handleFocus = () => {  \n        setFocus(true); \n    };\n\n    return(\n        <div className=\"searchContainer\">\n            <div className=\"search\">\n            {focus && <div className=\"search__icon\">\n                    <VscClose className=\"icon icon__btn icon--small\" onClick={props.clearInput}/>\n                </div> }\n                    <input type=\"text\" name=\"input\" value={input} className=\"input search__bar\" ref={ref} \n                    placeholder={props.placeholder} \n                    onChange={props.handleChange} onKeyDown={props.handleKeyDown}\n                    onFocus={handleFocus}\n                    /> \n                {focus && <div className=\"search__icon--end\" onClick={props.addTags}>\n                    <VscAdd className=\"icon icon__btn icon--small\"/>\n                </div>}\n            </div>\n        </div>\n    )\n}); \n\nexport default Search;","import React, { useState } from 'react';\nimport TagBank from './../sections/TagBank';\nimport FormInput from '../components/FormInput'; \nimport CTA from '../components/btns/CTA'; \nimport Toggle from '../components/Toggle';\nimport Search from '../components/Search';\nimport Prompt from '../atoms/Prompt';\nimport Error from '../atoms/Error';\nimport useForm from '../hooks/upload/useForm';\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\n \nexport default function CreateHouse() {\n\n    //eventually, house rooms will be configurable here too\n    const [boarders, openBoarders] = useState(false);\n    const { handleChange, handleSubmit, values, error,\n         searchRef, addTags, clearInput, \n         removeTag, handleKeyDown } = useForm({\n        initialValues: {\n            form: 'rent',\n            house: '',\n            input: '',\n            boardersUnconfirmed: []\n        }\n    });\n \n    return (\n             <div className=\"inlineForm\">\n                <h3>Rent a house</h3>\n                <div className=\"inlineForm__notif\">\n                    {error && <Error error={error.messages}/>}\n                </div>\n                    <form className=\"formFields\" onSubmit={handleSubmit}>\n                        <FormInput type={\"text\"} placeholder={\"House name\"} \n                            name={\"house\"} values={values.house} handleChange={handleChange}/>\n                        <Toggle handleToggle={() => openBoarders(!boarders)} toggleState={boarders} \n                                label=\"Add other boarders by email\" />\n                        <SwitchTransition mode=\"out-in\">\n                            <CSSTransition key={boarders} \n                                timeout={350} \n                                classNames=\"rollDownFadeOut\" \n                                addEndListener={(node, done) => {\n                                        node.addEventListener(\"transitionend\", done, false);\n                            }}> \n                                 {!boarders \n                                    ? <Prompt prompt=\"You won't be able to add boarders later.\" type=\"light\"/> \n                                    :\n                                <div className=\"addBoarders\"> \n                                        <Search placeholder={\"Enter up to 3 email addresses.\"} name={\"input\"} \n                                                values={values.input} handleChange={handleChange} addTags={addTags} \n                                                clearInput={clearInput} ref={searchRef} handleKeyDown={handleKeyDown}/>  \n                                        <TagBank tags={values.boardersUnconfirmed} handleDelete={removeTag}/>\n                                    </div>   }\n                            </CSSTransition>\n                        </SwitchTransition>\n                    <div className=\"inlineForm__submit\" style={{justifyContent:'flex-end'}}>\n                        <CTA name=\"finish\" kind=\"primary\" type=\"submit\"\n                        /> \n                    </div>\n                </form>\n             </div>\n    )\n}\n","import React, { useState, useEffect } from 'react';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\nimport CreateUser from './CreateUser';\nimport CreateHouse from './CreateHouse';\n \nexport default function Register(props) {\n    const [createUser, setRegistration] = useState(true);\n    const [active, setActive] = useState('register');\n\n    useEffect(() => {\n        if(props.location.hash === '#rent') {\n            setRegistration(false);\n            setActive('rent')\n        }\n    }, [props]);\n\n    return(\n        <div className=\"page\" >\n            <div style={{width: '35%', marginTop:'3rem', paddingBottom:'5rem',}}>\n                <Breadcrumbs crumbs={['register', 'rent']} active={active}/>\n            </div>\n            {createUser \n                ? <CreateUser />\n                : <CreateHouse />\n            }\n        </div>\n    )\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport FormInput from '../components/FormInput';\nimport CTA from '../components/btns/CTA';\nimport Prompt from '../atoms/Prompt';\nimport Error from '../atoms/Error';\nimport useForm from '../hooks/upload/useForm';\n\nexport default function Login() {\n \n    const { values, handleChange, handleSubmit, error} = useForm({\n        initialValues: {\n            form: 'login',\n            username: '',\n            password: '' \n        }\n    });\n\n    let invalidFields;\n    error ? invalidFields = error.fields : invalidFields = []; \n    console.log(error);\n    console.log(invalidFields);\n\n    return(\n        <div className='page' style={{justifyContent:'center'}}>\n             <div className=\"inlineForm\">\n                <h3>Login</h3>\n             <div className=\"inlineForm__notif\">\n                 {error && <Error error={error.messages}/>}\n             </div>\n                <form onSubmit={handleSubmit} className=\"formFields\">\n                    <FormInput type={\"text\"} placeholder={\"Username\"} name={\"username\"} \n                                value={values.username} fail={invalidFields.includes(\"username\")}\n                                handleChange={handleChange} />\n                    <FormInput type={\"password\"} placeholder={\"Password\"} name={\"password\"} \n                                value={values.password} fail={invalidFields.includes(\"password\")}\n                                handleChange={handleChange} />\n                    <div className=\"inlineForm__submit\">\n                        <Link to='/register'>\n                            <Prompt prompt={\"No account? Create one.\"}/>\n                        </Link>\n                        <CTA name=\"login\" kind=\"primary\" type=\"submit\"\n                            /> \n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}","import React from 'react'; \nimport CTA from '../components/btns/CTA';\nimport UserForm from '../sections/UserForm';\nimport FormInput from '../components/FormInput';\nimport Prompt from '../atoms/Prompt';\nimport Error from '../atoms/Error'; \nimport useConfirm from '../hooks/user/useConfirm';\n\nexport default function Confirm() {\n    const {values, handleChange, handleCheckHouse, error } = useConfirm({\n        initialValues: {\n            email: '',\n            username: '',\n            password: '', passwordConfirm: '',\n            house: ''\n        }\n    });\n\n    let invalidFields;\n    error ? invalidFields = error.fields : invalidFields = []; \n\n    const sendSubmit = (e) => {\n        e.preventDefault();\n        handleCheckHouse({ values });\n    }\n\n    return(\n        <div className=\"page\" style={{justifyContent:'center'}}>\n            <div className=\"inlineForm\">\n                <h3>Confirm</h3>\n                    <div className=\"inlineForm__notif\">\n                        {error \n                            ? <Error error={error.messages}/>\n                            :  <p> \n                                To join the house, register with <br/> the email address you used to open this link. \n                            </p> }\n                    </div>\n                <form onSubmit={sendSubmit}>\n                <UserForm values={values} handleChange={handleChange}\n                invalidFields={invalidFields}/>\n                <div className=\"flex justifyStart padBottomOne\">\n                    <Prompt prompt={\"Enter the house name in the email.\"} type=\"light\"/>\n                </div>\n                <FormInput type={\"text\"} placeholder={\"House\"} name={\"house\"} value={values.house} \n                fail={invalidFields.includes(\"house\")}\n                handleChange={handleChange}/>\n                    <div className=\"inlineForm__submit\" style={{justifyContent:'flex-end'}}>\n                        <CTA name=\"register\" kind=\"primary\" type={\"submit\"}/>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}","import { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { UserContext } from '../UserContext'; \n\nexport default function useConfirm({ initialValues }) {\n    let history = useHistory();\n    const { setUser } = useContext(UserContext);\n    const [values, setValues] = useState(initialValues || {});\n    const [error, setError] = useState(null);\n\n        //track form values\n        const handleChange = event => {\n            const value = event.target.value; \n            const name = event.target.name;\n            setValues({ \n                ...values, \n                [name]: value\n            }); \n        };\n        \n        //check if house exists\n        const handleCheckHouse = ({ values }) => {\n            //check if fields are blank \n            const blankValues = Object.entries(values).forEach(([k, v]) => \n               { if(v === \"\") {\n                    return k } \n            });\n           if(blankValues && blankValues.length !== 0) {\n                setError({\n                    messages: 'No field may be blank.',\n                    fields: blankValues\n                })\n                 return null;\n           };    \n\n            const houseName = values.house; \n            axios.get(`/houses/h/${houseName}`) // search house by name! \n                .then(res => {\n                    console.log(res);\n                    const house = res.data.data.results[0];\n                    handleCheckUser(values, house); //step #2        \n            }).catch(err => {\n                console.log(err);\n               // setError(err.response.data);\n            });\n        };\n\n        //if house exists, check if user is a part of house \n        const handleCheckUser = (values, house) => {\n            const isBoarder = house.boardersUnconfirmed.includes(values.email);\n            if (isBoarder) {\n                registerUser(values, house)\n            } else {\n                (setError({\n                    messages: 'That email isn\\'t associated with a boarder in this house.', \n                    fields: ['email']})); \n                    return null; \n            }\n        }; \n      \n        //register user  \n        const registerUser = (values, house) => {\n            const { username, email, password, passwordConfirm } = values;\n                 axios.post('auth/register', { //create user\n                      username,\n                      email,\n                      password,\n                      passwordConfirm,\n                      house: house._id\n                    }).then(res => {\n                        console.log(res);\n                        const user = res.data.data.user;            // get new user\n                        const newUnconfirmed = house.boardersUnconfirmed.filter(el => el !== values.email);\n                        const newConfirmed = [...house.boarders, user._id];\n                        return axios.put(`houses/${house._id}`, {\n                            boardersUnconfirmed: newUnconfirmed, // remove from boarders unconfirmed\n                            boarders: newConfirmed              // add to boarders confirmed\n                            })\n                        }).then( async () => {\n                            return await axios.get('/user')\n                            .then(res => {                          // check user's jwt \n                            setUser(res.data.currentUser);          // use jwt value to set current user\n                            history.push('/home');                  // push user home\n                        });\n                    }).catch((err) => {\n                     console.log(err);\n                     setError(err.response.data);\n                })\n          };\n\n    return {\n        values,\n        handleChange,\n        error,\n        handleCheckHouse\n    }\n}\n\n\n          ","import React from 'react'; \n\nexport default function InlineButton (props) { \n    return(\n        <h4 className='btn CTA inline'\n            type={props.type} onClick={props.handleClick}>\n            {props.name} \n        </h4>\n    )\n} ","import { VscAdd, VscHome, VscMilestone, \n        VscLink, VscSymbolParameter, VscArchive, \n        VscBold, VscItalic, VscCode, VscQuote, \n        VscSymbolNamespace, VscListUnordered, VscListOrdered,\n        VscZoomIn, VscZoomOut } from 'react-icons/vsc';\n\nexport const navButtons = [\n    {id: 0, name: 'library', url: 'library', icon: <VscArchive className=\"icon icon__btn\" data-id=\"library\"/> }, \n    {id: 1, name: 'paths', url: 'library/paths', icon: <VscMilestone className=\"icon icon__btn\" data-id=\"paths\"/> },\n    {id: 2, name: 'add', url: 'add', icon: <VscAdd className=\"icon icon__btn\" data-id=\"add\"/>},\n];\n\nexport const uploadBtns = [\n    {id: 0, name: 'link', icon: <VscLink className=\"icon icon__btn\"/>}, \n    {id: 1, name: 'note', icon: <VscSymbolParameter className=\"icon icon__btn\"/> }\n];\n\nexport const HEADINGS = [   \n    {label: 'Paragraph', id: 'paragraph'},\n    {label: 'H1', id: 'header-one'}, \n    {label: 'H2', id: 'header-two'},\n    {label: 'H3', id: 'header-three'}, \n    {label: 'H4', id: 'header-four'},\n    {label: 'H5', id: 'header-five'},\n    {label: 'H6', id: 'header-six'}\n];\n\nexport const INLINE_STYLES = [\n    {label: 'bold', style: 'BOLD', icon: <VscBold className=\"icon icon__btn\"/>},\n    {label: 'italic', style: 'ITALIC', icon: <VscItalic className=\"icon icon__btn\"/>},\n    {label: 'monospace', style: 'CODE', icon: <VscCode className=\"icon icon__btn\"/>},\n  ];\n\nexport const ADD_PATH = [\n    { id: 0, name: 'Add path', icon: <VscMilestone className=\"icon icon__btn\"/> }\n];\n\nexport const BLOCK_TYPES = [\n    {label: 'Blockquote', style: 'blockquote', icon: <VscQuote className=\"icon icon__btn\"/> },\n    {label: 'UL', style: 'unordered-list-item', icon: <VscListUnordered className=\"icon icon__btn\"/>},\n    {label: 'OL', style: 'ordered-list-item', icon: <VscListOrdered className=\"icon icon__btn\"/>},\n    {label: 'Code Block', style: 'code-block', icon: <VscSymbolNamespace className=\"icon icon__btn\"/>},\n  ];\n\nexport const NOTE_TOOLTIP = () => {\n  return (\n   <div> \n       <h5> Highlight the path text and click the \n           <span className=\"highlight\"> add path </span>  \n           button in the toolbar: </h5>\n       <div style={{paddingTop:'1rem', textAlign:'center'}}>\n            <VscMilestone className=\"icon icon__btn\"/>\n        </div>\n   </div>\n  )}\n;\n\nexport const ZOOM_IN_BTN = {dataId: 'zoomIn', icon: <VscZoomOut className=\"icon icon__btn\" data-id=\"zoomIn\"/>};\n\nexport const ZOOM_OUT_BTN = {dataId: 'zoomOut', icon: <VscZoomIn className=\"icon icon__btn\" data-id=\"zoomOut\"/>};\n\n\n\n","import React from 'react'; \nimport { Link } from 'react-router-dom';\nimport InlineButton from '../components/btns/InlineButton';\nimport { LANDING_NOTES } from '../data/buttons';\n \nexport default function Landing() {\n    \n    return ( \n        <div className=\"page\">\n        <header className=\"landing__header\">\n                <Link to = \"/login\"> \n                    <InlineButton name={\"login\"}/>\n                </Link>\n                <Link to = \"/register\"> \n                    <InlineButton name={\"register\"}/>\n                </Link>\n            </header>\n         \n           <section className=\"landing__body\"> \n               <h1>\n                   <span className=\"light\">return home, </span>\n                   arrive anywhere\n                </h1>\n           </section>\n        </div>\n    )\n}\n","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport InlineButton from '../components/btns/InlineButton';\nimport { BreadcrumbsNav } from '../components/Breadcrumbs';\nimport { UserContext } from '../hooks/UserContext';\nimport useLogout from '../hooks/user/useLogout';\n\nexport default function Header({ nav }) {\n    const { user } = useContext(UserContext);\n    const { logoutUser } = useLogout();\n\n    return(\n        <header className='page__header'>\n            <div className='page__links'>\n                <BreadcrumbsNav nav={nav}/>\n            </div>\n            <div className=\"page__links\">\n            <Link to=\"/user\">\n                <InlineButton name={`@${user.username}`}/>\n            </Link>\n            <InlineButton name={'logout'} handleClick={logoutUser} />\n            </div>\n        </header>\n    )\n}","import { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nexport default function useLogout() {\n    let history = useHistory();\n\n    const logoutUser = async () => {\n        try {\n           await axios({\n                method: 'GET',\n                url: `/auth/logout`,\n            }).then(res => { \n                history.push('/home');  \n            })\n        } catch(err) {\n            console.log(err);\n        } \n    }\n\n    return {\n        logoutUser\n    }\n\n}","import React from 'react';\n\nconst Grid = (props) => { \n    //initialize grid  \n    const getGrid = (props) => { \n        const {\n            columns,\n            rows,\n            autoColumns,\n            autoRows,\n            gap,\n            justify, \n            align,\n            width,\n            inline,\n        } = props;\n    \n        return {\n            display: inline ? \"inline-grid\" : \"grid\",\n            gap: `${gap}rem` || \"0\",\n            gridTemplateColumns: columns || \"none\",\n            gridTemplateRows: rows || \"none\",\n            gridAutoColumns: autoColumns || \"auto\",\n            gridAutoRows: autoRows || \"auto\", \n            justifyItems: justify || \"stretch\",\n            alignItems: align || \"stretch\",\n            width: width || \"100%\"\n        }\n    };\n\n    return (\n        <div style={getGrid(props)}\n            className={props.className}>\n            {props.children}\n        </div>\n    );\n}\n \nexport default Grid;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Subtitle = (props) => {\n    return (\n        <Link to={props.slug}>\n            <h4 className={`subtitle ${props.heavy ? 'heavy' : ''}`} style={{paddingBottom:props.p}}>\n                {props.label}\n            </h4>\n        </Link>\n    );\n}\n \nexport default Subtitle;","import { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { UserContext } from '../UserContext';\n\nexport default function useLayerPosts() { \nconst { user } = useContext(UserContext);\nconst house = user.house._id; \n\n//init state \nconst [posts, setPosts] = useState(null);\nconst [loading, setLoading] = useState(true);\n\n    //GET ALL POSTS FOR LAYER\n    const getLayerPosts = async (layerId) => {\n        return axios.get(`/posts/h/${house}/${layerId}`)\n                    .then(res => {\n                    const posts = res.data.data.results;\n                    setPosts(posts); \n                    setLoading(false);\n                    return;\n        }).catch(err => console.log(err))\n    };\n\n    // GET ALL POSTS FOR PATH \n    const getPathPosts = async (pathId) => {\n        return axios.get(`/posts/details/${house}/${pathId}`) \n        .then(res => {\n            const { posts } = res.data.data;\n            setPosts(posts); \n            setLoading(false);\n        }).catch(err => console.log(err))\n    }\n\n    //GET ALL POSTS FOR HOUSE\n    const getHousePosts = async(page) => {\n        const offset = (page - 1) * 20; \n        return axios.get(`/posts/grid/${house}?offset=${offset}`).then(res => {\n            const { posts } = res.data;\n            setPosts(posts); \n            setLoading(false);\n        }).catch(err => console.log(err));\n    }\n\n    return {\n        loading,\n        posts,\n        getLayerPosts,\n        getPathPosts,\n        getHousePosts\n    }\n}\n","import React from 'react';\n\nexport default function TagPreview({ tag, count, color }) {\n    return (\n        <div className=\"tagPreview\"> \n            <span className=\"tagPreview__color\" style={{backgroundColor:color}}></span>\n           <h4>{tag}  \n                {count > 1 \n                    ? <span className=\"lightest\"> {count}x</span>\n                    : ''}\n           </h4> \n        </div>\n    )\n} ","import React, { useRef } from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\n\nconst Fade = (props) => {\n    const nodeRef = useRef(null);\n\n    return (\n        <CSSTransition in={props.in} \n                        timeout={props.short ? 150 : 350} \n                        nodeRef={nodeRef} \n                        classNames=\"fade\"\n                        exit = {props.exit} \n                        unmountOnExit>\n                <span ref={nodeRef}>\n                    {props.children}\n                </span>\n        </CSSTransition>\n    );\n}\n \nexport default Fade;","import React from 'react';\nimport TagPreview from '../../atoms/TagPreview'; \nimport Fade from '../animate/Fade';\n\nexport default function Preview({ preview, post, tags }) {\n    const max = 2; \n    const tagNum = Object.keys(tags).length; \n\n        const getTags = () => {\n            if(!post.tags) {\n                return null;\n            }\n\n            if(post.tags.length === 0) {\n                return(<p> without labels.</p>);\n            };\n\n            const remainder = (tagNum - max);\n            return (\n                <div className=\"popup__tags\">\n                    {Object.entries(tags).map(([key, value], i) => \n                        { if(i < max) {\n                            return ( <TagPreview tag={key} count={value.length} color={value[0].color} key={key}/> )\n                        } \n                        if(i === max) { //if i === map, show how many more paths \n                            return (<p key={key}>and {remainder} more.</p>)\n                        } \n                        return null; //otherwise return \n                    })}\n                </div>\n            )\n        }; \n        \n    return(\n            <Fade in={preview} exit={false} short>\n                <div className=\"popup__wrapper\" key={post._id}>\n                    <div className=\"popup postPreview\">\n                        <div className=\"popup__header\"> \n                            <h4 className=\"lightest\">{post.user.username}</h4> \n                        </div>\n                        <div className=\"popup__body\">\n                        <p style={{display:'inline'}}> \n                            <span style={{textTransform:'capitalize'}}>\n                                {post.type}&nbsp;\n                            </span> \n                                posted on {post.date}</p>{getTags(post.tags.length)} \n                        </div>\n                    </div>\n                </div>\n            </Fade>\n    )\n} \n","import React, { useState } from 'react';\nimport Preview from '../components/modals/Preview';\n\nconst Pin = ({ path, ...props }) => {\n    const [preview, showPreview] = useState(false);\n\n    const pathStyle = {\n        position: \"absolute\", \n        top: `${props.y}%` || 'auto',\n        left: `${props.x }%`|| 'auto'\n    }\n\n    if(path) {\n        return ( \n            <>\n            <Preview preview={preview} \n                tags={props.tags}\n                post={props.post} />\n            <div style={ pathStyle }>\n                <div style={{position:'relative'}}>\n                    <span className=\"pin__color\" style={{backgroundColor:props.color}} \n                           // onMouseEnter={() => showPreview(true)}\n                           // onMouseLeave={() => showPreview(false)} \n                            >\n                    </span>\n                    <div className=\"pin pin__path\" style={{ position: \"absolute\", backgroundColor:props.color}}>\n                    </div>\n                </div>\n            </div> \n            </>\n        );\n    }\n\n   return (\n       <>\n        <Preview preview={preview} \n                tags={props.tags}\n                post={props.post} />\n        <div className=\"pin\" onMouseEnter={() => showPreview(true)}\n                            onMouseLeave={() => showPreview(false)}>\n        </div>\n        </>\n   )}\n\nexport default Pin;\n","import React, { useEffect } from 'react';\nimport useLayerPosts from '../../hooks/layers/useLayerPosts';\nimport Pin from '../../atoms/Pin';\nimport Fade from '../../components/animate/Fade';\nimport groupBy from 'lodash/groupBy';\n\nconst PostCell = ({ id, squeeze }) => { \n    const { \n        posts, \n        loading, \n        getLayerPosts,\n         } = useLayerPosts();\n\n    useEffect(() => {\n        async function onPageLoad() {\n            await getLayerPosts(id);\n        };\n            onPageLoad();\n        }, []);\n \n    if(loading) {\n        return null;\n    };\n\n    return (\n            <div className=\"postCell\">\n        \n            {posts && posts.map(post => {\n                return(\n                <Fade in={!squeeze}>\n                    <Pin key={post._id} \n                                    post={post}  \n                                    tags={groupBy(post.tags, 'tag')}/>\n                </Fade>\n                    )\n                })}\n           \n            </div>\n     \n    );\n}\n \nexport default PostCell;","import React from 'react';\n\nconst Chevron = ({ expand, setExpand }) => {\n    return (\n        <div className={`chevron ${expand && \"chevron--open\"}`}\n             onClick={() => setExpand(!expand)}>\n            \n        </div> \n    );\n}\n \nexport default Chevron;","export const LABEL_STYLE = {\n    fontFamily: 'Graphik, sans-serif',\n    lineHeight: '130%',\n    textTransform: 'uppercase',\n    fontSize: '0.8rem',\n    letterSpacing: '1px', \n    fontWeight: 'bold'\n};","import React from 'react';\nimport { LABEL_STYLE } from './dnd';\nimport { Link } from 'react-router-dom'; \nimport GroupIcon from '../../../svg/GroupIcon';\nimport { VscEdit } from 'react-icons/vsc';\n\nconst GroupLabel = (props) => {\n    const { group,  \n        handleClick, \n        disable, handleBlur, \n        newName,\n        handleChange, \n        nodeRef } = props; \n\n    return (\n        <>\n        {disable \n            ? <Link to={`/group/${group.slug}`} \n                    className='dndHeader__label'>\n                    <h4 style={LABEL_STYLE}>\n                        <GroupIcon l=\"0.6rem\" name=\"mapGroupIcon\"/>\n                        {group.label}\n                    </h4>\n                    <VscEdit className=\"dndHeader__edit\" \n                            onClick={handleClick} />\n                </Link>\n            : <input type=\"text\" \n                ref={nodeRef}\n                className=\"dndHeader__label dndHeader__label--edit\"\n                name={group.id}\n                value={newName}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                style={LABEL_STYLE}\n                />\n            }\n        </>\n    );\n}\n \nexport default GroupLabel;","import React from 'react';\n\nconst LayerLabel = ({group}) => {\n    return (  \n        <div className=\"dndHeader__label dndHeader__label--ungrouped\">\n            <h4>\n                {group.label}\n            </h4>\n        </div>\n    );\n}\n \nexport default LayerLabel;","import React from 'react';\nimport Chevron from '../../../atoms/Chevron'; \nimport GroupLabel from './GroupLabel';\nimport LayerLabel from './LayerLabel'; \nimport useRenameGroup from '../../../hooks/layers/useRenameGroup';\nimport useDetectClickOut from '../../../hooks/useDetectClickOut';\n\nconst GroupHeader = ({ group, expand, setExpand }) => {\n   \n    const {  handleBlur, newName, handleChange } = useRenameGroup(group);\n    const { disable, setDisable, nodeRef } = useDetectClickOut(true);\n    \n    return (\n        <div className=\"dndHeader\">\n        {group.id !== \"ungrouped\" \n            ?\n            <GroupLabel group={group} \n                    disable={disable} \n                    handleClick={(e) => { e.preventDefault(); setDisable(false)}}\n                    handleBlur={(e) => { handleBlur(e); setDisable(true); }}\n                    newName={newName}\n                    handleChange={handleChange}\n                    nodeRef={nodeRef}\n                    />\n            : <LayerLabel group={group}/>\n            }\n        <Chevron expand={expand} setExpand={setExpand}\n            />\n        </div>      \n    );\n}\n \nexport default GroupHeader; \n\n\n","import { useState, useContext } from 'react';\nimport axios from 'axios';\nimport slugify from 'react-slugify';\nimport { UserContext } from '../UserContext';\n\n//rename a single group\nexport default function useRenameGroup(row) {\nconst { user, groups, setGroups } = useContext(UserContext); \nconst house = user.house._id;\nconst [newName, setNewName] = useState(row.label);\n\nconst handleChange = (e) => {\n    setNewName(e.currentTarget.value);\n};\n\nconst rename = async (groups) => {\n   return axios.put(`/houses/${house}`, { \n        groups\n    }).then(res => {\n        setGroups(groups);\n    }).catch(err => console.log(err));\n}\n\nconst handleBlur = async (e) => {\n    const groupId = e.currentTarget.name;\n    const newGroups = [...groups];\n    let renamedGroup = groups[groupId];\n    const newSlug = slugify(newName);\n    renamedGroup = {...renamedGroup, \n                        label: newName,\n                        slug: newSlug };\n    newGroups.splice(groupId, 1, renamedGroup);\n    await rename(newGroups);\n}; \n\n    return {\n        newName,\n        handleChange,\n        handleBlur\n    }\n}","import { useEffect, useRef, useState } from 'react';\n\nexport default function useDetectClickOut(initState) {\n    const [disable, setDisable] = useState(initState); \n    const nodeRef = useRef(null);\n\n    const handleClickOutside = event => {\n        if (nodeRef.current && !nodeRef.current.contains(event.target)) {\n          setDisable(true);\n        }\n      };\n    \n    useEffect(() => {\n        document.addEventListener(\"click\", handleClickOutside, true);\n        return () => {\n          document.removeEventListener(\"click\", handleClickOutside, true);\n        };\n      });\n    \n    return {\n        nodeRef,\n        disable,\n        setDisable\n    }\n}","import React, { Suspense, lazy } from 'react';\n\nconst layerPath = id => \n    lazy(() => \n        import(`./icons/${id}`).catch(() => \n        import('./GroupIcon')\n        )\n    );\n \nexport const LayerIcon = ({l, id, ...props }) => {\n    const LayerPath = layerPath(id);\n    const strokeWidth = props.strokeWidth || 5;\n    const stroke = props.stroke || \"currentColor\"; \n    const fill = props.fill || \"none\";\n    \n    return(\n    <Suspense fallback={<span>...</span>}>\n        <svg width={l} height={l} viewBox=\"-2.5 -2.5 105 105\" \n            className=\"mapLayerIcon\" \n            strokeLinecap=\"round\" strokeLinejoin=\"round\"\n            strokeWidth={strokeWidth} stroke={stroke} fill={fill}\n            xmlns=\"http://www.w3.org/2000/svg\">\n                <LayerPath/>\n        </svg>\n    </Suspense>\n    )\n}\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { LayerIcon } from '../../../svg/LayerIcons';\n\nconst DragItem = ({layer, group }) => {\n    return (\n        <Link to={`/${layer.slug}`} \n        >\n        <p className={`dnd__item \n         ${group.id !== 'ungrouped' ? 'dnd__item--nested' : ''}\n        `}\n        > \n            <LayerIcon l=\"0.8rem\" id={`L${layer.id}`}/>\n            {layer.label}\n        </p> \n    </Link>\n    );\n}\n \nexport default DragItem;\n","import React from 'react';\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\nimport DragItem from './DragItem';\n\nconst DnDList = (props) => {\n    const { listType, setHoverId, listId, group, layers } = props;\n\n    return (\n    <Droppable style={{ transform: \"none\" }}\n        droppableId={listId}\n        type={listType}\n        direction=\"vertical\"\n        isCombineEnabled={false}\n        >\n        {dropProvided => (\n        <div \n            className=\"dnd__list\"\n            {...dropProvided.droppableProps}\n            ref={dropProvided.innerRef}\n                > \n                {layers.map((layer, index) => (\n                <Draggable  draggableId={layer.id} \n                            key={layer.id} \n                            index={index}>\n                    {dragProvided => (\n                        <div\n                            {...dragProvided.dragHandleProps}\n                            {...dragProvided.draggableProps}\n                            ref={dragProvided.innerRef}\n                        >\n                           <DragItem layer={layer} group={group}\n                                    setHoverId={setHoverId}\n                           />\n                        </div> \n                    )}\n                </Draggable>\n                ))}\n                {dropProvided.placeholder}\n            </div>\n        )}\n    </Droppable>);\n}\n \nexport default DnDList;\n\n","import React from 'react';\nimport { VscClose } from 'react-icons/vsc';\n\nexport default function DeleteGroup({ group, deleteRow }) { \n    return(\n        <button className=\"group__delete\">\n        {(group.id !== \"ungrouped\") &&  \n                <VscClose \n                   onClick={() => deleteRow(group)}\n                    />}\n        </button>\n    )\n}","import React, { useState, useRef } from 'react';\nimport GroupHeader from './GroupHeader';\nimport DnDList from './DnDList';\nimport DeleteGroup from './DeleteGroup' \nimport { CSSTransition } from 'react-transition-group'; \n\nconst Group = (props) => {\n    const nodeRef = useRef(null);\n    const { group } = props; \n    const [expand, setExpand] = useState(true); \n    return (\n        <div className=\"group\">\n         <DeleteGroup {...props} \n            />\n            <div className=\"group__body\">\n                <GroupHeader group={group} \n                        expand={expand} \n                        setExpand={setExpand} \n                        />\n                <CSSTransition in={expand} timeout={350} classNames=\"grow\" nodeRef={nodeRef} \n                        unmountOnExit\n                        >\n                        <div style={{transformOrigin:'top'}} ref={nodeRef}>\n                            <DnDList {...props} \n                            />\n                        </div>\n                </CSSTransition>\n            </div>\n        </div>    \n    );\n}\n \nexport default Group;\n\n\n","import React from 'react';\nimport CTA from '../../btns/CTA'\n\nconst AddLayer = ({ handleClick }) => {\n    return (\n       <CTA name=\"+ add group\" kind=\"ghost\" handleClick={handleClick}/>\n    );\n}\n \nexport default AddLayer;","//where are these zones drawn from?\n//what do they represent? \n//what are they referencing?\n\nexport const water = [\n     //blue\n     '#4E94D2',\n     '#67c3ec',\n     '#C8E2FD',\n     '#70C7DB',\n     '#ACC1D2',\n     '#D8D9DE',\n     '#D0EEF0',\n     '#7aa9b9',\n     '#c5c9d2',\n     '#8BC2E0',\n     '#A9D1D9',\n     '#AED3DC',\n     '#B1D4CE',\n     '#B8C4DA',\n     '#BBD2F4',\n     '#A3E3FF',\n     '#BFCEE5',\n];\n\nexport const sand = [\n    //tan\n    '#b39f86',\n    '#E6DDCE',\n    '#cc634e',\n    '#E7C4A8',\n    '#D68A58',\n    '#DAC5B2',\n    '#D2BFB8',\n    '#eed1c1',\n    '#DEBB9F',\n    '#FCCBA0',\n];\n\nexport const stoneface = [\n    //purple\n    '#E3D2DA',\n    '#DCBFC1',\n    '#E5D5D8',\n    '#A993AA',\n    '#d7b9c3',\n    '#e1a4ac',\n    '#cecdc9',\n    '#9FA3AF',\n    '#D8BBCD',\n    '#98A5D2',\n    '#DC8DCE',\n    '#c59f9c',\n    '#DDD8D5',\n    '#D5B7AF'\n];\n\nexport const fungus = [\n        //red\n        '#FF533F',\n        '#D27F57',\n        '#FE786D',\n        '#fa6954',\n\n        //green\n        '#7CD054',\n        '#86A28C',\n        '#CECEC6',\n        '#4FE454',\n        '#ccdbc8',\n        '#a1d7ca'\n    \n];\n\nexport const buriedTreasure = [\n    //yellow/orange\n    '#FA6219',\n    '#F4DD73',\n    '#EEAD35',\n    '#F3E2C2',\n    '#EACA3B',\n    '#FF8532',\n    '#FAE1C3'\n];\n\nexport const clay = [\n    //yellow/orange\n    '#FFAF00',\n    '#FBF0D2',\n    '#F1D292',\n    '#DBA65A',\n    '#E5C32C',\n    '#f0a065',\n    '#FECB00',\n    '#FFB047',\n    '#f0da9e'\n];\n\nexport const grass = [ \n    //green\n    '#7DB078',\n    '#96D85D',\n    '#C9E7DF',\n    '#95CB99',\n    '#dde182',\n    '#90b39d',\n    '#9EEA86',\n    '#afc5ae',\n    '#a0b9b6',\n    '#6ed4c7',\n    '#3ACB4A',\n    '#ABC5A2',\n    '#659B5D'\n]; ","import { useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport { UserContext } from '../UserContext';\nimport * as zones from '../../data/zones';\n\nexport default function useMapKey(groupArray) {\n    const { user, setGroups } = useContext(UserContext);\n    const house = user.house._id;\n    const [groups, setGroupState] = useState(null);\n\n    useEffect(() => { \n        setGroupState(groupArray);\n    }, [groupArray]); \n\n    const updateHouseModel = async (newRows) => {\n        return axios.put(`/houses/${house}`, {\n            groups: newRows   \n        }).then(res => { \n            console.log(res);\n            setGroups(newRows);\n        }).catch(err => console.log(err));    \n    }\n\n    const changeColor = (layer, zone) => {\n        console.log(zone);\n        const zoneArray = zones[zone];\n        console.log(zoneArray);\n        const max = zoneArray.length; \n        const num = Math.floor(Math.random() * Math.floor(max));\n        const color = zoneArray[num];\n        layer.color = color;\n        console.log(color);\n        return layer;\n    }\n\n    const reorderList = (list, startIndex, endIndex) => {\n        const [item] = list.splice(startIndex, 1);\n        list.splice(endIndex, 0, item);\n        return list; \n    } \n    \n//droppableId = col id \n//index = item position \n\n    const reorderRows = (groups, source, destination) => {\n        const dragGroup = groups.find(x => x.id === source.droppableId);\n        const dropGroup = groups.find(x => x.id === destination.droppableId);\n        let newGroups;\n  \n        // moving to same list\n        if (source.droppableId === destination.droppableId) {\n            const reordered = reorderList(dragGroup.layers, source.index, destination.index); \n            newGroups = groups.map(x => (x.id === dropGroup.id ? {...x, layers: reordered } : x));\n            return updateHouseModel(newGroups);\n        }\n       \n        // moving to different lists -- merge object? \n            let target = dragGroup.layers[source.index];\n            let newTarget = changeColor(target, dropGroup.zone);\n            dragGroup.layers.splice(source.index, 1); //remove item from drag row\n            dropGroup.layers.splice(destination.index, 0, newTarget); // add item to drop row\n            newGroups = groups.map(group => {\n                if(source.droppableId === group.id) {\n                    return dragGroup;\n                } else if (destination.droppableId  === group.id) {\n                    return dropGroup;\n                }\n                return group;\n            })\n            updateHouseModel(newGroups);\n    };\n    \n\n    const addRow = (rows) => {\n        const ungrouped = groups[groups.length - 1]; //ungrouped object \n        groups.splice((groups.length - 1), 1);\n        const newGroup = {\n                        id: `${groups.length}`,\n                        label: `Group ${groups.length + 1}`,\n                        slug: `group-${groups.length + 1}`,\n                        zone: \"clay\", //DEFAULT ZONE GOES HERE \n                        layers: []\n                }\n        const newGroups = [...groups, newGroup, ungrouped];\n        updateHouseModel(newGroups);\n    };\n    \n    const deleteRow = async (group) => {\n        let newGroups; \n        let groupsRemaining = groups.filter(el => el.id !== group.id);\n        if(group.layers.length) { //redistribute layers if they exist\n            const ungrouped = groups[groups.length - 1].layers;  //get ungrouped layers \n            const newUngrouped = [...ungrouped, ...group.layers]; //move row's layers to ungrouped layers     \n                newGroups = groupsRemaining.map(x => {\n                    if(x.id === \"ungrouped\") {\n                        return {\n                            ...x,\n                            layers: newUngrouped\n                        }\n                    } return x\n                });\n            } else {\n                 newGroups = groupsRemaining;\n            }\n       await updateHouseModel(newGroups);\n    }\n\n    return {\n        groups,\n        reorderRows,\n        addRow,\n        deleteRow\n    }\n}","import React from 'react';\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\n \nconst SwitchSlide = (props) => {          \n    return (\n        <SwitchTransition mode=\"out-in\">\n            <CSSTransition key={props.state}\n                        timeout={350} \n                        classNames=\"rollOutX\" \n                        addEndListener={(node, done) => {\n                            node.addEventListener(\"transitionend\", \n                                    done, false);\n                            }}> \n                    {props.children}\n            </CSSTransition>\n     </SwitchTransition>\n    );\n}\n \nexport default SwitchSlide;\n\n","import React, { useState } from 'react'; \nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport Group from './Group'; \nimport AddGroup from './AddGroup';\nimport { VscArrowSmallLeft, VscArrowSmallRight } from 'react-icons/vsc';\nimport useMapKey from '../../../hooks/house/useMapKey';\nimport SwitchSlide from '../../animate/SwitchSlide';\n\nconst DnDMenu = (props) => {  \n    const { groupArray } = props;\n\n    const {\n        groups, \n        rows,\n        reorderRows,\n        addRow, \n        deleteRow } = useMapKey(groupArray); \n\n    const [hide, hideMenu] = useState(false); \n    \n    return ( \n    <SwitchSlide state={hide}>\n        <div className=\"dnd__wrapper\"> \n            {hide \n                ? <VscArrowSmallLeft className=\"icon icon__btn expandX\" onClick={() => hideMenu(false)}/>\n                : <DragDropContext \n                    onDragEnd={({ destination, source }) => {\n                        if (!destination) { // dropped outside the list\n                            return;\n                            }\n                        reorderRows(groups, source, destination);\n                        }}\n                    >\n                            <div className=\"dnd__header\">\n                                <AddGroup handleClick={() => (addRow(rows))}/>\n                                <VscArrowSmallRight className=\"icon icon__btn expandX\" onClick={() => hideMenu(true)}/>\n                            </div>\n                            <div className=\"dnd\">\n                                {groups && groups.map((group) => {\n                                    return( \n                                    <Group \n                                        internalScroll\n                                        key={group.id}\n                                        listId={group.id}\n                                        listType=\"CARD\"\n                                        group={group} \n                                        layers={group.layers}\n                                        deleteRow={deleteRow}\n                                        {...props}\n                                        />    \n                                )}\n                            )}\n                    </div>\n            </DragDropContext>}\n        </div>\n    </SwitchSlide>\n    )\n} \n \nexport default DnDMenu;","import React from 'react';\nimport useHouseLegend from '../../hooks/house/useHouseLegend';\n\nexport default function HouseLegend(){\n    const { house, boarders } = useHouseLegend(); \n    \n    return (\n        <div className=\"houseLegend\">\n            {boarders && \n                <>\n                    <div className=\"popup__header\">\n                        <h4 className=\"lightest\">{house}</h4> \n                    </div>\n                        {boarders.map(boarder => {\n                            return(\n                                <h4 className=\"light popup__item\" key={boarder}>\n                                    @{boarder} \n                                </h4> \n                            )\n                        })}\n                </>}\n        </div>\n    )\n}","import { useState, useContext, useEffect } from 'react';\nimport { UserContext } from '../UserContext';\nimport axios from 'axios'; \n\nexport default function useHouse() {\n    const { user } = useContext(UserContext);\n\n    const [house, setHouse] = useState(null);\n    const [boarders, setBoarders] = useState([]);\n    \n    useEffect(() => { \n        //set house name\n        const houseName = user.house.house;\n            \n        //look up boarders by id to get usernames\n        const usernames = user.house.boarders.map(boarderId => {\n            return axios.get(`/users/${boarderId}`).then(res => {\n                const username = res.data.data.doc.username;\n                return username; \n            }).catch(err => console.log(err)); \n        });\n\n        Promise.all(usernames).then(res => setBoarders(res));\n        setHouse(houseName); \n\n    }, [user])\n\n    return {\n        house,\n        boarders\n    }\n}","import React from 'react';\nimport Grid from '../../utils/Grid';\nimport Subtitle from './Subtitle';\nimport PostCell from './PostCell';\nimport DnDMenu from '../../components/dnd/menu/DnDMenu';\n//import Line from '../../atoms/Line'; \nimport HouseLegend from '../../components/modals/HouseLegend';\n\nconst LayerView = (props) => { \n\n    return (\n        <>\n        <div className=\"map__key\">\n            <HouseLegend/> \n            <DnDMenu groupArray={props.groups} \n                    hoverId={props.hoverId}  \n                    setHoverId={props.setHoverId}/> \n        </div>    \n        <div className=\"map__canvas\">\n            {props.groups.map((group, i) => {\n                return (\n                <div className=\"groupGrid\" key={i}>\n                    <Subtitle slug={group.slug} label={group.label}\n                                p=\"1rem\" heavy/>\n                   \n                    <Grid columns=\"repeat(3, minmax(0, 1fr))\" gap={1.5}>\n                        {group.layers.map(layer => {\n                            return (\n                                <div className=\"groupGrid__cell\" key={layer.slug}>\n                                    <Subtitle slug={`${layer.slug}`} label={layer.label}/>\n                                        <PostCell id={layer.id} squeeze={props.squeeze}/>\n                                </div>\n                                )\n                            })}\n                        </Grid>\n                    </div>\n                    )\n                })}\n            </div>\n        </>\n    );\n}\n \nexport default LayerView;\n\n// is there ever a situation w/ no groups? \n\n//send correct array of posts to cell by key value pair                                \n","import React from 'react';\n\nconst PathList = ({ items }) => {\n\n    return (\n        <>\n         {(items && items.length > 0) \n                ?   \n                items.map(tag => {\n                return (\n                    <div className=\"drawer__item\" key={tag._id}>\n                        <div className=\"tagPreview\"> \n                            <span className=\"tagPreview__color\" \n                                    style={{backgroundColor:tag.color}}>\n                            </span>\n                            <h4>{tag.tag}</h4> \n                        </div>\n                    </div>\n                        )\n                    })\n                : <p className=\"fullWidth flex justifyCenter\">\n                No paths yet\n            </p>\n            }\n        </>\n    );\n}\n \nexport default PathList;","import React, { useState } from 'react';\nimport { VscArrowSmallLeft, VscArrowSmallRight } from 'react-icons/vsc';\nimport SwitchSlide from '../animate/SwitchSlide';\n\nconst SlideMenu = (props) => { \n    \n    const [hide, hideMenu] = useState(false); \n\n    return (\n        <SwitchSlide state={hide}>\n            <div className=\"slide\">\n                {hide \n                    ? <VscArrowSmallLeft className=\"icon icon__btn expandX\" onClick={() => hideMenu(false)}/>\n                    : <VscArrowSmallRight className=\"icon icon__btn expandX\" onClick={() => hideMenu(true)}/> }\n                {hide \n                    ? null\n                    :  <> {props.children}\n                    </>}\n            </div>\n        </SwitchSlide>\n    );\n}\n \nexport default SlideMenu;","import React, { useEffect, useRef } from 'react';\nimport usePositionPoints from '../../hooks/usePositionPoints';\nimport Fade from '../../components/animate/Fade';\n\nconst PathCellContent = ({ posts, color, squeeze }) => {\n    const cellRef = useRef(null);\n\n    const { getPinPos, pins } = usePositionPoints(); \n\n      useEffect(() => {\n        getPinPos(posts, color);\n      }, []);\n\n    if(!posts) {\n        return null;\n    }\n\n    return ( \n        <div className=\"pathCell--posts\" ref={cellRef} \n                style={{height: squeeze ? '5vw' : `${(posts.length*10)}vw`}} >\n            <Fade in={!squeeze}>\n                {pins && pins} \n            </Fade>\n        </div>\n    );\n}\n \nexport default PathCellContent;\n\n","import { useState, useRef } from 'react';\nimport Pin from '../atoms/Pin';\nimport groupBy from 'lodash/groupBy';\n\nexport default function usePositionPoints() {\n    const cellRef = useRef(null);\n\n    const [pins, setPins] = useState(null);\n\n    const getPinPos = async(posts, color) => {\n        const radius = 50;\n        const center = 50;\n        \n        if(posts.length) {\n            const pins = posts.map(post => {\n                const r = radius * Math.random();\n                const a = 2 * Math.PI * Math.random();\n        \n                const x = Math.round(r * Math.cos(a) + center);\n                const y = Math.round(r * Math.sin(a) + center);\n                return (\n                    < Pin key={post._id} \n                        post={post}\n                        tags={groupBy(post.tags, 'tag')}\n                        x={x} y={y} \n                        color={color}\n                        path />\n                )\n            });\n            setPins(pins);\n        }\n    }\n\n    return {\n        cellRef,\n        getPinPos,\n        pins\n    }\n}","import React, { useEffect } from 'react';\nimport useLayerPosts from '../../hooks/layers/useLayerPosts';\nimport PathCellContent from './PathCellContent';\n\nconst PathCell = ({ path, squeeze }) => {\n\n    const { \n        posts, \n        getPathPosts,\n        loading\n         } = useLayerPosts(); \n\n    useEffect(() => {\n        async function onPageLoad() { \n            await getPathPosts(path._id);\n        };\n            onPageLoad();\n    }, []);\n \n    if(loading) {\n        return null;\n    }\n\n    return ( \n        <div className=\"pathCell\">\n            <PathCellContent posts={posts} \n                        color={path.color}\n                        squeeze={squeeze}\n                        />\n        </div>\n       \n    );\n}\n \nexport default PathCell;\n","import React from 'react';\nimport Grid from '../../utils/Grid';\nimport PathList from '../../atoms/PathList';\nimport SlideMenu from '../../components/menus/SlideMenu';\nimport Subtitle from './Subtitle';\nimport slugify from 'react-slugify';\nimport PathCell from './PathCell';\nimport HouseLegend from '../../components/modals/HouseLegend';\n\n\nconst PathView = ({ paths, squeeze }) => {\n    return ( \n        <>\n        <div className=\"map__key\">\n        <HouseLegend/> \n               <SlideMenu>\n                   <PathList items={paths}/>\n               </SlideMenu>\n        </div>\n         <div className=\"map__canvas\">\n            <Grid columns=\"repeat(3, 1fr)\" autoRows=\"auto\" gap={1.5}>\n                {paths.map(path => {\n                    return (\n                        <div className=\"groupGrid__cell\" key={path._id}>\n                            <Subtitle label={path.tag} slug={`/path/${slugify(path.tag)}`}/>\n                            <PathCell path={path} squeeze={squeeze}/>\n                        </div>\n                    )\n                })}\n            </Grid>\n        </div> \n        </>\n    );\n}\n \nexport default PathView;\n\n","import React from 'react';\n\nexport default function Button(props) {\n\n    return (\n        <button type=\"button\" \n            className={`btn ${props.active ? 'active' : ''}`} \n            onClick={props.handleClick}\n                data-id={props.dataId}>\n            {props.icon}\n        </button>\n    )\n}","import React from 'react';\n\nexport function TooltipBtn(props) { \n    const { \n        direction, \n        button, \n        tooltips, \n        getTooltip, \n        hideTooltip } = props; \n\n    return (\n        <div className={`tooltipWrapper tooltipWrapper--${direction}`} \n            data-id={button.id}\n            data-label={button.name}\n            onMouseEnter={getTooltip}\n            onMouseLeave={hideTooltip}\n            onClick={props.handleClick}\n                >\n            <button type=\"button\"\n                    className=\"btn\"\n            >\n                {button.icon}\n            </button>\n            <Tooltip tooltip={button.name}\n                     id={button.id}\n                     show={tooltips[button.id] || false}\n                     direction={direction}\n            />\n        </div>\n    )\n\n}\n\nexport function Tooltip(props) {\n    const { tooltip, show, direction } = props;\n\n//row style is default for row and solo \nconst style = { \n    column: { top: '50%',\n        transform: 'translate(4rem, -50%)' },\n    row: { left: '50%',\n        transform: 'translate(-50%, -5rem)' }\n};\n    return(\n        <>\n        {show &&\n                <div className=\"tltp\" \n                style={(direction === 'column') ? style.column : style.row}>\n                    <h4>{tooltip}</h4> \n                </div>\n        }\n       </>\n    )\n}\n\n\n","import { useEffect, useState } from 'react';\n\nexport default function useToolTipButtons(btns) {\n    const [tooltips, setTooltips] = useState([]);\n    const initArray = btns.map(btn => false);\n\n    const hideTooltip = () => {\n        setTooltips(initArray);\n    }\n\n    useEffect(() => {\n        //set init state\n        hideTooltip();\n    }, [btns]);\n\n    const getTooltip = (e) => {\n        //clear all tooltips before getting a new one \n        const i = e.currentTarget.dataset.id;\n        initArray[i] = !initArray[i];\n        setTooltips(initArray);\n    }\n\n    return {\n        tooltips,\n        getTooltip,\n        hideTooltip,\n    }\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Button from './Button';\nimport { ZOOM_IN_BTN, ZOOM_OUT_BTN } from '../../data/buttons'; \nimport { TooltipBtn } from './TooltipBtn';\nimport useTooltipButtons from '../../hooks/useToolTipButtons'; \n \nconst NavBar = (props) => { \n    const { buttons, direction, zoomIn, setZoom } = props;\n    const { tooltips, getTooltip, hideTooltip } = useTooltipButtons(buttons); \n\n    return(\n        <div className=\"nav__wrapper\">\n          {zoomIn ? \n            <Button icon={ZOOM_OUT_BTN.icon} dataId={ZOOM_OUT_BTN.dataId} handleClick={() => setZoom(!zoomIn)}/> \n           : <Button icon={ZOOM_IN_BTN.icon} dataId={ZOOM_IN_BTN.dataId} handleClick={() => setZoom(!zoomIn)}/> }\n        <nav className={`btnbarWrapper ${direction}`}>\n            {buttons.map((btn, i) => {\n                return ( \n                    <NavLink to={`/${btn.url}`} className={`navBtn--${direction}`}  key={btn.id}>  \n                        <TooltipBtn \n                            button={btn} \n                            tooltips={tooltips}\n                            getTooltip={getTooltip}\n                            hideTooltip={hideTooltip}\n                            {...props}\n                            />\n                        </NavLink>\n                            )\n                })} \n                {props.squeezeBtn.map((button, i) => {\n                    return ( \n                        <TooltipBtn key={button.id} \n                            button={button} \n                            tooltips={tooltips}\n                            getTooltip={getTooltip}\n                            hideTooltip={hideTooltip}\n                            handleClick={props.handleExpandClick}\n                            {...props} />\n                        )\n            })}\n        </nav>  \n        </div>\n    )\n}\n\nexport default NavBar;\n\n\n\n\n\n\n\n/*\n{props.squeezeBtn.map((button, i) => {\n                    return ( \n                        <TooltipButton key={i} \n                        button={button} \n                        handleClick={props.handleExpandClick}\n                        {...props} />\n                        )\n    })}\n*/\n ","import React from 'react';\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\n \nconst SwitchFade = (props) => {          \n    return (\n        <SwitchTransition mode=\"out-in\">\n            <CSSTransition key={props.state}\n                        timeout={350} \n                        classNames=\"fade\" \n                        addEndListener={(node, done) => {\n                            node.addEventListener(\"transitionend\", \n                                    done, false);\n                            }}> \n                    {props.children}\n            </CSSTransition>\n     </SwitchTransition>\n    );\n}\n \nexport default SwitchFade;\n\n","import React from 'react';\n \nexport default function ExpandButton( { squeeze } ) {\n    let margin; \n    squeeze ? margin = '2px' : margin = '6px'; \n    return(\n        <>\n       <div className=\"flex column\"> \n            <d is=\"dot\" style={{margin:margin}}></d>\n            <d is=\"dot\" style={{margin:margin}}></d>\n        </div>\n\n        <div className=\"flex column\">\n            <d is=\"dot\" style={{margin:margin}}></d>\n            <d is=\"dot\" style={{margin:margin}}></d>\n        </div>\n        </>\n    )\n}","import React, { useState, useContext } from 'react';\nimport Header from '../sections/Header';\nimport LayerView from '../sections/views/LayerView';\nimport PathView from '../sections/views/PathView';\nimport NavBar from '../components/btns/NavBar';\nimport HouseLegend from '../components/modals/HouseLegend';\nimport { navButtons } from '../data/buttons';\nimport useRefreshLayers from '../hooks/layers/useRefreshLayers';\nimport { UserContext } from '../hooks/UserContext';\nimport SwitchFade from '../components/animate/SwitchFade';\nimport useSqueeze from '../hooks/useSqueeze';\n\nexport default function Home() {\n    const { groups, globalTags } = useContext(UserContext);\n    useRefreshLayers();\n    \n    //set view \n    const [zoomIn, setZoom] = useState(true); \n\n    //set squeeze\n    const { squeeze, squeezeBtn, handleSqueeze } = useSqueeze();\n\n    return ( \n        <div className=\"page\">  \n            <Header/> \n            <div className=\"map\">\n                <div className=\"map__nav\">\n                    <NavBar buttons={navButtons} \n                            squeezeBtn={squeezeBtn} \n                            direction=\"row\"\n                            handleExpandClick={handleSqueeze} \n                            squeeze={squeeze}\n                            zoomIn={zoomIn} \n                            setZoom={setZoom} />\n                </div>\n                <SwitchFade state={zoomIn}>\n                    {zoomIn \n                        ?   <LayerView groups={groups} squeeze={squeeze}\n                            />\n                        :   <PathView paths={globalTags} squeeze={squeeze}\n                            /> } \n                </SwitchFade>\n                </div>\n                \n        </div>\n    )\n}; ","import { useContext, useEffect } from 'react';\nimport { UserContext } from '../UserContext';\n\nexport default function useGroupLayersById() {\n    const { groups, setRooms } = useContext(UserContext);\n\n    useEffect(() => { \n        const layerArrs = groups.map(el => {\n            return el.layers\n        });\n\n        setRooms(layerArrs.flat()); \n    }, [groups]);\n}","import { useState } from 'react';\nimport ExpandButton from '../atoms/ExpandButton';\n\nexport default function useSqueeze() {\n    const [squeeze, setSqueeze] = useState(false);\n\n    const handleSqueeze = () => { setSqueeze(!squeeze); }\n\n    const squeezeBtn = [\n        {id: 4, \n        name: 'squeeze', \n        type: 'bottom', \n        icon: <ExpandButton className=\"icon icon__btn\" squeeze={squeeze} data-id=\"squeeze\"/> }\n    ];\n\n    return {\n        squeeze,\n        squeezeBtn,\n        handleSqueeze\n    }\n}","import React, { useRef, useEffect } from 'react';\nimport autosize from 'autosize';\n\nexport default function InlineComment(props) {\nconst commentRef = useRef(null);\n\n    useEffect(() => {\n        autosize(commentRef.current);\n    }, []);\n\n    return (\n        <textarea className=\"input input--white inlineComment\" name=\"comment\" placeholder=\"Comment...\"\n        ref={commentRef} \n        contentEditable={true} suppressContentEditableWarning={true} \n        onChange={props.handleChange} \n        value={props.comment}  \n        onKeyDown={props.handleKeyDown}\n        />\n    )\n}\n\n","import React, { useEffect, useState, useContext } from 'react';\nimport { VscClose } from 'react-icons/vsc';\nimport { UserContext } from '../hooks/UserContext';\n\nexport default function Comment({ comment, deleteComment }) {\n    const { user } = useContext(UserContext);\n    const [commentAuthor, setAuthor] = useState('');\n    const [isAuthor, checkAuthor] = useState(false);\n\n    useEffect(() => { //set comment author\n        if(comment.user.username) {\n            setAuthor(comment.user.username)\n        } else {\n            setAuthor(user.username);\n        }\n    }, [user, comment]);\n\n    useEffect(() => { //check if comment author is current user --> if so, show delete btn\n        if(user.username === commentAuthor) {\n            return checkAuthor(true);\n        }\n    }, [commentAuthor, user]);\n\n    return (\n        <div className=\"comment\">\n            <div className=\"comment__body\">\n                <div className=\"comment__X\"> \n                    {isAuthor && <VscClose data-id={comment._id} className=\"icon icon__btn icon--small\"\n                                            onClick={(e) => deleteComment(e)} />}\n                </div>\n                <h4 className=\"comment__text\">{comment.comment}</h4>\n            </div>\n            <h6 className=\"comment__author\">{commentAuthor}</h6>\n        </div>\n    )\n}","import React from 'react';\nimport Comment from './Comment';\n\nexport default function CommentList({ postComments, deleteComment }) {\n    \n    return(\n        <>\n        {postComments && postComments.length !== 0 \n            ? \n            <div className=\"commentList\">\n            <h4 className=\"lightest\">comments</h4>\n            {postComments.map(comment => {\n                return (\n                    <Comment comment={comment} key={comment._id} deleteComment={deleteComment}/>\n                )\n                }) }\n            </div>\n            : <h4 className=\"lightest\">no comments</h4>\n        }\n        </>\n    )\n}","import React from 'react';\nimport TagPreview from '../../../atoms/TagPreview';\n\nconst EditPostTags = ({ tags }) => {\n\n    if(Object.keys(tags).length !== 0){\n        return ( \n            <>\n        <h4 className=\"lightest\">tags</h4>\n            {Object.entries(tags).map(([key, value]) => { \n            return ( \n                <TagPreview \n                        tag={key} \n                        count={value.length} \n                        color={value[0].color} \n                        key={key}/> \n                    ) \n                })}\n            </>\n        )} else {\n            return <h4 className=\"lightest\">no tags</h4>\n        }\n\n\n}\n \nexport default EditPostTags;","import React from 'react';\nimport useComment from '../hooks/posts/useComment';\nimport InlineComment from '../components/InlineComment';\nimport CommentList from '../components/CommentList';\nimport { VscTrash } from 'react-icons/vsc';\nimport EditPostTags from '../components/posts/edit/EditPostTags';\n\nexport default function EditSidebar({ post, tags, handleDeleteDetail }) { \n\n    const { data, handleKeyDown, handleChange, deleteComment } = useComment(post._id);\n\n    return(\n        <div className=\"edit__sidebar\"> \n        <div className=\"edit__metadata\">\n                    <h4 className=\"lightest\">created by</h4>\n                    <h4 className=\"light\">\n                        {post.user.username}\n                    </h4>\n                </div>\n                <div className=\"edit__metadata\">\n                    <h4 className=\"lightest\">created on</h4>\n                    <h4 className=\"light\">\n                        {post.date}\n                    </h4>\n                </div>\n                <div className=\"edit__metadata\">\n                   <EditPostTags tags={tags}\n                   />\n                </div>\n                <div className=\"edit__metadata\">\n                    <CommentList postComments={data.postComments} \n                                deleteComment={deleteComment}\n                        />\n                </div>\n                            <InlineComment \n                                    handleChange={handleChange} \n                                    handleKeyDown={handleKeyDown} \n                                    comment={data.comment}\n                            />\n                            <VscTrash className=\"icon icon__btn icon--warning editPost__trash\" \n                                        data-id={post._id} onClick={handleDeleteDetail}\n                                    />\n            </div>\n    )\n}","import { useReducer, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { UserContext } from '../UserContext';\n\nexport default function useComment( post ) {\n    const { user } = useContext(UserContext);\n\n    const state = { \n        postComments: [],\n        comment: ''\n    }\n\n    const reducer = (state, action) => {\n        switch(action.type) {\n            case \"getComments\": \n                return { ...state, postComments: action.c};\n            case \"writeComment\":\n                return { ...state, comment: action.comment};\n            case \"addComment\":\n                return { ...state, postComments: state.postComments.concat(action.newComment)};\n            case \"deleteComment\":\n                return { ...state, postComments: state.postComments.filter(el => el._id !== action.id)};\n            default: \n                return state;\n        }\n    };\n\n    const [data, dispatch] = useReducer(reducer, state);\n\n//get post's comments\n    useEffect(() => {\n        async function getPostTags() {\n           await axios.get(`/comments/${post}`)\n                .then(res =>{\n                    const c = res.data.data.comments;\n                    dispatch({type: \"getComments\", c}) \n            }).catch(err => console.log(err));\n        };\n        getPostTags();\n    }, [post]);\n\n    //write comment\n    const handleChange = (e) => {\n        dispatch({type: \"writeComment\", comment: e.target.value});\n    }\n\n    //add comment on enter press \n    const handleKeyDown = (e) => {\n        if(e.keyCode === 13 && e.target.value !== '') { //submit comment if enter press and comment is not empty\n            axios.post('/comments', {\n                post,\n                user,\n                comment: e.target.value\n            }).then(res => {\n                const newComment = res.data.data.doc;\n                dispatch({type: \"addComment\", newComment})\n                dispatch({type: \"writeComment\", comment: ''});   \n            })\n            \n       }\n    }\n\n    //delete comment \n    const deleteComment = (e) => {\n        const id = e.currentTarget.dataset.id;\n       axios.delete(`/comments/${id}`)\n        .then(() => {\n           dispatch({type: \"deleteComment\", id })\n        }).catch(err => console.log(err));\n    }\n\n    return {\n        data,\n        handleChange,\n        handleKeyDown,\n        deleteComment\n    }\n}","import React from 'react';\nimport { ReactTinyLink } from 'react-tiny-link';\n\nconst LinkCard = ({ link }) => {\n    return(\n    <div className=\"linkCard\">\n    <ReactTinyLink \n        showGraphic={false}\n        width={'10vw'}\n        url={link}\n        header={\"\"}\n        description={\"\"}\n        minLine={0}\n        />\n    </div>\n    )\n}\n\nconst LinkPreview = ({ link }) => {\n    return(\n    <ReactTinyLink\n        cardSize=\"small\"\n        showGraphic={true}\n        maxLine={4}\n        minLine={1}\n        url={link}\n        />\n    )\n}\n\nconst LinkDetail = ({ link }) => {\n    return(\n        <ReactTinyLink\n            cardSize=\"large\"\n            showGraphic={true}\n            maxLine={2}\n            minLine={1}\n            url={link}\n            />\n    )\n}\n\nexport { \n    LinkPreview,\n    LinkCard,\n    LinkDetail\n};","import React, { useContext, useState, useEffect } from 'react';  \nimport { UserContext } from '../UserContext';\nimport { EditorState, convertFromRaw, CompositeDecorator, RichUtils, getDefaultKeyBinding } from 'draft-js';\n\nexport default function useEditPost() {\n    const { globalTags } = useContext(UserContext);\n    const tags = globalTags;\n    let tagNames;\n    if(tags && tags.length > 0) { tagNames = tags.map(el => el.tag); }\n \n    const editRef = React.createRef();\n\n    const [isReadOnly, setEditable] = useState(true);\n    const [editorState, setEditorState] = useState(EditorState.createEmpty());\n    \n    const onNoteChange = (editorState) => { setEditorState(editorState); }\n    const editNote = () => { setEditable(!isReadOnly); }\n\n    useEffect(() => {\n        if(!isReadOnly) { //set note in focus if it's being edited \n        editRef.current.focus();\n        }\n    }, [isReadOnly]);\n\n        //display notes on tiles and detail pg \n        const displayNoteBody = async (post) => { \n            const contentState = convertFromRaw(JSON.parse(post.content)); \n            let newEditorState; \n\n            if (tagNames) { // decorate tags if tags exist/have been retrieved \n                const TAGS_REGEX = new RegExp(tagNames.join(\"|\"), \"gi\");\n                const findWithRegex = (regex, contentBlock, callback) => {\n                    const text = contentBlock.getText();\n                    let matchArr, start, end;\n                    while ((matchArr = regex.exec(text)) !== null) {\n                        start = matchArr.index;\n                        end = start + matchArr[0].length;\n                        callback(start, end); \n                    }\n                }\n\n                function findTags(contentBlock, callback, contentState) {\n                    findWithRegex(TAGS_REGEX, contentBlock, callback);\n                };\n\n                const highlightSpan = (props) => {\n                    const tag = props.decoratedText.toLowerCase();\n                    const c = tags.find(obj => obj.tag === tag).color;   \n                    return (\n                        <span className=\"editorTag\" style={{ backgroundColor: c }}>\n                            {props.children}\n                        </span>\n                        )}\n\n                    const decorator = new CompositeDecorator([\n                        { strategy: findTags,\n                        component: highlightSpan }\n                    ]);\n\n                newEditorState = EditorState.createWithContent(contentState, decorator); \n                return setEditorState(newEditorState);\n\n                } else { // without tags, just fill content \n                    console.log('no tags');\n                newEditorState = EditorState.createWithContent(contentState); \n                return setEditorState(newEditorState);\n                } \n            }\n\n       //rich text fxns\n    //handle keyboard shortcuts like cmd+b for bold \n    const handleKeyCommand = (command, editorState) => {\n        const newState = RichUtils.handleKeyCommand(editorState, command);\n        if(newState) {\n            onNoteChange(newState);\n            return 'handled';\n        }\n        return 'not-handled';\n    };\n\n    const mapKeyToEditorCommand = (e) => {\n        if (e.keyCode === 9 /* TAB */) {\n            e.preventDefault();\n            const newEditorState = RichUtils.onTab(e, editorState, 4);\n        if (newEditorState !== editorState) {\n            onNoteChange(newEditorState);\n        }\n        return;\n        }\n        return getDefaultKeyBinding(e);\n    }\n\n    //style functions \n        const toggleInlineStyle = (e) => {\n            e.preventDefault();\n            let inlineStyle = e.currentTarget.dataset.id;\n            onNoteChange(RichUtils.toggleInlineStyle(editorState, inlineStyle));\n        }\n\n        const toggleBlockType = (e) => {\n            e.preventDefault();\n            let blockType = e.currentTarget.dataset.id;\n            onNoteChange(RichUtils.toggleBlockType(editorState, blockType));\n        }\n\n        const setFocus = () => {\n            editRef.current.focus();\n        };     \n\n    return {\n        tags,\n        displayNoteBody,\n        editorState,\n        setEditorState,\n        onNoteChange,\n        editNote,\n        isReadOnly,\n        handleKeyCommand,\n        mapKeyToEditorCommand,\n        toggleInlineStyle,\n        toggleBlockType,\n        setFocus,\n        editRef\n    }\n}\n\n","import React, { useState, useRef } from 'react';\nimport { VscChevronDown } from 'react-icons/vsc';\nimport { CSSTransition } from 'react-transition-group'; \n\nexport default function SelectMenu({ items, active, selectItem }) { \n    const nodeRef = useRef(null);\n    const list = items.filter(item => item.label !== active); \n    const [menu, setMenu] = useState(false);\n \n    return( \n        <div className=\"selectmenu\">\n            <h4 className=\"selectmenu__picked\" onClick={() => setMenu(!menu)}> \n                {active} \n                <VscChevronDown className=\"icon icon__btn selectmenu__expand\"/> \n            </h4> \n              <CSSTransition in={menu} timeout={700} nodeRef={nodeRef} classNames=\"rollDown\" unmountOnExit> \n                <menu className=\"selectmenu__dropdown\" ref={nodeRef}>\n                    {list.map(item => {\n                        return (\n                            <li className=\"selectmenu__item\" key={item.id} data-id={item.id} onClick={(e) => selectItem(e) }>\n                                {item.label}\n                            </li>\n                        )\n                    })}\n                </menu>\n            </CSSTransition> \n        </div>\n    )\n}","import React from 'react';\nimport { TooltipBtn } from './TooltipBtn';\nimport useToolTipButtons from '../../hooks/useToolTipButtons';\n\nexport default function TooltipBar(props) { \n    const { buttons, direction } = props;\n    const { tooltips, getTooltip, hideTooltip } = useToolTipButtons(buttons);\n\n    return(\n        <menu className={`btnbarWrapper ${direction}`}> \n            {buttons.map(btn => {\n                return(\n                    <TooltipBtn key={btn.id}\n                                button={btn} \n                                tooltips={tooltips}\n                                getTooltip={getTooltip}\n                                hideTooltip={hideTooltip}\n                                handleClick={props.handleClick}\n                                {...props}/>\n                )\n            })}\n        </menu>\n    )\n}","import React from 'react'; \nimport Button from './Button';\nimport SelectMenu from '../menus/SelectMenu'; \nimport { HEADINGS, INLINE_STYLES, BLOCK_TYPES, ADD_PATH } from '../../data/buttons';\nimport TooltipBar  from './TooltipBar';\n\nexport default function Toolbar(props) {\n  const currentInlineStyle = props.editorState.getCurrentInlineStyle();\n  const selection = props.editorState.getSelection();\n  const blockType = props.editorState.getCurrentContent()\n    .getBlockForKey(selection.getStartKey())\n    .getType();\n\n  const setBlockType = (e) => { \n      e.preventDefault()\n      props.toggleBlockType(e);\n  }\n \n    return (\n        <div className={`toolbar ${props.styled ? `toolbar--styled` : ''}`}>\n            {INLINE_STYLES.map((type) => {\n                return (\n                  //this keeps the focus w/n the editor on inline style change\n                  <div data-id={type.style} key={type.style}\n                        onMouseDown={(e) => { \n                            e.preventDefault();\n                            props.onToggleInline(e);\n                          }}>\n                <Button key={type.label}  \n                        icon={type.icon}\n                        active={currentInlineStyle.has(type.style)}\n                        dataId={type.style}\n                        />\n                    </div>\n                    )   \n                })}\n            {BLOCK_TYPES.map((type) => {\n                return (\n                  <div data-id={type.style} key={type.style}\n                          onMouseDown={setBlockType}>\n                    <Button icon={type.icon}\n                            active={type.style === blockType}\n                            dataId={type.style}\n                            />\n                    </div> \n                    )\n                })}\n               <SelectMenu \n                  items={HEADINGS} \n                  active={(blockType.substring(0,6) === 'header') ? blockType : 'paragraph'} \n                  selectItem={setBlockType}/> \n\n                {props.addTag && \n                    <div onMouseDown={(e) => { \n                        e.preventDefault();\n                        props.addTagFromNote(e);\n                      }}>\n                          <TooltipBar \n                            handleClick={props.addTagFromNote}\n                            buttons={ADD_PATH} \n                            direction=\"solo\"/> \n                      </div>\n              }\n        </div>\n    )\n}\n\n","//filters \nexport const zoom = ['100%', '25%', '5%'];\nexport const sort = ['date', 'tag', 'boarder'];\n\n//style\n//inline edit title \nexport const PAGE_TITLE = { \n        fontFamily: 'Work Sans, sans-serif', \n        fontSize: '1.5rem',\n        fontWeight: 300,\n        letterSpacing: '0.5px'\n}\n\nexport const getUniqueTags = (items) => {\n        const uniqueTags =  Array.from(new Set(items.map(el => el.tag)))\n                .map(tag => { const uniqueTag = items.find(el => el.tag === tag);\n                return uniqueTag;\n        });\n        return uniqueTags;\n}\n\nexport const getUrlBase = (url) => {\n        url = url.substr(0, url.lastIndexOf('/'));\n        return url;    \n}","import { useLocation, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { getUrlBase } from '../../pages/layer/layer_data';\n\n//update, delete, open posts \nexport default function useManagePosts() {\nlet history = useHistory();\nlet location = useLocation();\n\n//DELETE \nconst deletePost = async (id) => {\n    await axios.delete(`/posts/${id}`)\n        .catch(err => console.log(err));\n    };\n\n//UPDATE \n    const updatePost = async(note, id) => {\n        await axios.put(`/posts/${id}`, {\n            content: note\n        }).catch(err => console.log(err));\n    };\n\nfunction openPost(e) {\n    const postId = e.currentTarget.dataset.id;\n    history.push(`${location.pathname}/${postId}`);\n} \n\n    async function handleDeleteDetail(e) {\n       await deletePost(e.currentTarget.dataset.id);\n       const url = getUrlBase(location.pathname);\n       history.push(url);\n}\n    \n    return {\n        openPost,\n        updatePost,\n        deletePost,\n        handleDeleteDetail\n    }\n\n}\n","import React, { useEffect, useRef } from 'react';\nimport { useParams, useLocation, Link } from 'react-router-dom';\nimport InlineButton from '../components/btns/InlineButton';\nimport { Editor, convertToRaw } from 'draft-js';\nimport EditSidebar from './EditSidebar'; \nimport { LinkDetail } from '../components/posts/LinkPreview';\nimport useEditPost from '../hooks/posts/useEditPost'; \nimport Toolbar from '../components/btns/Toolbar';\nimport { VscClose, VscEdit } from 'react-icons/vsc';\nimport { CSSTransition } from 'react-transition-group';\nimport useManagePosts from '../hooks/posts/useManagePosts';\nimport usePostDetail from '../hooks/posts/usePostDetail';\nimport { getUrlBase } from '../pages/layer/layer_data';\n\nexport default function Edit({ openPost }) { \n    const nodeRef = useRef(null);\n    const params = useParams();\n    const location = useLocation();\n\n    const { post, tags, loading, getPostDetail } = usePostDetail(params.postId);\n    \n    useEffect(() => { \n       getPostDetail();\n    }, [params.postId]);\n \n    const { displayNoteBody, \n            editorState, \n            setEditorState, \n            onNoteChange, \n            editNote, \n            isReadOnly,\n            handleKeyCommand,\n            mapKeyToEditorCommand,\n            toggleInlineStyle,\n            toggleBlockType,\n            setFocus,\n            editRef } = useEditPost();\n\n    const { updatePost, handleDeleteDetail } = useManagePosts();\n\n    useEffect(() => {\n        if(post && (post.type === 'note')) {\n            displayNoteBody(post); \n        } \n    }, [post]);\n\n    async function handleUpdatePost() {\n        const data = editorState.getCurrentContent();\n        const newNote = JSON.stringify(convertToRaw(data));\n        editNote();\n        await updatePost(newNote, post._id); \n    };\n\n    if(loading) {\n        return null; \n    }\n\n    return (\n        <div className=\"modal__background\">\n            <div className=\"edit\">\n                <Link to={getUrlBase(location.pathname)}>\n                    <div className=\"modal__X\" onClick={openPost}> <VscClose className=\"icon icon__btn\"/></div>\n                </Link> \n                <div className=\"edit__content\">\n                        <EditSidebar post={post} tags={tags} handleDeleteDetail={handleDeleteDetail}/> \n                    <div className=\"editPost\">\n                        <div className=\"editPost__header\">\n                            <CSSTransition \n                                in={!isReadOnly} timeout={350} \n                                nodeRef={nodeRef} classNames=\"fade\"\n                                unmountOnExit>\n                                <span ref={nodeRef}>\n                                    <Toolbar editorState={editorState}\n                                        onToggleInline={toggleInlineStyle}\n                                        toggleBlockType={toggleBlockType}\n                                        setFocus={setFocus}\n                                        addTag={false}/> \n                                </span>\n                                    </CSSTransition>\n                                <VscEdit className={`icon icon__btn editPost__pen ${isReadOnly ? '' : 'icon--active'}`} onClick={editNote}/>\n                        </div>\n                        {post.type === 'note' \n                        ?\n                            <div className={`editPost__noteDetail ${isReadOnly ? '' : 'active'}`}>\n                                <Editor readOnly={isReadOnly} \n                                editorState={editorState} ref={editRef}\n                                setEditorState={setEditorState}\n                                handleKeyCommand={handleKeyCommand}\n                                mapKeyToEditorCommand={mapKeyToEditorCommand}\n                                onChange={onNoteChange} />\n                            </div>   \n                            : \n                            <div className='editPost__linkDetail'>\n                                <LinkDetail link={post.content}/> \n                            </div>  \n                        }\n                        <div className={`editPost__save ${isReadOnly ? '' : 'active'}`}>\n                            <InlineButton name={\"save changes\"} handleClick={handleUpdatePost}/>\n                        </div>\n                        <div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n","import { useState } from 'react';\nimport axios from 'axios';\nimport groupBy from 'lodash/groupBy';\n\nexport default function usePostDetail(postId) {\n    const [post, setPost] = useState(null);\n    const [tags, setTags] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n    const getPostDetail = async() => {\n       return axios.get(`/posts/${postId}`)\n                .then(res => {\n            const post = res.data.data.doc;\n            setPost(post);\n            setTags(groupBy(post.tags, 'tag'));\n            setLoading(false)\n        }).catch(err => console.log(err));\n}\n\n    return {\n        post, \n        tags,\n        loading,\n        getPostDetail\n    }\n}","import React, { useRef, useEffect } from 'react'; \nimport autosize from 'autosize';\n\nexport default function TextareaEdit(\n    { value,  \n    handleClickIn, \n    handleBlur, \n    handleChange }) { \n\n    const descriptionRef = useRef(null);\n    //const [placeholder, setPlaceholder] = useState(''); \n\n\n    useEffect(() => {\n        autosize(descriptionRef.current);\n    }, []);\n\n    return(\n            <textarea type=\"text\" \n                ref={descriptionRef} \n                className=\"inlineEdit inlineText light\"\n                name=\"description\"\n                value={value}\n                onClick={handleClickIn}\n                onBlur={handleBlur}\n                onChange={handleChange}\n                rows={1}\n                //onMouseEnter={() => setPlaceholder('Optional description')}\n                //onMouseLeave={() => setPlaceholder('')} \n                //placeholder={placeholder}\n            />\n    )\n}","import React from 'react';\n\nexport default function InputEdit(\n    { style, \n    value,  \n    size,\n    handleClickIn, \n    handleBlur, \n    handleChange }) { \n\n    return(\n            <input type=\"text\"\n                className=\"inlineEdit\"\n                name = \"name\"\n                value = {value}\n                disabled={false}\n                size={size}\n                style={style}\n                onClick={handleClickIn}\n                onBlur={handleBlur}\n                onChange={handleChange}\n            />\n    )\n}","import React from 'react';\nimport CTA from '../btns/CTA';\nimport useDeleteLayer from '../../hooks/layers/useDeleteLayer';\nimport { VscClose } from 'react-icons/vsc';\nimport useDeleteGroup from '../../hooks/layers/useDeleteGroup';\n \nconst LayerModal = React.forwardRef((props, ref) => {\n    const { handleDeleteLayer } = useDeleteLayer(props.page.id); \n    const { handleDeleteGroup } = useDeleteGroup(props.page);\n    const { layer } = props; \n\n      return (  \n      <div className=\"modal__background\" onClick={(e) => props.handleOutsideClick(e)}>\n            <div className=\"modal\" ref={ref}> \n                <div className=\"modal__X\" onClick={props.toggleModal}> <VscClose className=\"icon icon__btn\"/> </div>\n                    <div className=\"modal__content\"> \n                        <h3>Delete {layer ? 'layer' : 'group'}</h3>\n                        <p style={{paddingTop:'1rem'}}>\n                        Confirm you'd like to delete this {layer ? 'layer' : 'group'}.  \n                        {layer ? ' Any posts in this layer will also be deleted.'\n                            : `All layers in this group will become ungrouped. The layers, and the posts in them, will not be deleted.`\n                            } \n                        </p> \n                        <div className=\"modal__actions\">\n                        <CTA name={\"cancel\"} kind=\"secondary\" handleClick={props.toggleModal}/> \n                        <CTA name={\"delete\"} color=\"warning\" \n                                handleClick={layer ? handleDeleteLayer : handleDeleteGroup}/>\n                    </div>\n                </div>\n            </div> \n        </div>\n    )\n});\n\nexport default LayerModal; ","import { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../UserContext';\nimport axios from 'axios';\n\nexport default function useDeleteLayer(id) {\n    let history = useHistory();\n    const { setGroups, groups, user } = useContext(UserContext);\n    const house = user.house._id;\n\n    const pushUser = async () => {\n        history.push('/');\n    }\n\n    //GET GROUPS\n    const getAllRooms = async () => {\n            return axios.get(`/houses/${house}`)\n            .then(res => {\n                const allGroups = res.data.data.doc.groups;\n                setGroups(allGroups);\n            }).catch(err => console.log(err)); \n    }\n\n    //DELETE LAYER \n    const deleteLayer = async (id) => {         \n        //remove layer from its group array \n        let targetGroup;\n        let groupCopy = [...groups];\n\n        //get group that contains deleted layer \n        groups.forEach(group => {\n                group.layers.forEach(layer => { \n                    if(layer.id === id) {\n                        targetGroup = group;\n                    } \n            });\n        });\n\n        const newGroupLayers = targetGroup.layers.filter(layer => layer.id !== id);\n        const newGroups = groupCopy.map(el => {\n            if(el.id === targetGroup.id) {\n                return {\n                    ...el,\n                    layers: newGroupLayers \n                }\n            } return el;\n        });\n        \n        return axios.put(`/houses/${house}`, {\n            groups: newGroups  \n          }).catch(err => console.log(err));\n    }\n\n    //DELETER LAYER'S POSTS \n    const deletePosts = async (id) => {\n        return await axios.delete(`/posts/h/${house}/${id}`)\n        .catch(err => console.log(err)); \n    }\n\n    const handleDeleteLayer = async() => {\n        await deleteLayer(id);\n        await deletePosts(id);\n        await getAllRooms();\n        await pushUser();\n    }\n\n\n    return {\n        handleDeleteLayer\n    }\n}\n\n","import { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { UserContext } from '../../hooks/UserContext';\n\nexport default function useDeleteGroup(group) {\n    let history = useHistory();\n    const { user, setGroups } = useContext(UserContext); \n    const house = user.house._id;\n    const groups = user.house.groups;\n\n    const pushUser = async () => {\n        history.push('/');\n    }\n\n    const updateHouseModel = async (newGroups) => {\n        return axios.put(`/houses/${house}`, {\n            groups: newGroups   \n        }).then(res => { \n            console.log(res); \n            setGroups(newGroups);\n        }).catch(err => console.log(err));\n    }\n\n    const deleteGroup = async(group) => {\n        let newGroups; \n        let groupsRemaining = groups.filter(x => x.id !== group.id);\n        if(group.layers.length) { //redistribute layers if they exist\n            const ungrouped = groups[groups.length - 1].layers;  //get ungrouped layers \n            const newUngrouped = [...ungrouped, ...group.layers]; //move group's layers to ungrouped layers     \n                newGroups = groupsRemaining.map(x => {\n                    if(x.id === \"ungrouped\") {\n                        return {\n                            ...x,\n                            layers: newUngrouped\n                        }\n                    } return x\n                });\n                return newGroups;\n            } else {\n                 newGroups = groupsRemaining;\n                 return newGroups;\n            }\n    }\n\n    async function handleDeleteGroup () {\n         const newGroups = await deleteGroup(group); \n        await updateHouseModel(newGroups);\n        await pushUser();\n     }\n\n\n    return {\n        handleDeleteGroup\n    }\n}","import React, { useState } from 'react'; \n\nexport default function useModal() {\n    const [modal, setModal] = useState(false);\n    const modalRef = React.createRef(); \n\n    const toggleModal = () => {\n        setModal(!modal);\n    }\n\n    const handleOutsideClick = (e) => {\n        //if modalRef is rendered + modalRef does not contain the clicked class\n        if(modalRef.current && !modalRef.current.contains(e.target)) {\n            setModal(false);\n        }\n    }\n\n    return {\n        toggleModal,\n        handleOutsideClick,\n        modal,\n        modalRef\n    }\n}","import React from 'react';\nimport TextareaEdit from '../components/TextareaEdit';\nimport InputEdit from '../components/InputEdit';\nimport useRenameLayer from '../hooks/layers/useRenameLayer';\nimport { VscTrash } from 'react-icons/vsc';\nimport { PAGE_TITLE } from '../pages/layer/layer_data';\nimport LayerModal from '../components/modals/LayerModal';\nimport useModal from '../hooks/useModal';\n\nexport default function LayerInfo(props) {\n    const {\n        values,  \n        size,  \n        handleClickIn, \n        handleBlur, \n        handleChange\n        } = useRenameLayer(props);\n \n    //room dlt modal\n    const { modal, \n        toggleModal, \n        handleOutsideClick, \n        modalRef } = useModal();\n\n    return (\n        <>\n        <div className=\"page__info\">\n            <div className=\"page__title\"> \n                <InputEdit  style={PAGE_TITLE}\n                            value={values.name}   \n                            size={size} \n                            handleClickIn={handleClickIn}  \n                            handleBlur={handleBlur} \n                            handleChange={handleChange} /> \n                <TextareaEdit value={values.description}   \n                            handleClickIn={handleClickIn}  \n                            handleBlur={handleBlur} \n                            handleChange={handleChange}\n                            />\n            </div>\n            <div className=\"page__delete\">\n                <VscTrash className=\"icon icon__btn icon--warning\" \n                            onClick={toggleModal}/>\n            </div>\n        </div>\n        {modal &&  \n                <LayerModal toggleModal={toggleModal} \n                        handleOutsideClick={handleOutsideClick} \n                        ref={modalRef} \n                        page={props.page} \n                        layer={props.layer} />\n                        }\n        </>\n    )\n}\n\n","import { useState, useContext } from 'react'; \nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport slugify from 'react-slugify';\nimport { UserContext } from '../UserContext';\n\nexport default function useRenameLayer(props) {\nconst { label, id, description } = props.page;\n\nconst initValues = { name: label, \n                    description: description }\n\nlet history = useHistory();\nconst { user, groups, setGroups } = useContext(UserContext); \nconst house = user.house._id;\n\nconst [editInline, setEditInline] = useState(false); \n    const [values, setValue] = useState(initValues || {});\n    const [size, setSize] = useState(label.length + 1);\n\n    const handleChange = (e) => {\n        const name = e.target.name;\n        const value = e.target.value;\n        setValue({...values,\n            [name]: value});\n        if (name === 'name') {\n            setSize(value.length + 1);\n        }\n    };\n\n    const handleClickIn = () => {\n        setEditInline(true);\n    };\n\n    const handleBlur = async (e) => {\n        const name = e.target.name;\n        await blur(name, pushUser); \n    };\n\n    const pushUser = (slug) => {\n        history.push(`/${slug}`, {from: slug});\n    };\n\n    const blur = async (name, callback) => {\n        setEditInline(false);\n        const label = values.name; \n        const description = values.description;\n        const slug = slugify(values.name);\n\n        //create new room obj \n        let updatedLayer;\n\n        groups.forEach(group => {\n            group.layers.forEach(layer => { if(layer.id === id) { updatedLayer = layer; } \n              });\n          });\n\n        updatedLayer = { label, slug, description, id: updatedLayer.id };\n\n        //replace renamed layer in groups array\n          let targetGroup;\n          let groupCopy = [...groups];\n        \n          groups.forEach(group => {\n            group.layers.forEach(layer => { \n                if(layer.id === id) { targetGroup = group; } \n              });\n          });\n\n          const newGroupLayers = targetGroup.layers.map(layer => {\n              if(layer.id === id) {\n                  return updatedLayer;\n              } return layer; \n          })\n          const newGroupArray = groupCopy.map(el => {\n              if(el.id === targetGroup.id) {\n                  return { ...el,\n                      layers: newGroupLayers }\n              } return el;\n          });\n        \n        await axios.put(`/houses/${house}`, {\n          groups: newGroupArray   \n        }).then(res => {\n            setGroups(newGroupArray);\n            if(name === 'name') {\n                return callback(slug);\n            } return;\n        })\n        .catch(err => console.log(err));\n    };\n\n    return {\n        editInline,\n        values,\n        size,\n        handleClickIn,\n        handleBlur,\n        handleChange\n    }\n}\n\n/*\nconst blurDescription = async () => {\n        setEditInline(false);\n        const description = values.description; \n        const newRooms = rooms.map(el => {\n            if(el.id === id) {\n                return { label: el.label, \n                        slug: el.slug, \n                        id: el.id, \n                        description: description }\n            } \n                return el;\n        })        \n        await axios.put(`/houses/${house}`, {\n          rooms: newRooms   \n        }).then(res => {\n            //console.log(res);\n            setRooms(newRooms);\n        })\n        .catch(err => console.log(err));\n    };\n\n\n    //replace renamed layer in layer array \n        const newLayerArray = rooms.map(el => {\n            if(el.id === id) {\n                return updatedLayer;\n            } else {\n                return el;\n            }\n        });\n\n\n*/","import { useState } from 'react';  \n\nexport default function useRoomFilter(initialState) {\n    //for list menu\n    const [activeItem, setActiveItem ] = useState(initialState);\n\n    const handleOneFilter = (e) => {\n        setActiveItem(e.currentTarget.dataset.id);\n    }\n \n    return{\n        handleOneFilter,\n        activeItem\n    }\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Button from '../../components/btns/Button';\nimport { VscAdd } from 'react-icons/vsc';\n\n\nconst AddButton = ( {room} ) => {\n    if(!room) {\n        return null;\n    }\n\n    return (\n        <span className=\"fixedBtn\">\n                    <Link to={{pathname: \"/add\", \n                            state: {\n                                id: room.id, \n                                label: room.label, \n                                slug: room.slug}\n                        }}>\n                        <Button icon={<VscAdd className=\"icon icon__btn\"/>}/>\n                    </Link> \n                </span>\n    );\n}\n \nexport default AddButton;","import React from 'react';\n\nexport default function ListMenu({ list, title, activeItem, handleOneFilter }) {\n    return(\n        <menu>\n            <h4 className=\"listmenu__title\">{title}</h4>    \n            {list.map(item => {\n                return(\n                    <li key={item} \n                        className={`listmenu__item ${activeItem === item ? 'active' : ''}`} \n                        data-id={item} \n                        onClick={(e) => handleOneFilter(e)}>\n                        {item}\n                    </li>\n                ) \n            })}\n        </menu>\n    )\n}","import React from 'react';\n\nconst MenuItem = (props) => {\n    const {item, id } = props;\n    return (\n        <li className={`listmenu__item ${props.active && 'active'}`} \n            data-id={id} \n            //onClick={props.handleClick}\n            >\n        {item.label}\n    </li>\n    );\n}\n \nexport default MenuItem;","import React from 'react';\nimport MenuItem from '../../atoms/MenuItem';\n\nexport default function FilterMenu(props) {\n    return(\n        <menu>\n            <h4 className=\"listmenu__title\">{props.title}</h4>    \n            {props.list.map((item, i) => {\n                return(\n                    <MenuItem\n                        key = {i}\n                        item={item} id={i} \n                    // active={active}\n                    // handleClick={handleClick} \n                    />\n                ) \n            })}\n        </menu>\n    )\n}","import React from 'react';\nimport ListMenu from '../../components/ListMenu';\nimport { zoom, sort } from './layer_data';\nimport FilterMenu from '../../components/menus/FilterMenu';\n\nconst Sidebar = (props) => {\n    return (\n            <div className=\"layer__sidebar\">\n                {props.group &&\n                    <FilterMenu title=\"layers\" \n                        list={props.group.layers}/>\n                }\n                <ListMenu title='zoom'\n                            list={zoom} \n                            handleOneFilter={props.setZoomFilter} \n                            activeItem={props.activeView}/>\n               \n        </div>\n    );\n}\n \nexport default Sidebar;\n\n/*\n <ListMenu title='sort'\n                        list={sort} \n                        handleOneFilter={props.handleOneFilter} \n                        activeItem={props.activeItem}/>\n*/","import React from 'react';\n\nexport const EmptyPage = ({ type }) => {\n    return (\n        <div className='layer__empty'>\n            <h3 className=\"light\">\n                Empty {type}\n            </h3> \n        </div>\n    );\n}\n \nexport const EmptySubpage = ({ type }) => {\n    return (\n        <div className='layer__empty--sub'> \n            <h4 className=\"lightest\">\n                Empty {type}\n            </h4>\n        </div>\n    );\n}","import React, { forwardRef, useRef } from 'react';\nimport { CSSTransition } from 'react-transition-group'; \n \nconst BasicSelectMenu = forwardRef((props, ref) => {\n    const nodeRef = useRef(null); \n    const { items, selectItem, childData, show, revertAll, roundTop } = props;\n\n    return(\n        <CSSTransition in={show} timeout={350} nodeRef={nodeRef} classNames=\"fade\" unmountOnExit>\n        <span ref={nodeRef}> \n            <menu className=\"basicselect\" ref={ref}>\n                {items.map(item => {\n                    return (\n                        <li className={`selectmenu__item \n                                ${roundTop ? 'selectmenu__item--top' : ''}`}\n                            key={item} data-label={item} // need for reading what is selected  \n                            data-id={childData} // need for passing data from posts\n                            onClick={(e) => {\n                                revertAll()\n                                selectItem(e)}}>\n                            {item}\n                        </li>\n                        )\n                    })}\n            </menu>\n        </span>\n        </CSSTransition>\n    )\n});\n\nexport default BasicSelectMenu;","import React from 'react';\n\nconst Post100Tag = ({ tag, handleHover, handleStopHover, tagpath, ...props }) => {\n    return (\n        <div className=\"post100__tag\">\n        <h4 className=\"tag\" \n            data-index={props.post._id}                                \n            data-id={tag._id}\n            onMouseEnter={handleHover} \n            onMouseLeave={handleStopHover}\n            style={(tagpath && tagpath === tag._id ) \n                ? \n                    {backgroundColor: tag.color, \n                    color:'#31302C', \n                    cursor:'pointer'} : {}}\n            >\n            {tag.tag}\n        </h4>\n    </div>\n    );\n}\n \nexport default Post100Tag;","import React, { useRef } from 'react';\nimport { Editor } from 'draft-js'; \n\n\nconst Post100Note = ({editorState, \n                setEditorState, \n                onNoteChange}) => {\n                    \n    const editRef = useRef(null); \n\n    return (\n    <div className=\"post100__body__note\">\n        <Editor readOnly={true} \n        editorState={editorState} ref={editRef}\n        setEditorState={setEditorState}\n        onChange={onNoteChange} />\n    </div>   \n    );\n}\n \nexport default Post100Note;","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { LinkPreview } from './LinkPreview';\nimport BasicSelectMenu from '../menus/BasicSelectMenu'; \nimport useEditPost from '../../hooks/posts/useEditPost'; \nimport { VscEllipsis } from 'react-icons/vsc';\nimport { getUniqueTags } from '../../pages/layer/layer_data';\nimport Post100Tag from './Post100Tag';\nimport Post100Note from './Post100Note';\n \nexport default function Post100(props) { \n    const { post, \n        toggleMenu, \n        menu, \n        i, \n        toggleRef, \n        revertAll, \n        handleDeletePost, \n        openPost, \n        //tagpath \n            } = props;\n\n    const uniqueTags = getUniqueTags(post.tags); \n\n    const { displayNoteBody, \n            editorState,  \n            setEditorState, \n            onNoteChange } = useEditPost();\n\n    useEffect(() => {\n        if(post.type === 'note') { \n            displayNoteBody(post);\n        } \n        return null\n    }, [post])\n\n    const selectItem = (e) => {\n        const action = e.currentTarget.dataset.label;\n        switch(action) {\n            case \"delete\": handleDeletePost(e);\n            break;\n            case \"open\": openPost(e);\n            break;\n            default: return null;\n        }\n    }\n\n    return ( \n        <> \n        <div className=\"post100\">\n            <div className=\"post100__header\">\n                <h4 className=\"lightest\">{post.user.username}</h4>  \n                <div className=\"post100__header__edit\">\n                    <h4 className=\"lightest\">{post.date}</h4>\n                    <VscEllipsis className=\"icon icon__btn post100__editBtn\" \n                                            data-id={i} onClick={toggleMenu}/>\n                     <div className=\"post100__header__editMenu\">\n                        <BasicSelectMenu items={['open', 'delete']} \n                            toggleMenu={toggleMenu}\n                            show={menu[i]}\n                            selectItem ={selectItem} \n                            childData={post._id}\n                            revertAll={revertAll}\n                            roundTop={true}\n                            ref={toggleRef}\n                            />\n                    </div>\n                </div> \n            </div>\n            <div className=\"post100__body\">\n                {post.type === 'note' \n                    ?\n                        <Post100Note editorState={editorState} onNoteChange={onNoteChange}\n                                     setEditorState={setEditorState} />\n                        : \n                        <div className=\"post__body__link\"> \n                            <LinkPreview link={post.content} />\n                        </div>         \n                    }\n                </div> \n                    {post.tags.length !== 0 && \n                    <div className=\"post100__tags\">\n                        <h4 className=\"tag\" style={{paddingLeft: 0}}>\n                            paths:\n                        </h4>\n                        {uniqueTags.map((tag, i) => {\n                            return (\n                                <Link to={`/path/${tag.slug}`}>\n                                    <Post100Tag tag={tag} key={i}\n                                        {...props} />\n                                </Link>\n                            )\n                        })}\n                    </div>\n                }\n               \n        </div>\n        </>   \n    )\n};","import React, { useRef } from 'react';\nimport Post100 from '../../components/posts/Post100';\nimport useToggleOneOfMany from '../../hooks/useToggleOneOfMany';\nimport { CSSTransition } from 'react-transition-group';\n \nexport default function PostList100(props) {   \n    const { activeView, posts } = props;   \n    const nodeRef = useRef(null);\n\n    //open post menus \n    const { toggleMenu, \n        toggleRef, \n        menu, \n        revertAll } = useToggleOneOfMany(posts); \n  \n    return(\n        <CSSTransition\n        in={activeView === '100%'} \n        timeout={250} nodeRef={nodeRef} classNames=\"zoomIn\" unmountOnExit\n        exit={false}>\n            <div className=\"postRow100\" ref={nodeRef}> \n            {props.posts.map((post, i )=> {\n                    return ( <Post100 post={post} key={post._id} \n                                    toggleMenu={toggleMenu}\n                                    menu={menu} \n                                    i={i}\n                                    revertAll={revertAll}\n                                    toggleRef={toggleRef}\n                                    {...props}\n                    /> ) \n                })}\n            </div>  \n        </CSSTransition>\n    )\n}","import  { useState, useEffect, useRef } from 'react';\n \nexport default function useToggleOne(props) {\n    const toggleRef = useRef(null);\n    const [menu, setMenu] = useState([]);\n\n    const revertAll = () => {\n        const initState = props.map(obj => false);\n        setMenu(initState); \n    }\n\n    //set init state on an array of children \n    useEffect(() => {\n        revertAll();\n    }, [props]);\n\n    \n    const toggleMenu = (e) => {\n        const i = e.currentTarget.dataset.id;\n        const newArr = [...menu];\n        newArr[i] = !newArr[i]; \n        setMenu(newArr);\n    }\n\n    const handleClickOutside = event => {\n        if (toggleRef.current && !toggleRef.current.contains(event.target)) {\n          revertAll();\n        }\n      };\n    \n    useEffect(() => {\n        document.addEventListener(\"click\", handleClickOutside, true);\n        return () => {\n          document.removeEventListener(\"click\", handleClickOutside, true);\n        };\n      });\n\n    return {\n        revertAll,\n        toggleMenu,\n        toggleRef, \n        menu\n    }\n}","import React, { useEffect, useRef } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Editor } from 'draft-js'; \nimport { LinkCard } from './LinkPreview';\nimport useEditPost from '../../hooks/posts/useEditPost'; \nimport { VscEllipsis } from 'react-icons/vsc';\n  \nexport default function Post({ post, openPost }) { \n    let location = useLocation();\n    const editRef = useRef(null);  \n     \n    const { displayNoteBody, editorState, setEditorState, onNoteChange } = useEditPost();\n \n    useEffect(() => {\n        if(post.type === 'note') { \n            displayNoteBody(post); \n        } \n    }, [post]); \n \n    return(\n        <div className=\"post25__wrapper\">\n        <h4 className=\"post25__user\">{post.user.username}</h4> \n            <div className=\"post25\" key={post._id} data-id={post._id} >                      \n                <div className=\"post25__header\">\n                    <VscEllipsis className=\"icon icon__btn\"/>\n                </div>\n                <Link to={{pathname: `${location.pathname}/${post._id}`, \n                        state: {post: post }}} onClick={(e) => openPost(e)}\n                        className=\"post25__body\" data-id={post._id}>\n                        {post.type === 'note' \n                        ?\n                            <div className=\"post25__body__note\">\n                                <Editor readOnly={true} \n                                editorState={editorState} ref={editRef}\n                                setEditorState={setEditorState}\n                                onChange={onNoteChange} />\n                                <span className=\"post25__body__fade\"></span>   \n                            </div>   \n                            : \n                            <div className=\"post25__body__link\"> \n                                <LinkCard link={post.content}/>\n                            </div>         \n                        }\n                </Link>\n            </div>\n        </div>\n    )\n}\n\n//","import React, { useRef } from 'react';   \nimport Post from '../../components/posts/Post';\nimport { CSSTransition } from 'react-transition-group';\n\nexport default function PostList25(props) { \n    const { activeView } = props; \n    const nodeRef = useRef(null); \n    const postMax = 4; \n    const postTotal = props.posts.length;\n    const numRows = [...Array(Math.ceil(postTotal / postMax))]; // # of rows on pg\n    const postArrs = numRows.map((row, i) => props.posts.slice(i * postMax, i * postMax + postMax ));\n        \n    return(\n        <CSSTransition \n            in={activeView === '25%'} \n            timeout={250} \n            nodeRef={nodeRef} classNames=\"zoom\"\n            unmountOnExit\n            exit={false}>\n                <div className=\"postRow25__container\" ref={nodeRef}>\n                    {postArrs.map((row, i) => {\n                        return(\n                            <div className=\"postRow25\" key={i}>\n                            {row.map((post, i) => <Post post={post} key={i} openPost={props.openPost}/> )}\n                        </div>\n                        )\n                    })}\n                </div>\n            </CSSTransition>\n        )      \n}\n\n","import React from 'react';\nimport PostList100 from '../../sections/posts/PostList100';\nimport PostList25 from '../../sections/posts/PostList25';\n\nconst SwitchViews = (props) => {\n    console.log(props)\n\n    return (\n        <>\n        <PostList100 {...props}\n            />\n        <PostList25 {...props}\n            />\n        </>\n    );\n}\n \nexport default SwitchViews;","import React, { forwardRef } from 'react';\n\nconst PathLegend = forwardRef((props, ref) => {\n    const { tagDetails, loadModal, postExcerpts } = props;\n    let { tag, date, tagCount } = tagDetails;\n    \n    return(\n            <div className=\"pathLegend__container\" ref={ref}>\n               {!loadModal && \n                    <div className=\"popup pathLegend\">\n                    <div className=\"pathLegend__body\">\n                        <div className=\"popup__header pathLegend__header\">\n                            <span className=\"tagPreview__color\" style={{backgroundColor:tag.color}}></span>\n                            <h4>{tag.tag}</h4> \n                        </div> \n                            <h5 className=\"light\">\n                                This path has been used {tagCount} \n                                {tagCount === 1 ? ' time ' : ' times ' }\n                                since it was created on {date}.\n                            </h5>\n                            <div>\n                            {postExcerpts[0] !== null &&\n                                postExcerpts.map((el, i) => { \n                                    return (\n                                    <h5 className=\"pathLegend__excerpt\" key={i}>\n                                        ...{el}..\n                                    </h5>\n                                    )})} \n                           </div>\n                        </div>\n                        <span className=\"pathLegend__fade\"></span>\n                    </div>\n                } \n            </div>\n    ) \n});\n\nexport default PathLegend;\n","import { useState, useContext, useRef } from 'react'; \nimport axios from 'axios';\nimport { convertFromRaw } from 'draft-js';\nimport { UserContext } from '../UserContext';\n\nexport default function useOneTag() {\n    const { user } = useContext(UserContext);\n    const tagRef = useRef(null);\n\n// GET TAG LEGEND FIRST\n   const [loadModal, setLoadModal] = useState(true);\n   const [postExcerpts, setExcerpts] = useState([]);\n    const [tagDetails, setTagDetails] = useState({\n        tag: '',  \n        date: '',\n        tagCount: '',\n        postCount: ''\n    });\n\n    const getTagDetails = async (id) => {\n        await axios.get(`/posts/details/${user.house._id}/${id}`) \n            .then(res => {\n                const { tag, posts, postCount, tagCount } = res.data.data;\n                let date = new Date(tag[0].createdOn);\n                date = date.toDateString('en', { day: \"numeric\", month: \"short\", year: \"numeric\" });\n                setTagDetails({\n                    tag: tag[0],\n                    date,\n                    tagCount,\n                    postCount\n                });\n                //find excerpts to display on tag legend \n                const notes = posts.filter(el => el.type === 'note'); \n                const excerpts = notes.map(note => { \n                    const name = tag[0].tag; // tag\n                    const contentState = convertFromRaw(JSON.parse(note.content)); // parse draft-js\n                    //regex: extract sentence with tag in note \n                    const TAG_REGEX = new RegExp(`[^.!?;]*(${name})[^.?!;]*[.?!;]`, \"i\"); \n                    const text = contentState.getPlainText(); //get \n                    let matchArr;\n\n                    while ((matchArr = TAG_REGEX.exec(text)) !== null) {\n                        return matchArr[0];\n                        } \n                    return null; \n                });\n                setExcerpts(excerpts);\n                setLoadModal(false);\n\n        }).catch(err => console.log(err));\n    }\n\n// CALCULATE TAG PATH SECOND\nconst [tagpath, setTagpath] = useState(null); \nconst [coords, setCoords] = useState({\n        lengthX: '',\n        heightY: '',\n        postId: ''\n    })\n\nconst calculateTagPath = (e, i, tagId) => {\n    //calculate tag path length AFTER tagRef has returned\n    const tagEnd = e.currentTarget.getBoundingClientRect().right;\n    const roomEnd = (tagRef.current.getBoundingClientRect().left + tagRef.current.getBoundingClientRect().right) / 2;\n    const x = (roomEnd - tagEnd);\n        \n    //calculate tag path height  \n    const roomTop = tagRef.current.getBoundingClientRect().top;\n    const tagMid = (e.currentTarget.getBoundingClientRect().top + e.currentTarget.getBoundingClientRect().bottom) / 2; \n    const y = tagMid - roomTop; \n    setCoords({lengthX: x,\n            heightY: y,\n            postId: i }); \n\n    setTagpath(tagId);\n    }\n\n//handle hover on tag \n    const handleHover = (e) => {\n        const tagId = e.currentTarget.dataset.id;\n        const postId = e.currentTarget.dataset.index;\n        getTagDetails(tagId);\n        calculateTagPath(e, postId, tagId);\n    }\n\n//handle mouse leave/scroll \n    const handleStopHover = () => {\n        setLoadModal(true);\n        setTagpath(null);\n    }\n\n    return {\n        tagRef,\n        handleHover,\n        handleStopHover,\n        tagDetails,\n        postExcerpts,\n        loadModal,\n        tagpath,\n        setTagpath,\n        coords\n    }\n}\n","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Loading } from '../../components/Loading';\nimport { EmptyPage, EmptySubpage } from './EmptyPage';\nimport SwitchViews from './SwitchViews';\nimport PathLegend from '../../components/modals/PathLegend';\nimport useLayerPosts from '../../hooks/layers/useLayerPosts';\nimport useManagePosts from '../../hooks/posts/useManagePosts';\nimport useTagLegend from '../../hooks/paths/useTagLegend';\n\nconst PageBody = (props) => {  \n    const params = useParams(); \n    \n    const { \n        posts, \n        loading, \n        getLayerPosts,\n        getPathPosts \n         } = useLayerPosts(); \n    \n    const { tagpath, \n            coords, \n            handleHover,\n            handleStopHover,\n            tagRef, \n            tagDetails, \n            postExcerpts, \n            loadModal } = useTagLegend();\n\n   const { openPost, deletePost } = useManagePosts();\n\n    useEffect(() => {  //get room and posts \n        if(props.path) {\n         return getPathPosts(props.path._id);\n        }\n \n       return getLayerPosts(props.layer.id);\n    }, [params]);\n\n    async function handleDeletePost(e) {\n       await deletePost(e.target.dataset.id);\n       await getLayerPosts();\n    }\n\n    if(loading) {\n        return <Loading/>\n    }\n\n    if(!posts.length) { \n        return( <> \n            {props.subpage \n                ? <EmptySubpage type=\"layer\"/>\n                : <EmptyPage type=\"layer\"/>\n            } \n        </> )\n    }\n\n    return(\n        <>\n            <SwitchViews \n                handleDeletePost={handleDeletePost} \n                openPost={openPost} \n                posts={posts}\n                handleHover={handleHover} \n                handleStopHover={handleStopHover}\n                coords={coords} tagpath={tagpath}\n                {...props} \n                />\n            \n                <PathLegend ref={tagRef}\n                tagpath={tagpath} \n                tagDetails={tagDetails} \n                loadModal={loadModal} \n                postExcerpts={postExcerpts}\n                />\n        </>\n        )\n}\n \nexport default PageBody;\n\n\n\n\n\n\n//can we do a switch transition here? ","import React, { useState, useEffect } from 'react'; \nimport { useParams } from 'react-router-dom';\nimport Header from '../../sections/Header'; \nimport LayerInfo from '../../sections/LayerInfo';\nimport useOneFilter from '../../hooks/useOneFilter'; \nimport { LoadingPage } from '../../components/Loading';\nimport AddButton from '../../atoms/page/AddButton'; \nimport Sidebar from './Sidebar';\nimport PageBody from './PageBody';\nimport useGetLayer from '../../hooks/layers/useGetLayer';\nimport useTagLegend from '../../hooks/paths/useTagLegend'; \n\nexport default function Layer() {\n    let params = useParams();\n    const { handleOneFilter, activeItem } = useOneFilter('date');\n    const [activeView, setZoom] = useState('100%'); \n\n    const { layer, loading, getLayer } = useGetLayer(params);\n     \n    useEffect(() => {\n        getLayer(params.room);\n    }, [params]);\n\n    const { handleStopHover } = useTagLegend();\n\n    if(loading){\n        return <LoadingPage/>\n    } \n\n    return ( \n        <>\n        {layer &&\n            <div className=\"page\" onScroll={handleStopHover}>\n                <Header nav={[ {name: layer.label, url: params.room }]}/>\n                <LayerInfo page={layer} layer={true}\n                    />\n                <div className=\"layer\">\n                    <Sidebar setZoomFilter={(e) => setZoom(e.currentTarget.dataset.id)}\n                            handleOneFilter={handleOneFilter} \n                            activeItem={activeItem}\n                            />\n                    <div className=\"layer__body\">\n                        <PageBody activeView={activeView} \n                                layer={layer} \n                                />\n                        </div>\n                        <AddButton room={layer}/>\n                    </div>            \n            </div> \n        } \n    </>\n    )\n};\n","import { useContext, useState } from 'react';\nimport { UserContext } from '../UserContext';\n\nexport default function useGetLayer() {\n    const { groups } = useContext(UserContext); \n\n    const [loading, setLayerLoading] = useState(true); \n    const [layer, setLayer] = useState(null);\n\n    async function getLayer(room) {\n        let roomObject;\n\n        groups.forEach(group => {\n            group.layers.forEach(layer => { if(layer.slug === room) { roomObject = layer; } \n              });\n          });\n\n        setLayer(roomObject);\n        setLayerLoading(false);\n    };\n\n    return {\n        layer,\n        loading,\n        getLayer\n    }\n}\n\n\n\n\n\n\n/*\n        const roomObject = rooms.find(x => x.slug === room);\n        console.log(roomObject);\n*/\n\n/*\n    return axios.get(`/houses/${house}`)\n            .then(res => {\n            const rooms = res.data.data.doc.rooms;\n       \n            console.log(rooms);\n        \n            const newRoom = rooms.find(el => el.slug === room);\n            setLayer(newRoom);\n            setLayerLoading(false);\n        }).catch(err => console.log(err));   \n*/    ","import React from 'react';\nimport { Route, Switch } from 'react-router-dom'; \nimport Edit from './Edit'; \nimport Layer from '../pages/layer/Layer'; \n\nconst LayerRoute = () => {\n    return (\n        <>\n        <Switch>\n            <Route path='/:room/:postId' component={Edit}/>\n        </Switch> \n        <Layer/>\n        </>\n      );\n}\n \nexport default LayerRoute;\n\n\n","import React, { useState, useRef } from 'react';\nimport PageBody from './PageBody';\nimport Chevron from '../../atoms/Chevron';\nimport { Link } from 'react-router-dom';\nimport { CSSTransition } from 'react-transition-group';  \n\nconst Sublayer = ({ layer, activeView }) => {\n    const nodeRef = useRef(null);\n    const [expand, setExpand] = useState(true);\n\n    return (\n        <div className=\"sublayer\" key={layer.id}>\n            <div className=\"sublayer__header\">\n                <Link to={`/${layer.slug}`}>\n                    <h3 className=\"sublayer__title\">\n                        {layer.label}\n                    </h3> \n                </Link>\n                <Chevron expand={expand} setExpand={setExpand}/>\n            </div>\n            <CSSTransition in={expand} timeout={350} classNames=\"grow\" nodeRef={nodeRef} \n                        unmountOnExit\n                        >\n               <div style={{transformOrigin:'top'}} ref={nodeRef}>\n                    <div className=\"sublayer__body\">\n                            <PageBody   layer={layer}\n                                        activeView={activeView} \n                                        subpage={true}\n                                        /> \n                    </div>\n                </div>\n            </CSSTransition>\n        </div>\n    );\n}\n \nexport default Sublayer;","import React, { useEffect, useState } from 'react'; \nimport { useParams } from 'react-router-dom'; \nimport Header from '../../sections/Header'; \nimport LayerInfo from '../../sections/LayerInfo';\nimport Sidebar from './Sidebar';\nimport AddButton from '../../atoms/page/AddButton';\nimport { LoadingPage } from '../../components/Loading';\nimport useGroupPosts from '../../hooks/layers/useGroupPosts';\nimport Sublayer from './Sublayer';\n\n\nconst Group = () => {\n    let params = useParams();\n    const [activeView, setZoom] = useState('100%');\n\n    const { group, loading, getGroup } = useGroupPosts(params.group);\n\n    useEffect(() => {\n        getGroup();\n    },[params.group]); \n\n    if(loading){\n        return <LoadingPage/>\n    }\n\n    return (\n        <>\n        {group &&\n            <div className=\"page\">\n            <Header/>\n            <LayerInfo page={group} layer={false}/>\n            <AddButton room={group.layers[0]}/>\n            <div className=\"layer\">\n                <Sidebar group={group}/>\n                <div className=\"layer__body\">\n                    {group.layers && group.layers.map((layer, i) => { \n                        return (\n                            <Sublayer key={i} layer={layer} activeView={activeView}/>\n                        )}\n                        )\n                    } \n                </div>\n            </div>\n        </div>}\n        </>\n    );\n}\n \nexport default Group;\n\n//  {!object.posts.length && <EmptySubpage type=\"layer\"/>}\n","import { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { UserContext } from '../UserContext';\n\nexport default function useGroupPosts(groupSlug) {\n    const { user } = useContext(UserContext);\n    const house = user.house._id; \n    const [group, setGroup] = useState(null);\n    const [posts, setPosts] = useState(null); \n    const [loading, setGroupLoading] = useState(true);\n\n    async function getGroup () {\n            return axios.get(`/houses/${house}`)\n            .then(res => {\n                const groups = res.data.data.doc.groups;\n                const currentGroup = groups.find(el => el.slug === groupSlug);\n                setGroup(currentGroup);\n                setGroupLoading(false);\n        }).catch(err => console.log(err)); \n    };\n \n    const getGroupPosts = async(layers, zone) => {\n       const posts = layers.map(layer => {\n            return axios.get(`/posts/h/${house}/${layer.id}`)\n            .then(res => {\n                //ultimately will not work bc posts need to be split up by layer \n                const posts = res.data.data.results.map(post => {\n                    return {\n                        ...post,\n                        slug: layer.slug,\n                        layer: layer.label,\n                        color: layer.color,\n                        zone: zone\n                    }\n                })\n                return posts;     \n\n            }).catch(err => console.log(err)); \n        });\n        \n        Promise.all(posts).then(res => setPosts(res.flat()));\n    }\n\n    async function handleGetGroup() {\n        const layers = await getGroup();\n        await getGroupPosts(layers);\n    }\n\n    return {\n        loading,\n        group,\n        posts,\n        handleGetGroup,\n        getGroup,\n        getGroupPosts\n    }\n}\n\n//Promise.all(posts).then(res => setPosts(res.flat())); // flatten all post arrays into one\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Edit from './Edit'; \nimport Group from '../pages/layer/Group';\n\nconst GroupRoute = () => {\n    return (\n        <>\n        <Switch>\n            <Route path='/group/:group/:postId' component={Edit}/>\n        </Switch>\n            <Group/>\n        </>\n      );\n}\n \nexport default GroupRoute;\n\n","import React from 'react';\n\nexport default function Notification({ notif }) { \n    return(\n        <div className='notification success'>\n            <h5>{notif}</h5>\n        </div>\n    )\n}","import React from 'react';\nimport { VscClose } from 'react-icons/vsc'; \nimport CTA from '../btns/CTA';\n \nconst Modal = React.forwardRef((props, ref) => (\n        <div className=\"modal__background\" onClick={(e) => props.handleOutsideClick(e)}>\n            <div className=\"modal\" ref={ref}> \n                <div className=\"modal__X\" onClick={props.toggleModal}> <VscClose className=\"icon icon__btn\"/> </div>\n                <div className=\"modal__content\"> \n                        <h3>Delete account</h3>\n                        <p style={{paddingTop:'1rem'}}>\n                        Confirm you'd like to delete your user account and all data. <b>This action can't be undone.</b> \n                        </p> \n                        <div className=\"modal__actions\">\n                        <CTA name={\"cancel\"} kind=\"secondary\" handleClick={props.toggleModal}/> \n                        <CTA name={\"delete\"} color=\"warning\" handleClick={props.deleteUser}/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n);\n\nexport default Modal; \n","import React, { useContext } from 'react';  \nimport { UserContext } from '../hooks/UserContext';\nimport UserForm from '../sections/UserForm';\nimport Error from '../atoms/Error';\nimport Notification from '../atoms/Notification';\nimport CTA from '../components/btns/CTA'; \nimport Header from '../sections/Header';\nimport Prompt from '../atoms/Prompt';\nimport UserModal from '../components/modals/UserModal';\nimport useModal from '../hooks/useModal'; \nimport useForm from '../hooks/upload/useForm';\nimport useDelete from '../hooks/user/useDelete'; \n\nexport default function User() { \n    const { user } = useContext(UserContext);\n    const { modal, toggleModal, handleOutsideClick, modalRef } = useModal();\n    const { deleteUser } = useDelete(user._id);\n\n    //submit for user form changes user data \n    const { values, handleChange, handleSubmit, error, success } = useForm({\n        initialValues: {\n            form: 'user',\n            email: user.email,\n            username: user.username,\n            password: '', passwordConfirm: ''\n        }\n    });\n    //set invalid fields if error exists \n    let invalidFields;\n    error ? invalidFields = error.fields : invalidFields = []; \n\n    // only show success if there are no errors\n    const notif = (error == null) && (success !== null); \n\n    return(\n        <div className=\"page\" >\n            <Header/> \n            <div className=\"inlineForm\">\n                <h3 style={{marginBottom:'1rem'}}>@{user.username}</h3>\n                <div className=\"inlineForm__notif\">\n                    {error && <Error error={error.messages}/>}\n                    {notif && <Notification notif={success}/>}\n                </div>\n                <div className=\"flex justifyStart\" style={{padding:'1rem 0'}}>\n                    <Prompt prompt={\"Edit your account information\"}/>\n                </div>\n                <form onSubmit={handleSubmit}>\n                <UserForm values={values} handleChange={handleChange} handleSubmit={handleSubmit}\n                        user={user} invalidFields={invalidFields}/>\n                    <div className=\"inlineForm__submit padBottomThree\" style={{justifyContent:'flex-end'}}>\n                        <CTA name={\"save\"} kind=\"primary\" type={\"submit\"}/> \n                    </div> \n                </form>\n                <div className=\"flex justifyEnd pointer\">\n                <Prompt prompt=\"Delete account\" type=\"light\" handleClick={() => toggleModal()}/>\n            </div>\n            </div>\n            {modal &&  \n            <UserModal toggleModal={toggleModal} handleOutsideClick={handleOutsideClick} \n                    ref={modalRef} deleteUser={deleteUser}/> }\n        </div>\n    )\n}","import { useHistory } from 'react-router-dom';\nimport axios from 'axios'; \n\nexport default function useDelete(id) {\n    let history = useHistory();\n\n    const deleteUser = async () => {\n        try {\n            await axios({\n                method: 'DELETE',\n                url: `users/${id}`\n            }).then(res => {\n                console.log(res);\n                history.push('/');\n            })\n        } catch(err) {\n            console.log(err);\n        }\n    }\n\n    return {\n        deleteUser\n    }\n}","import React, { useState, useRef } from 'react';\nimport { CSSTransition } from 'react-transition-group'; \n\nexport default function Drawer({ items, tab }) {\n    const nodeRef = useRef(null);\n    const [menu, setMenu] = useState(false); \n    return (\n        <div className=\"drawer\">\n            <h4 className=\"drawer__tab\" onClick={() => setMenu(!menu)}> \n              {tab}\n            </h4>\n              <CSSTransition in={menu} timeout={350} nodeRef={nodeRef} classNames=\"openDrawer\" unmountOnExit> \n                <menu className=\"drawer__dropdown\" ref={nodeRef}>\n                {(items && items.length > 0) \n                        ?   items.map(tag => {\n                                return (\n                                    <div className=\"drawer__item\" key={tag._id}>\n                                       <div className=\"tagPreview\"> \n                                            <span className=\"tagPreview__color\" style={{backgroundColor:tag.color}}>\n                                            </span>\n                                            <h4>{tag.tag}</h4> \n                                        </div>\n                                    </div>\n                                    )\n                                })\n                        : <p className=\"fullWidth flex justifyCenter\">\n                            No paths yet\n                     </p>\n                    }\n                </menu>\n            </CSSTransition>\n        </div>\n    )\n}","import React from 'react';\nimport FormInput from '../FormInput';\n\nexport default function LinkUpload(props) {\n    const { values, handleChange } = props;\n\n    return( \n        <div className=\"upload upload--link\">\n            <FormInput type=\"url\" placeholder=\"\" white={true} name=\"content\"\n                       value={values.content} handleChange={handleChange}/> \n        </div>\n    )\n}","import React, { useEffect, useRef, useState, forwardRef } from 'react';\nimport { Editor } from 'draft-js';\nimport Toolbar from '../btns/Toolbar';\nimport { CSSTransition } from 'react-transition-group';\n\nconst NoteUpload = forwardRef((props, ref) => {\n    const { editorState, onNoteChange, mapKeyToEditorCommand, setFocus, \n        handleKeyCommand, toggleInlineStyle, toggleBlockType, addTagFromNote } = props;\n        \n        const [note, setNote] = useState(false);\n        const nodeRef = useRef(null);\n\n        useEffect(() => { \n            setNote(true);   \n        }, [note]); \n        \n        useEffect(() => {\n            if(note) {\n                setFocus();\n            }\n        }, [note]);\n \n    return (\n        <span style={{position:'relative'}}>\n            <Toolbar editorState={editorState}\n                        onToggleInline={toggleInlineStyle}\n                        toggleBlockType={toggleBlockType}\n                        setFocus={setFocus}\n                        addTagFromNote={addTagFromNote}\n                        addTag={true}\n                        styled={true} /> \n            <CSSTransition \n            in={note} timeout={350} \n            nodeRef={nodeRef} classNames=\"rollDown\"\n            unmountOnExit>\n                <div className=\"editorWrapper editorWrapper--block\" ref={nodeRef} onClick={setFocus}> \n                    <Editor editorState={editorState} \n                        ref={ref} spellCheck={true}\n                        onChange={onNoteChange}\n                        handleKeyCommand={handleKeyCommand}\n                        mapKeyToEditorCommand={mapKeyToEditorCommand}\n                    />\n                </div> \n            </CSSTransition>\n            </span>\n        )\n    })\n\nexport default NoteUpload;\n\n\n\n","import React from 'react';\nimport useDragDrop from './../../hooks/useDragDrop';\n\nexport default function DragUpload() {\nconst { handleDragEnter, \n        handleDragLeave, \n        handleDragOver, \n        handleDrop, \n        data } = useDragDrop(); \n\n    return(\n        <div className={`drag ${data.inDropZone ? \"drag--active\" : ''}`}\n            onDragOver={(e) => handleDragOver(e)}\n            onDragEnter={(e) => handleDragEnter(e)} \n            onDragLeave={(e) => handleDragLeave(e)}\n            onDrop={(e) => handleDrop(e)} >\n            {data.message ? \n            <h4>{data.message}</h4>\n            : <h4>drag or click</h4> }\n        </div>\n    )\n}","import { useReducer } from 'react'\n\nexport default function useDragDrop() {\n    const state = {\n        inDropZone: false,\n        uploadComplete: false,\n        file: '',\n        message: '', \n      };\n\n      const reducer = (state, action) => {\n        switch (action.type) {\n          case \"AddToDropZone\":\n            return { ...state, inDropZone: action.inDropZone };\n          case \"AddFile\":\n            return { ...state, file: action.upload };\n          case \"AddMessage\":\n            return { ...state, message: action.msg };\n          default:\n            return state;\n        }\n      };\n\n    const [data, dispatch] = useReducer(reducer, state);\n\n    //support img, gif, and pdf upload\n    const supportedTypes = ['image/jpg', 'image/png', 'image/svg+xml', 'image/gif', 'application/pdf'];\n\n    const handleDragEnter = (event) => {\n        event.preventDefault();\n        dispatch({ type: \"AddToDropZone\", inDropZone: true });\n      };\n  \n    const handleDragOver = (event) => {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = \"move\";\n        dispatch({ type: \"AddToDropZone\", inDropZone: true });\n      };\n  \n    const handleDragLeave = (event) => {\n          event.preventDefault();\n          dispatch({ type: \"AddToDropZone\", inDropZone: false });\n        };\n\n    const handleDrop = (event) => {\n            event.preventDefault();\n            const upload = [...event.dataTransfer.files];\n            const type = upload[0].type;\n\n            //check if upload exists, and if its type is supported\n            if(upload) {\n                let msg;\n                if(supportedTypes.includes(type))  {\n                    msg = upload[0].name;\n                    console.log(msg);\n                    dispatch({ type: \"AddFile\", upload });\n                  } else {\n                      msg = `Only images and PDFs are supported.`;\n                  }\n                  dispatch({ type: \"AddToDropZone\", inDropZone: false });\n                  dispatch({ type: \"AddMessage\", msg });  \n            }\n        };\n\n    return {\n        handleDragEnter, handleDragLeave, handleDragOver, handleDrop,\n        data, dispatch\n\n    }\n}","import React, { useRef } from 'react'; \nimport { CSSTransition } from 'react-transition-group';\n\nexport default function CommentInput({ show, value, handleChange }) {\n    const nodeRef = useRef(null)\n\n    return (\n            <CSSTransition in={show} timeout={700} nodeRef={nodeRef} classNames=\"rollDown\" unmountOnExit>\n                <textarea className=\"input longInput\" ref={nodeRef} name=\"comment\" value={value} \n                onChange={handleChange} contentEditable={true} suppressContentEditableWarning={true}/>\n            </CSSTransition>\n    )\n}","import React, { useRef } from 'react'; \nimport { CSSTransition } from 'react-transition-group';\n\n//for larger tooltips\nexport default function Tooltip(props) {\n    const { text, show, direction, type } = props; \n    const nodeRef = useRef(null);\n\n    return(\n         <CSSTransition \n                    in={show} \n                    timeout={150} \n                    nodeRef={nodeRef} \n                    classNames=\"quickFade\"\n                    unmountOnExit>\n                    <div ref={nodeRef} \n                        className={`tooltip tooltip--${direction} tooltip--${type}`}\n                        data-id={props.dataId}>\n                        {text}\n                    </div>\n        </CSSTransition>\n    )\n}","import React from 'react';\n \nexport default function AutoComplete({ results, selectTag }) {\n    return(\n        <ul className=\"autocomplete\">\n          {results\n         ? results.map(el => {\n              return(\n                  <li className=\"autocomplete__item\" key={el._id} data-id={el._id} data-name={el.tag} onClick={selectTag}>\n                     <h4>{el.tag}</h4>\n                </li>\n              )\n          })\n        : <div>No tags</div>\n        }\n        </ul>\n    )\n}","import React from 'react'; \n\nexport default function RecentTags({ tags, selectTag }){\n    if(!tags) {\n        return ( <div>No recent tags</div> )\n    }\n    \n    return(\n        <div className=\"recentTags\">\n            <h4 className=\"light\" style={{marginRight:'1.5rem'}}>Recently created</h4>\n            {tags.map(el => {\n                return(\n                    <h4 className=\"recentTags__tag\" key={el._id} data-id={el._id} data-name={el.tag} onClick={selectTag}>\n                            {el.tag}\n                    </h4> \n                )\n            })}\n        </div>\n    )\n}","import { useEffect, useContext, useState } from 'react';\nimport axios from 'axios';\nimport { UserContext } from '../UserContext';\n\nexport default function useTags(activeItem) {\nconst { user, globalTags } = useContext(UserContext); \n\nconst [loading, isLoading] = useState(true);\nconst [t_loading, is_t_Loading] = useState(true);\nconst [tags, setTags] = useState(null); // all tag objects\nconst [allTags, setAllTags] = useState(null);\nconst [tagCount, setTagCount] = useState({\n    unique: '', \n    sum: ''\n});\n\nuseEffect(() => {\n    let sort;\n    switch(activeItem) {\n        case 'recent': sort = 'date';\n        break;\n        case 'A - Z': sort = 'name';\n        break;\n        case 'count': sort = 'count';\n        break;\n        default: sort = 'date'; \n    }\n\naxios.get(`/posts/tags/${user.house._id}/${sort}`)\n    .then(res => {\n        const tagData = res.data.data; \n        setTags(tagData.allTags);\n        setTagCount({\n            unique: tagData.allTags.length,\n            sum: tagData.postTagSum\n        })\n        isLoading(false);\n    }).catch((err) => { console.log(err) })\n}, [activeItem, globalTags]); \n\n\nconst getAllTagsFromPosts = () => {\n    axios.get(`/posts/allTags/${user.house._id}/`)\n    .then(res => {\n        const tagData = res.data.data; \n        setAllTags(tagData.allTagsFromPosts);\n        is_t_Loading(false);\n    }).catch((err) => { console.log(err) })\n};\n\n\n//last 3 tags\nconst [lastThreeTags, setLastTags] = useState(null);\nuseEffect(() => {\n            try {\n                axios({\n                    method: 'GET',\n                    url: `/tags/last3/${user.house._id}`\n                }).then(res => {\n                    setLastTags(res.data.data.results);\n                })\n            } catch(err) {\n                console.log(err)\n            }\n}, [globalTags]) // added user \n   \n    return {\n        loading,\n        t_loading,\n        tags,\n        tagCount,\n        allTags,\n        getAllTagsFromPosts,\n        lastThreeTags\n    }\n}","import React, { useState, useRef } from 'react'; \nimport { Link } from 'react-router-dom';\nimport LinkUpload from './LinkUpload';\nimport NoteUpload from './NoteUpload';\nimport DragUpload from './DragUpload';\nimport Search from '../Search'; \nimport TagBank from '../../sections/TagBank'; \nimport CommentInput from '../../components/CommentInput'; \nimport Tooltip from '../../atoms/Tooltip';\nimport AutoComplete from '../../atoms/AutoComplete';\nimport RecentTags from '../../atoms/RecentTags';\nimport Prompt from '../../atoms/Prompt'; \nimport Error from '../../atoms/Error';\nimport Button from '../btns/Button';\nimport TooltipBar from '../btns/TooltipBar';\nimport useTags from '../../hooks/paths/useTags';\nimport { uploadBtns, NOTE_TOOLTIP } from '../../data/buttons';\nimport { VscClose, VscQuestion } from 'react-icons/vsc'; \nimport { CSSTransition } from 'react-transition-group';\n\nexport default function UploadContainer(props) { \n    const nodeRef = useRef(null); \n    const { type, room, switchType, values, error } = props;\n    const [comments, setComments] = useState(false);\n    const [tooltip, setTooltip] = useState(false);\n\n    const { lastThreeTags } = useTags(); \n    \n    const openAutoComplete = ((props.results.length !== 0) && (props.values.input !== ''));\n\n    return (   \n        <div className=\"upload__container\">  \n            <div className=\"upload__controller\">\n            <TooltipBar handleClick={switchType} type={type}\n                        buttons={uploadBtns}\n                        direction=\"column\"/>\n                <Link to={`/home/${room}`}> \n                    <Button icon={<VscClose className=\"icon icon__btn icon--warning\"/>}/>\n                </Link> \n            </div>\n            <div className=\"upload__form\">\n                <CSSTransition in={values.error} timeout={350} nodeRef={nodeRef} classNames=\"fade\" unmountOnExit>\n                    <div className=\"upload__error__msg\" ref={nodeRef}> <Prompt type=\"warning\" prompt={values.error}/>\n                </div>\n                </CSSTransition>\n                <CSSTransition in={error} timeout={350} nodeRef={nodeRef} classNames=\"fade\" unmountOnExit>\n                    <div className=\"upload__error__notif\" ref={nodeRef}> \n                        <Error error={error}/>\n                </div>\n                </CSSTransition>\n                        { type === 'link' && <LinkUpload {...props} /> }\n                        { type === 'note' && <NoteUpload ref={props.editRef} {...props} /> }\n                        { type === 'file' && <DragUpload /> }\n                    <div className=\"upload__extra\" style={{flexDirection:'column'}}> \n                        {(type === 'link' || type === 'file') && <>\n                        <div className=\"upload__label\"> \n                            <h4>Add path</h4> \n                        </div> \n                        <div className=\"addTags\">\n                          <Search values={values}\n                                    results={props.results} \n                                    ref={props.searchRef} \n                                    selectTag={props.selectTag}\n                                    handleChange={props.handleChange} \n                                    addTags={props.addTags} \n                                    clearInput={props.clearInput}\n                                    handleKeyDown={props.handleKeyDown} \n                                   /> \n                            {openAutoComplete &&\n                                    <AutoComplete results={props.results} \n                                                selectTag={props.selectTag}/>}\n                            <TagBank tags={values.tags} \n                                    handleDelete={props.removeTag}/> \n                            </div> </>}\n                            {(type === 'note') && \n                            <div className=\"tooltipAnchor flex alignCenter\">\n                                <VscQuestion className=\"icon icon__btn\"\n                                    onMouseEnter={() => setTooltip(true)}\n                                    onMouseLeave={() => setTooltip(false)}/>\n                                <h5 className=\"lightest\"> &nbsp; Add path </h5> \n                               <Tooltip show={tooltip} text={<NOTE_TOOLTIP/>} direction=\"left\" style=\"black\"/>\n                            </div>\n                                }     \n                            <RecentTags tags={lastThreeTags} selectTag={props.selectTag}/>                 \n                    </div>\n                    <div className=\"upload__extra\"> \n                        <div className=\"upload__label active\" onClick={() => setComments(!comments)}> \n                            <h4>Comment</h4>\n                        </div>\n                        <CommentInput show={comments} value={values.comment} handleChange={props.handleChange}  />\n                    </div> \n                </div>\n        </div> \n    )\n}\n\n","import React, { useRef } from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nconst Rolldown = (props) => {\n    const nodeRef = useRef(null);\n\n    return (\n        <CSSTransition in={props.in} \n                timeout={350} \n                nodeRef={nodeRef} \n                classNames=\"rollDown\" \n                unmountOnExit> \n            <div ref={nodeRef}>\n                {props.children}\n            </div>\n        </CSSTransition>\n\n    );\n}\n \nexport default Rolldown;","import React, { useState, useEffect } from 'react';\nimport { VscChevronDown } from 'react-icons/vsc';\nimport Rolldown from '../animate/Rolldown';\n\nexport default function LayerSelectMenu({ items, active, selectItem, setAdd }) { \n    const list = items.filter(item => item.label !== active);\n \n    const [menu, setMenu] = useState(false);\n\n    useEffect(() => {\n        setMenu(false); \n    }, [active]);\n    \n    const handleMenuToggle = () => {\n        setMenu(!menu);\n    } \n\n    return( \n        <div className=\"selectmenu\">\n            <h4 className=\"selectmenu__picked\" onClick={handleMenuToggle}\n            style={{paddingRight:'5rem'}}> \n                {active} \n                <VscChevronDown className=\"icon icon__btn selectmenu__expand\"/> \n            </h4> \n             <Rolldown in={menu}>\n                <menu className=\"selectmenu__dropdown\">\n                        {list.map(item => {\n                            return (\n                                <li className=\"selectmenu__item\" key={item.id} data-id={item.id} \n                                    onClick={(e) => selectItem(e)}>\n                                    {item.label}\n                                </li>\n                            )\n                        })}\n                        <li className=\"selectmenu__item selectmenu__item--new\" onClick={() => setAdd(false)}>\n                            <h4 className=\"lightest\" style={{fontWeight:'bold'}}>\n                                + Add layer\n                            </h4>     \n                        </li> {/*spacer elem*/}\n                        <div style={{height:'3rem', marginBottom:'-3rem', background:'transparent'}}\n                            >\n                        </div>\n                    </menu>\n             </Rolldown>\n        </div>\n    )\n}\n\n","import React from 'react';\nimport UploadContainer from '../components/upload/UploadContainer';\nimport LayerSelectMenu from '../components/menus/LayerSelectMenu';\nimport CTA from '../components/btns/CTA'; \nimport useSubmit from '../hooks/upload/useSubmit';\nimport { VscArrowSmallRight } from 'react-icons/vsc';\n\nexport default function AddPost(props) {\nconst { values, rooms, setAdd, editorState } = props; \n\nconst { handleLinkSubmit, handleNoteSubmit, error } = useSubmit();\n\nconst sendSubmit = (e) => {\n    e.preventDefault(); \n    switch(props.type) { \n        case 'link': handleLinkSubmit({ values });\n        break;\n        case 'note': //convert draft-js to a string \n            const data = editorState.getCurrentContent();\n            handleNoteSubmit(values, data);\n        break; \n        default: handleLinkSubmit({ values });\n    }\n} \n    return(\n        <form style={{width:'75%', marginTop:'3rem'}} onSubmit={sendSubmit}>\n                    <div className=\"addLayer\" style={{justifyContent:'flex-end'}}\n                        onClick={() => setAdd(false)}>\n                        <h5 className=\"light\">Add layer</h5> <VscArrowSmallRight className=\"icon icon__btn\"/>\n                    </div>\n                    <UploadContainer {...props}\n                                    error={error}  \n                                    />\n                    <div className=\"inlineForm__submit\" style={{justifyContent:'flex-end', paddingTop:'3rem'}}>\n                        <div className=\"flex alignCenter\"> \n                            <h4>Place in</h4> \n                            <LayerSelectMenu items={rooms} \n                            active={values.roomName} \n                            selectItem={props.selectItem}\n                            setAdd={setAdd} \n                            /> \n                        </div>  \n                            <CTA name=\"add\" kind=\"primary\" type=\"submit\"/> \n                        </div>\n            </form>\n    )\n}","import { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios'; \nimport { convertToRaw } from 'draft-js';\nimport { UserContext } from '../UserContext';\nimport slugify from 'react-slugify';\n\nexport default function useSubmit() {\n    const { globalTags } = useContext(UserContext);\n    let history = useHistory();\n    const [error, setError] = useState(null);\n\n//handle URL POST\n    const handleLinkSubmit = async (formValues) => {\n        const { content, user, house, room, roomName, tags, comment } = formValues.values;\n        const roomTo = slugify(roomName);\n\n        await axios\n                .post('/posts', { // post note \n                    type: 'link',\n                    content,\n                    user,\n                    house, \n                    room,\n                    tags,\n                }).then((res) => {\n                //if comment exists, post comment w/ post id\n                const post = res.data.data.doc._id;\n                if(comment !== '') {\n                    axios.post('/comments', {\n                        comment, \n                        user,\n                        post\n                    })\n                    //.then(res => console.log(res));\n                }\n                history.push(`/${roomTo}`);\n            }).catch((err) => { \n                if(err.response.status === 400) {\n                   // console.log(err.response.data);\n                    setError(err.response.data.messages); //not read at the moment \n                }\n            })\n        };\n\n//handle note POST \n    const handleNoteSubmit = async (formValues, data) => {\n        //stringify draft-js to save\n        const note = JSON.stringify(convertToRaw(data));\n        const tagArr = [];\n        let tag;\n        \n        console.log(globalTags);\n        // get tags from note to save to post \n        if(globalTags.length !== 0) { // check if tags exist  \n            const text = data.getPlainText(); \n            const tagNames = globalTags.map(el => el.tag);\n            const TAGS_REGEX = new RegExp(tagNames.join(\"|\"), \"gi\"); // create regex to search for names \n    \n                while ((tag = TAGS_REGEX.exec(text)) !== null) {\n                    const foundTag = tag[0].toLowerCase(); //convert tag to lc \n                    let tagObj = globalTags.find(obj => obj.tag === foundTag);\n                    tagArr.push(tagObj);\n                }\n        }\n\n        const { user, house, room, roomName, comment } = formValues;\n        const roomTo = slugify(roomName);\n    \n        try {\n            await axios({\n                method: 'POST',\n                url: 'posts',\n                data: {\n                    type: 'note',\n                    content: note,\n                    user,\n                    house, \n                    room,\n                    tags: [...tagArr],\n                    comment\n                }\n            }).then(res => {\n                //console.log(res);\n                history.push(`/${roomTo}`); \n            })\n            } catch(err) {\n                console.log(err)\n            }\n        };\n\n    return {\n        handleLinkSubmit,\n        handleNoteSubmit,\n        error\n    }\n}\n","import React, { useContext } from 'react'; \nimport FormInput from '../components/FormInput';\nimport Error from '../atoms/Error';\nimport Notification from '../atoms/Notification';\nimport CTA from '../components/btns/CTA';\nimport { VscAdd, VscArrowSmallLeft } from 'react-icons/vsc';\nimport useAddLayer from '../hooks/layers/useAddLayer';\nimport { UserContext } from '../hooks/UserContext';\n\nexport default function AddLayer(props) {\n    const { rooms } = useContext(UserContext);\n    console.log(rooms);\n    const { setAdd } = props; \n\n    const { handleAddRoom, \n            roomInput, \n            handleChange,\n            error,\n            success } = useAddLayer();\n            \n    return (\n        <div className=\"page\" onSubmit={handleAddRoom} style={{marginTop:'10rem'}}>\n        <form style={{width:'75%'}}>\n            {(rooms.length > 0) &&\n            <div className=\"addLayer\" onClick={() => setAdd(true)}>\n                <VscArrowSmallLeft className=\"icon icon__btn icon--active\"/> \n                <h5 className=\"light\">Back to post</h5> \n            </div>}\n            <div className=\"inlineForm__notif\">\n                {error && <Error error={error.messages}/>}\n                {success && <Notification notif={success}/>}\n            </div>\n            <div className=\"upload__extra\">\n                <h4 className=\"upload__label\">Add layer</h4>\n                <FormInput type={\"text\"} placeholder={\"Layer name\"} name={\"room\"} \n                            value={roomInput} \n                            handleChange={handleChange} \n                            /> \n            </div>\n            <div className=\"inlineForm__submit\" style={{justifyContent:'flex-end'}}>  \n                <CTA name={<VscAdd/>} kind=\"primary\" type={\"submit\"}/> \n            </div>\n        </form>\n    </div>\n    )\n}\n ","import { useState, useContext } from 'react';\nimport axios from 'axios';\nimport slugify from 'react-slugify';\nimport { UserContext } from '../UserContext';\nimport uuid from 'react-uuid'\n\nexport default function useAddLayer() {\n    const { user, groups, setGroups } = useContext(UserContext);\n    const house = user.house._id; \n\n    // set global context from rooms as init state \n    const [roomInput, setNewRoom] = useState('');\n    const [error, setError] = useState(null); \n    const [success, setSuccess] = useState(null); \n\n    //HANDLE USER INPUT\n    const handleChange = (e) => {\n        setNewRoom(e.currentTarget.value);\n    }\n    \n    //GET ROOMS\n    const getAllRooms = async () => {\n        await axios.get(`/houses/${house}`)\n        .then(res => {\n            console.log(res.data.data.doc.groups);\n           // const allRooms = res.data.data.doc.rooms;\n           // setRooms(allRooms);\n        }).catch(err => console.log(err));\n    }\n\n    //VALIDATE LAYER\n    const validateLayer = async (layer) => {\n        const newSlug = slugify(layer);\n        if(!newSlug || newSlug === '') {\n            setError({messages: 'Layer names can\\'t be blank.', \n            fields: ['room']})\n            return;\n        }\n         \n        //validated --> push to layer/group arrays \n        const newId = uuid();\n        const getGroups = [...groups];\n        const ungrouped = getGroups[getGroups.length - 1].layers;\n    \n        //get id by +1 to last ID\n        const newLayer = {  \n            label: layer,\n            slug: newSlug,\n            description: '//',\n            id: newId\n        };\n        console.log(newLayer);\n        \n        //add new layer to group\n        const newUngrouped = [...ungrouped, newLayer]; // all new ungrouped layers    \n        const newGroups = getGroups.map(x => {\n            if(x.id === \"ungrouped\") {\n                return {\n                    ...x,\n                    layers: newUngrouped\n                }\n            } return x\n        });\n        addNewLayer(newGroups);\n    }\n \n    //CREATE LAYER \n    const addNewLayer = async (newGroups) => {\n        return axios.put(`/houses/${house}`, {\n            groups: newGroups\n          }).then( async() => {\n              setGroups(newGroups);\n              setSuccess('Layer created.');\n          }).catch(err => console.log(err));\n    }\n\n    //handle user actions \n    const handleAddRoom = async (e) => {\n        e.preventDefault(e);\n        setError(null); //clear state \n        setSuccess(null);\n        await validateLayer(roomInput);\n        await getAllRooms();\n    }\n\n    return {\n        handleChange,\n        handleAddRoom,\n        roomInput,\n        error,\n        success\n    }\n}\n\n","//all possible tag colors \nexport const colors = [\n    //tan\n    '#b39f86',\n    '#E6DDCE',\n    '#cc634e',\n    '#E7C4A8',\n    '#D68A58',\n    '#DAC5B2',\n    '#D2BFB8',\n    '#eed1c1',\n    '#DEBB9F',\n    '#FCCBA0',\n\n    // peach\n    '#FFD7BE', \n    '#FFBCB3', \n    '#FFB884',\n    '#F3E0DA',\n    '#F1ADAE',\n    '#FF7C74',\n    '#DDBC9D',\n    '#FCCBA0',\n    '#F7AE83',\n    '#F3B991',\n    '#E6A191',\n    '#fda985',\n    '#FF9F75',\n\n    //red\n    '#FF533F',\n    '#D27F57',\n    '#FE786D',\n    '#fa6954',\n\n    //yellow/orange\n    '#FFAF00',\n    '#FBF0D2',\n    '#F1D292',\n    '#DBA65A',\n    '#E5C32C',\n    '#f0a065',\n    '#FECB00',\n    '#FFB047',\n    '#f0da9e',\n    '#FA6219',\n    '#F4DD73',\n    '#EEAD35',\n    '#F3E2C2',\n    '#EACA3B',\n    '#FF8532',\n    '#FAE1C3',\n\n    //green\n    '#7DB078',\n    '#96D85D',\n    '#C9E7DF',\n    '#95CB99',\n    '#dde182',\n    '#90b39d',\n    '#9EEA86',\n    '#afc5ae',\n    '#a0b9b6',\n    '#6ed4c7',\n    '#3ACB4A',\n    '#ABC5A2',\n    '#659B5D',\n    '#7CD054',\n    '#86A28C',\n    '#CECEC6',\n    '#4FE454',\n    '#ccdbc8',\n    '#a1d7ca',\n\n    //blue\n    '#4E94D2',\n    '#67c3ec',\n    '#C8E2FD',\n    '#70C7DB',\n    '#ACC1D2',\n    '#D8D9DE',\n    '#D0EEF0',\n    '#7aa9b9',\n    '#c5c9d2',\n    '#8BC2E0',\n    '#A9D1D9',\n    '#AED3DC',\n    '#B1D4CE',\n    '#B8C4DA',\n    '#BBD2F4',\n    '#A3E3FF',\n    '#BFCEE5',\n\n    //purple\n    '#E3D2DA',\n    '#DCBFC1',\n    '#E5D5D8',\n    '#A993AA',\n    '#d7b9c3',\n    '#e1a4ac',\n    '#cecdc9',\n    '#9FA3AF',\n    '#D8BBCD',\n    '#98A5D2',\n    '#DC8DCE',\n    '#c59f9c',\n    '#DDD8D5',\n    '#D5B7AF'\n];\n\nexport const COLOR_OBJECTS = [ \n    { sand: \n    [ '#b39f86',\n    '#E6DDCE',\n    '#cc634e',\n    '#E7C4A8',\n    '#D68A58',\n    '#DAC5B2',\n    '#D2BFB8',\n    '#eed1c1',\n    '#DEBB9F',\n    '#FCCBA0'] },\n\n   { peach: \n    [ '#FFD7BE', \n    '#FFBCB3', \n    '#FFB884',\n    '#F3E0DA',\n    '#F1ADAE',\n    '#FF7C74',\n    '#DDBC9D',\n    '#FCCBA0',\n    '#F7AE83',\n    '#F3B991',\n    '#E6A191',\n    '#fda985',\n    '#FF9F75' ] },\n\n   { red: \n    [ '#FF533F',\n    '#D27F57',\n    '#FE786D',\n    '#fa6954'] },\n\n   { yellow:\n    ['#FFAF00',\n    '#FBF0D2',\n    '#F1D292',\n    '#DBA65A',\n    '#E5C32C',\n    '#f0a065',\n    '#FECB00',\n    '#FFB047',\n    '#f0da9e',\n    '#FA6219',\n    '#F4DD73',\n    '#EEAD35',\n    '#F3E2C2',\n    '#EACA3B',\n    '#FF8532',\n    '#FAE1C3'] },\n\n    { green: \n    ['#7DB078',\n    '#96D85D',\n    '#C9E7DF',\n    '#95CB99',\n    '#dde182',\n    '#90b39d',\n    '#9EEA86',\n    '#afc5ae',\n    '#a0b9b6',\n    '#6ed4c7',\n    '#3ACB4A',\n    '#ABC5A2',\n    '#659B5D',\n    '#7CD054',\n    '#86A28C',\n    '#CECEC6',\n    '#4FE454',\n    '#ccdbc8',\n    '#a1d7ca' ]},\n    \n    {blue: \n    ['#4E94D2',\n    '#67c3ec',\n    '#C8E2FD',\n    '#70C7DB',\n    '#ACC1D2',\n    '#D8D9DE',\n    '#D0EEF0',\n    '#7aa9b9',\n    '#c5c9d2',\n    '#8BC2E0',\n    '#A9D1D9',\n    '#AED3DC',\n    '#B1D4CE',\n    '#B8C4DA',\n    '#BBD2F4',\n    '#A3E3FF',\n    '#BFCEE5' ]},\n\n   { purple: [ \n    '#E3D2DA',\n    '#DCBFC1',\n    '#E5D5D8',\n    '#A993AA',\n    '#d7b9c3',\n    '#e1a4ac',\n    '#cecdc9',\n    '#9FA3AF',\n    '#D8BBCD',\n    '#98A5D2',\n    '#DC8DCE',\n    '#c59f9c',\n    '#DDD8D5',\n    '#D5B7AF']}\n];","import React, { useContext, useState } from 'react'; \nimport Header from '../sections/Header';\nimport Drawer from '../components/Drawer';\nimport AddPost from '../sections/AddPost';\nimport AddLayer from '../sections/AddLayer';\nimport { UserContext } from '../hooks/UserContext';\nimport useEditor from '../hooks/posts/useEditor';\nimport useUpload from '../hooks/upload/useUpload';\n\n export default function Add(props) { \n    const { user, rooms, globalTags } = useContext(UserContext);  \n\n    const [addPost, setAdd] = useState(true);\n\n    //set room from state, or default to first room in roomArr \n    const roomFrom = props.location.state || rooms[0];\n    const nav = [ {name: roomFrom.label, url: roomFrom.slug } ];\n    \n    const [type, setType]= useState('note'); //set upload type \n    const switchType = (e) => { setType(e.currentTarget.dataset.label); }\n     \n         //handle editor state \n         const { editorState, \n            onNoteChange, \n            mapKeyToEditorCommand, \n            editRef, \n            setFocus,\n            handleKeyCommand,\n            toggleInlineStyle,\n            toggleBlockType,\n             } = useEditor();\n    \n           //handle page state \n           const { values, \n            handleChange, \n            selectItem, \n            searchRef, \n            addTags, \n            results,\n            selectTag, \n            clearInput, \n            removeTag, \n            handleKeyDown,\n            addTagFromNote } = useUpload({\n                        initialValues: {\n                        content: '',\n                        input: '', \n                        tags: [],\n                        comment: '',\n                        house: user.house,\n                        user: user._id,\n                        room: roomFrom.id,\n                        roomName: roomFrom.label,\n                        error: null \n                    }\n                });\n\n     return ( \n        <div className=\"page\"> \n            <Header nav={nav}/>\n            {addPost \n                ? <AddPost roomFrom={roomFrom} \n                        rooms={rooms}\n                        setAdd={setAdd}\n                        type={type} \n                        switchType={switchType} \n                        values={values} \n                        handleChange={handleChange} \n                        selectItem={selectItem}\n                        searchRef={searchRef} \n                        addTags={addTags} \n                        results={results} \n                        selectTag={selectTag}\n                        clearInput={clearInput} \n                        removeTag={removeTag} \n                        handleKeyDown={handleKeyDown}  \n                        editorState={editorState} \n                        onNoteChange={onNoteChange}\n                        mapKeyToEditorCommand={mapKeyToEditorCommand}\n                        handleKeyCommand={handleKeyCommand}\n                        toggleInlineStyle={toggleInlineStyle}\n                        toggleBlockType={toggleBlockType}\n                        editRef={editRef}\n                        setFocus={setFocus}\n                        addTagFromNote={addTagFromNote}\n                        />\n                : <AddLayer setAdd={setAdd}/>\n            }\n            <span className=\"fixedTab\">\n                <Drawer items={globalTags} tab={\"house paths\"} />\n            </span>\n        </div>\n    )\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport { EditorState, CompositeDecorator, RichUtils, getDefaultKeyBinding } from 'draft-js';\nimport { UserContext } from '../UserContext';\n\nexport default function useEditor() {\n    const { globalTags } = useContext(UserContext);\n    const tags = globalTags;\n    const editRef = React.createRef();\n\n    const [editorState, setEditorState] = useState(EditorState.createEmpty());\n\n    const onNoteChange = (editorState) => {\n        setEditorState(editorState);  \n      }\n    \nuseEffect(() => { \n    let tagNames = []; \n\n    if(globalTags.length !== 0) { // check if tags exist  \n        tagNames = tags.map(el => el.tag);\n        const TAGS_REGEX = new RegExp(tagNames.join(\"|\"), \"gi\"); // create regex to search for names \n\n        const findWithRegex = (regex, contentBlock, callback) => {\n            const text = contentBlock.getText();\n            let matchArr, start, end;\n            while ((matchArr = regex.exec(text)) !== null) {\n                start = matchArr.index;\n                end = start + matchArr[0].length;\n                callback(start, end);\n            }\n        }\n\n        function findTags(contentBlock, callback, contentState) {\n            findWithRegex(TAGS_REGEX, contentBlock, callback);\n        };\n    \n        const highlightSpan = (props) => {\n            const tag = props.decoratedText.toLowerCase();\n            const c = tags.find(obj => obj.tag === tag).color;   \n            return (\n                <span className=\"editorTag\" style={{ backgroundColor: c }}>\n                    {props.children}\n                </span>\n                )\n            }; \n    \n            const decorator = new CompositeDecorator([ \n                { strategy: findTags,\n                  component: highlightSpan }\n            ]); \n    \n            const contentState = editorState.getCurrentContent(); \n            const newEditorState = EditorState.createWithContent(contentState, decorator);\n            return setEditorState(newEditorState);\n    }\n\n        //if no tags, return editor w/o decorator \n        const contentState = editorState.getCurrentContent(); \n        const newEditorState = EditorState.createWithContent(contentState);\n        setEditorState(newEditorState);\n    }, [globalTags]); //update on new tag\n\n//rich text fxns\n    //handle keyboard shortcuts like cmd+b for bold \n    const handleKeyCommand = (command, editorState) => {\n        const newState = RichUtils.handleKeyCommand(editorState, command);\n        if(newState) {\n            onNoteChange(newState);\n            return 'handled';\n        }\n        return 'not-handled';\n    };\n\n    const mapKeyToEditorCommand = (e) => {\n        if (e.keyCode === 9 /* TAB */) {\n            e.preventDefault();\n            const newEditorState = RichUtils.onTab(e, editorState, 4);\n        if (newEditorState !== editorState) {\n            onNoteChange(newEditorState);\n        }\n        return;\n        }\n        return getDefaultKeyBinding(e);\n    }\n\n    //style functions\n        const toggleInlineStyle = (e) => {\n            e.preventDefault();\n            let inlineStyle = e.currentTarget.dataset.id;\n            onNoteChange(RichUtils.toggleInlineStyle(editorState, inlineStyle));\n        }\n\n        const toggleBlockType = (e) => {\n            e.preventDefault();\n            let blockType = e.currentTarget.dataset.id;\n            onNoteChange(RichUtils.toggleBlockType(editorState, blockType));\n        }\n\n        const setFocus = () => {\n            editRef.current.focus();\n        };\n\n    return {\n        editorState, \n        setEditorState,\n        onNoteChange,\n        handleKeyCommand,\n        mapKeyToEditorCommand,\n        toggleInlineStyle,\n        toggleBlockType,\n        editRef,\n        setFocus,\n    }\n}","import React, { useState, useContext } from 'react';   \nimport axios from 'axios'; \nimport { UserContext } from '../UserContext';\nimport { colors } from '../../data/colors'; \nimport slugify from 'react-slugify';\n  \nexport default function useUpload({ initialValues }) {\n    const colorArr = colors;\n    const { user, globalTags, setGlobalTags } = useContext(UserContext); \n    const [values, setValues] = useState(initialValues || {}); \n    const [results, setResults] = useState([]);\n    const tags = globalTags;\n \n//define ref for searchbar \nconst searchRef = React.createRef(); \n \n//track form values\n    const handleChange = (event) => {\n        const value = event.target.value; \n        const name = event.target.name;\n            setValues({\n                ...values, \n                [name]: value\n            }); \n\n        if(searchRef.current) { //search in tag input \n           // console.log(searchRef.current.value);\n            try {\n                axios({\n                    method: 'GET',\n                    url: `search/${user.house._id}?search=${value}`\n                }).then(res => {\n                    const returnObj = res.data.data.results; \n                    setResults(returnObj);\n                })\n            } catch(err) { console.error(err); }\n        }\n    };\n\n//handle key down events in tag upload\nconst handleKeyDown = (e) => {\n    if(searchRef.current) {\n       //submit tags on comma or enter press\n        if(e.keyCode === 188 || e.keyCode === 13) {\n            e.preventDefault();\n            addTags();\n        }\n    }\n};\n\n//handle room selection \n    const selectItem = e => {\n        setValues({\n            ...values,\n            roomName: e.currentTarget.textContent,\n            room: e.currentTarget.dataset.id\n        }); \n    }\n\n//add tags to state and post them  \n    const createTag = async (tag) => {\n            const trimmedTag = tag.trim(); //trim whitespace \n            const slug = slugify(trimmedTag);\n            const n = Math.floor(Math.random() * Math.floor(colorArr.length));\n            let color = colorArr[n];\n            try {\n                await axios({\n                    method: 'POST',\n                    url: 'tags',\n                    data: {\n                        tag: trimmedTag,\n                        house: user.house,\n                        user: user._id,\n                        color,\n                        slug\n                    } \n                }).then(res => {\n                    if (res.status === 200) {\n                        //console.log(res.data.data.checkTag[0]._id);\n                        return setValues({ ...values,\n                            error: 'This house already has that tag.'\n                        }); \n                    }\n                    const newTag = res.data.data.tag;\n                    setValues({ ...values,\n                        tags: [...values.tags, newTag],\n                        error: null,\n                        input: ''\n                    }); \n                    setGlobalTags([...tags, newTag]); //add new tag to global scope\n                });\n            } catch(err) {\n                console.log(err);\n            }\n    }; \n\n//select existing tag from autocomplete or recents\n    const selectTag = (e) => {\n        const tagId = e.currentTarget.dataset.id;\n        const tagArr = values.tags.map(el => el._id);\n        if(tagArr.includes(tagId)) {\n             return setValues({ ...values,\n                error: 'Don\\'t add duplicate tags'\n            }); \n        }\n        axios.get(`tags/${tagId}`).then(res => {\n            const newTag = res.data.data.doc;\n            setValues({ ...values,\n                    tags: [...values.tags, newTag],\n                    error: null,\n                    input: ''\n            }); \n        });\n    }\n\n//clear input\n    const clearInput = () => {\n       setValues({\n        ...values,\n        input: ''\n    });\n}\n\n//delete tag from post \n    const removeTag = (tag) => {\n        let newTags = values.tags.filter(el => el !== tag);\n        setValues({\n            ...values,\n            tags: newTags\n        });\n     };\n\n\n//add tag from note directly \n    const addTagFromNote = (e) => {\n        const newTag = window.getSelection().toString();\n        if(newTag) {\n            createTag(newTag);\n        }\n    };\n\n//add tag from search \nconst addTags = () => {\n    if(values.input) {\n        createTag(values.input);\n    } \n    return null; \n}\n        return {\n            handleChange,\n            selectItem,\n            values,\n            results,\n            searchRef,\n            addTags,\n            selectTag,\n            clearInput,\n            removeTag,\n            handleKeyDown,\n            addTagFromNote\n        }\n}","import { Link } from 'react-router-dom';\nimport CTA from '../../components/btns/CTA';\nimport InlineButton from '../../components/btns/InlineButton';\nimport { VscArrowSmallLeft } from 'react-icons/vsc';\n\n\nconst ThreadHeader = ({ setEditor, showEdit }) => {\n    return (\n        <div className=\"thread__header\"> \n        <Link to=\"/house/inbox\" className=\"thread__header__L\">\n            <VscArrowSmallLeft className=\"icon icon__btn\"/>\n            <InlineButton name=\"threads\"/>\n        </Link>\n        <div className=\"thread__header__R\">\n            <Link to=\"/house#new\">  \n                <InlineButton name=\"new thread\"/>\n            </Link>\n            <CTA name={showEdit ? \"close\" : \"reply\"} kind=\"primary\" handleClick={() => setEditor(!showEdit)}/> \n        </div>\n    </div>\n    );\n}\n \nexport default ThreadHeader;","import React, { useRef, useEffect } from 'react';\nimport CTA from '../../components/btns/CTA'; \nimport { Editor } from 'draft-js';\nimport Toolbar from '../../components/btns/Toolbar';\nimport useScrollToBottom from '../../hooks/useScrollToBottom';\n\n//write a rich comment w/ draft js\nconst RichComment = (props) => {\n    const { scrollToBottom, scrollRef } = useScrollToBottom(); \n    const editRef = useRef(null);\n\n    const { \n        handleSubmit,\n        editorState, \n        onNoteChange, \n        mapKeyToEditorCommand, \n        handleKeyCommand, \n        toggleInlineStyle,\n        toggleBlockType } = props;\n\n    useEffect(() => { \n        editRef.current.focus();\n        scrollToBottom();\n    }, []);\n\n    return (\n            <div ref={scrollRef}>\n              <Toolbar \n                        editorState={editorState}\n                        onToggleInline={toggleInlineStyle}\n                        toggleBlockType={toggleBlockType}\n                        //setFocus={setFocus}\n                        addTag={false}/> \n            <div className=\"editorWrapper editorWrapper--inline\" onClick={() => editRef.current.focus()}>\n                <Editor ref={editRef} \n                        editorState={editorState} \n                        spellCheck={true}\n                        handleKeyCommand={handleKeyCommand}\n                        mapKeyToEditorCommand={mapKeyToEditorCommand}\n                        onChange={onNoteChange} \n                        />\n            </div>\n            <div className=\"threadDraft__submit\"> \n                <CTA name=\"discard\" type=\"button\"/>\n                <CTA name=\"finish\" type=\"submit\" kind=\"secondary\" handleClick={handleSubmit}/>\n            </div>\n        </div>\n    );\n}\n \nexport default RichComment; ","import { useRef } from 'react';\n\nexport default function useScrollToBottom() {\n    const scrollRef = useRef(null)\n\n    const scrollToBottom = () => {\n      scrollRef.current.scrollIntoView({ behavior: \"smooth\" });\n      console.log(scrollRef.current);\n    }\n  \n    return {\n        scrollRef,\n        scrollToBottom\n    }\n}","import { useState } from 'react';\nimport { EditorState, RichUtils, getDefaultKeyBinding } from 'draft-js';\nimport { getCurrentDate } from '../../data/utils';\n\nexport default function useRichEditor() {\n    //TITLE\n    const [title, setTitle] = useState(getCurrentDate());\n    \n    const onTitleChange = (e) => {\n      setTitle(e.target.value);\n    }   \n\n    //CONTENT\n    const [editorState, setEditorState] = useState(EditorState.createEmpty());\n\n    const onNoteChange = (editorState) => {\n        setEditorState(editorState);  \n      } \n\n    // clear editor \n    const clearEditor = () => {\n      setEditorState(EditorState.createEmpty());\n    }\n\n    //handle keyboard shortcuts like cmd+b for bold \n    const handleKeyCommand = (command, editorState) => {\n        const newState = RichUtils.handleKeyCommand(editorState, command);\n        if(newState) {\n            onNoteChange(newState);\n            return 'handled';   \n        }\n        return 'not-handled';\n    };\n\n    const mapKeyToEditorCommand = (e) => {\n        if (e.keyCode === 9 /* TAB */) {\n          const newEditorState = RichUtils.onTab(\n            e,\n            editorState,\n            4, /* maxDepth */\n          );\n          if (newEditorState !== editorState) {\n            onNoteChange(newEditorState);\n          } \n          return;\n        }\n        return getDefaultKeyBinding(e);\n      }\n\n    //style functions\n    const toggleInlineStyle = (e) => {\n        e.preventDefault();\n        let inlineStyle = e.currentTarget.dataset.id;\n        onNoteChange(RichUtils.toggleInlineStyle(editorState, inlineStyle));\n      }\n\n    const toggleBlockType = (e) => {\n        e.preventDefault();\n        console.log(e.currentTarget.dataset.id);\n        let blockType = e.currentTarget.dataset.id;\n        onNoteChange(RichUtils.toggleBlockType(editorState, blockType));\n      }\n\n    return {\n        title,\n        onTitleChange,\n        editorState,\n        setEditorState,\n        onNoteChange,\n        mapKeyToEditorCommand,\n        handleKeyCommand,\n        toggleInlineStyle,\n        toggleBlockType,\n        clearEditor\n    }\n}","export const getCurrentDate = () => {\n    let date = new Date().toLocaleDateString('en', \n                    { day: \"numeric\", \n                    month: \"short\", \n                    year: \"numeric\" }); \n    return date;\n}","import React, { useRef } from 'react';\nimport RichComment from './RichComment';\nimport useRichEditor from '../../hooks/posts/useRichEditor'; \nimport useThreadComments from '../../hooks/threads/useThreadComments';\nimport { Editor, convertToRaw, EditorState, convertFromRaw } from 'draft-js';\nimport { CSSTransition } from 'react-transition-group';\n\nconst ThreadComments = (props) => {\n    const nodeRef = useRef(null);\n    const { id, showEdit, setEditor, thread } = props; \n    \n    const { \n        editorState, \n        onNoteChange, \n        clearEditor, \n        mapKeyToEditorCommand, \n        handleKeyCommand, \n        toggleInlineStyle, \n        toggleBlockType,\n    } = useRichEditor();\n\n    const { comments, loading, handleAddComment } = useThreadComments(id);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const raw = editorState.getCurrentContent();\n        const comment = JSON.stringify(convertToRaw(raw));\n        handleAddComment(comment); \n        clearEditor();\n    }\n\n    return (\n        <>\n        <hr/> \n        <div className=\"thread__comments\">\n           {!loading && comments.map(el => {\n               const contentState = convertFromRaw(JSON.parse(el.comment));\n               const editorState = EditorState.createWithContent(contentState);\n               return (\n                <div className=\"threadComment\" key={el._id}>\n                    <div className=\"thread__metadata\" style={{paddingBottom:'0.5rem'}}>\n                    <h4 className=\"thread__author\"> {el.user.username} </h4>\n                        <h4 className=\"thread__date\"> {el.createdOn} </h4>\n                    </div>\n                    <Editor editorState={editorState} \n                            readOnly={true} /> \n                </div>\n               )\n           })}\n            <CSSTransition \n                in={showEdit} timeout={250} \n                nodeRef={nodeRef} classNames=\"rollDownFadeOut\" unmountOnExit>\n                <div className=\"threadDraft\" ref={nodeRef}>\n                 <h4 className=\"heavy\">reply to {thread} </h4>\n                 <RichComment   setEditor={setEditor}\n                                handleSubmit={handleSubmit}\n                                editorState={editorState} \n                                onNoteChange={onNoteChange} \n                                mapKeyToEditorCommand={mapKeyToEditorCommand} \n                                handleKeyCommand={handleKeyCommand} \n                                toggleInlineStyle={toggleInlineStyle} \n                                toggleBlockType={toggleBlockType} />\n                </div>\n            </CSSTransition>\n        </div>\n        </>\n      );\n}\n \nexport default ThreadComments;\n\n","import { useState,  useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { UserContext } from '../UserContext'; \n\nexport default function useThread(id) {\n    const { user } = useContext(UserContext);\n\n    //post state \n    const [loading, isLoading] = useState(true); \n    const [comments, setComments] = useState(null);\n\n    //GET COMMENTS \n    const getComments = async () => {\n        return axios.get(`/comments/${id}`)\n            .then(res => {\n            const c = res.data.data.comments;\n            setComments(c);\n            isLoading(false);\n        }).catch(err => console.log(err));\n    }\n\n    //POST COMMENTS\n    const addComment = async (comment) => { \n        return axios.post('/comments', {\n            post: id,\n            user,\n            comment\n        }).then(res => {\n           // console.log(res); \n           // const newComment = res.data.data.doc;\n        })\n    }\n\n    //operations\n    const handleAddComment = async (comment) => {\n        await addComment(comment);\n        await getComments();\n    }\n\n\n    useEffect(() => {\n        async function loadComments() {\n            await getComments();\n        }\n        loadComments();\n    }, []);\n\n    return {\n    comments,\n    loading,\n    handleAddComment\n    }\n}","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport default function useShowEditor() {\n    let location = useLocation();\n\n    const [showEdit, setEditor] = useState(null);\n\n    useEffect(() => {\n        if(location.hash === '#new') {\n           return setEditor(true);\n        }\n        return setEditor(false);\n    }, []);\n\n    return {\n        showEdit,\n        setEditor,\n    }\n}","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport ThreadHeader from '../sections/posts/ThreadHeader';\nimport ThreadComments from '../sections/posts/ThreadComments';\nimport { Editor } from 'draft-js';\nimport useThread from '../hooks/threads/useThread';\nimport useShowEditor from '../hooks/threads/useShowEditor';\n\n\nconst Thread = () => {\n    const params = useParams();\n    const id = params.threadId;\n    const { loading, metadata, editorState } = useThread(id); \n    const { showEdit, setEditor } = useShowEditor();\n\n    return (\n        <div className=\"page\">\n            <ThreadHeader setEditor={setEditor} showEdit={showEdit}/>\n           {!loading && \n            <div className=\"thread\">\n                <div className=\"thread__OG\">\n                    <h3 className=\"thread__title\">{metadata.title}</h3>\n                    <div className=\"thread__metadata\">\n                        <h4 className=\"thread__author\">{metadata.author}</h4>\n                        <h4 className=\"thread__date\">{metadata.date}</h4>\n                    </div>\n                    <Editor readOnly={true} \n                            editorState={editorState}/> \n                </div> \n                    <ThreadComments id={id} setEditor={setEditor} showEdit={showEdit} thread={metadata.title}/>\n            </div>}\n        </div>\n    );\n}\n \nexport default Thread;\n","import { useState, useEffect } from 'react';\nimport { EditorState, convertFromRaw } from 'draft-js';\nimport axios from 'axios';\n\nexport default function useThread(id) {\n    //post state \n    const [loading, isLoading] = useState(true); \n    const [metadata, setMetadata] = useState(null);\n    const [editorState, setEditorState] = useState(EditorState.createEmpty());\n\n    //GET POST \n    const getPost = async () => {\n        return axios.get(`/posts/${id}`).then(res => {\n            const post = res.data.data.doc;\n            setMetadata( {title: post.title, author: post.user.username, date: post.createdOn} );\n            const contentState = convertFromRaw(JSON.parse(post.content)); \n            let newEditorState = EditorState.createWithContent(contentState); \n            setEditorState(newEditorState);\n            return isLoading(false);\n            });\n    } \n    \n    useEffect(() => {\n        async function getThread() {\n            await getPost();\n        }\n        getThread();\n    }, []);\n\n    return {\n        metadata,\n        editorState,\n        loading\n    }\n}","import React from 'react';\n\nconst ColorPicker = ({tag, eyedrop, handleColorSelect}) => {\n    \n    return (\n        <input type=\"color\" className=\"colorInput\" data-id={tag._id} \n        defaultValue={tag.tagObject[0].color} \n        disabled={ eyedrop ? false : true}\n        onBlur={(e) => handleColorSelect(e)}\n        />\n    );\n}\n \nexport default ColorPicker;","import React from 'react';\nimport Fade from '../components/animate/Fade';\n\nconst TagCount = ({tag, activeFilter}) => {\n    return (\n    <Fade in={activeFilter.includes('count')}>\n        <h4 className=\"tag__count\">\n            {tag.countEach}\n        </h4> \n    </Fade>\n    );\n}\n \nexport default TagCount;","import React from 'react';\nimport ColorPicker from '../atoms/ColorPicker';\nimport TagCount from '../atoms/TagCount';\n\nconst TagBody = (props) => {\n    const {tag, activeFilter } = props;\n\n    return (\n        <div className=\"tag\"\n                style={activeFilter.includes('color') \n                        ? {backgroundColor: tag.tagObject[0].color} : \n                            {}} >\n                <h4>{tag.name}</h4>\n            <ColorPicker {...props}/>\n            <TagCount {...props}/>\n    </div>\n    );\n}\n \nexport default TagBody;","import React from 'react';\nimport TagBody from '../components/TagBody';\nimport Fade from '../components/animate/Fade';\n\nexport default function TagList({ tags, tagCount, ...props }) {\n\n    return( \n        <>\n        <div className=\"houseTags\">\n            {tags.map((tag, i) => {\n                return(\n                    <div style={{marginBottom:'1rem'}} key={i}>\n                        <TagBody tag={tag} {...props}\n                        />\n                    </div>\n                )\n            })}\n        </div> \n             <Fade in={props.activeFilter.includes('count')}>\n            <div className=\"houseTags__stats\">\n                <h4>This house has created {tagCount.unique} tags&nbsp; </h4>\n                <h4> and used them {tagCount.sum} total times. </h4>\n            </div>\n            </Fade> \n        </>\n    )\n}\n","import React from 'react';\nimport { VscPaintcan } from 'react-icons/vsc';\n\nexport default function Filter (props) { \n   // console.log(props);\n    return(\n        <menu className=\"filter\">\n            {props.filters.map(item => {\n                return (\n                    <li className={`filter__item ${props.activeFilter.includes(item) ? 'filter__item--active' : ''}`} \n                    key={item} data-id={item}\n                    onClick={(e) => props.handleFilterClick(e)}>\n                        {item}\n                    </li>\n                )\n            })}\n\n                <div className={`filter__paint ${props.eyedrop ? \"filter__paint--active\" : ''}`}>\n                {props.activeFilter.includes('color') &&\n                    <VscPaintcan className={`icon icon__btn ${props.eyedrop ? \"icon--active\" : ''}`}\n                        onClick={props.handlePaintClick}/>\n                    }\n                </div>\n      \n        </menu>\n    )\n}","import React, { useContext } from 'react';\nimport Header from '../sections/Header'; \nimport TagList from '../sections/TagList';\nimport ListMenu from '../components/ListMenu';\nimport Filter from '../components/Filter';\nimport useManyFilters from '../hooks/useManyFilters';\nimport useOneFilter from '../hooks/useOneFilter';\nimport useTags from '../hooks/paths/useTags';\nimport { Loading } from '../components/Loading';\nimport { UserContext } from '../hooks/UserContext';\nimport useChangeColor from '../hooks/paths/useChangeColor';\n \nexport default function Tags() {\n    const { user } = useContext(UserContext); // get house name here \n \n    //set sort\n    const list = ['recent', 'A - Z', 'count']; \n    const { handleOneFilter, activeItem } = useOneFilter('recent');\n\n    //set filter \n    const filters = ['count', 'color'];\n    const { handleFilterClick, activeFilter } = useManyFilters(['color']);\n\n    //get tags\n    const { tags, tagCount, loading } = useTags(activeItem);\n    const { eyedrop, handlePaintClick, handleColorSelect } = useChangeColor(); \n    \n    return(\n        <div className=\"page\">\n            <div className=\"houseTags__header\"> \n                    <h3>{user.house.house} paths</h3> \n                    <Filter filters={filters} activeFilter={activeFilter} handleFilterClick={handleFilterClick} \n                            handlePaintClick={handlePaintClick} eyedrop={eyedrop}\n                            /> \n            </div>\n            <div className=\"layer\">\n                <div className=\"layer__sidebar\">\n                    <ListMenu title={'sort'} list={list} activeItem={activeItem} handleOneFilter={handleOneFilter}/>\n                </div>\n                <div className=\"layer__body\">\n                { loading && <Loading/> }\n                {(!loading && tags.length === 0) && \n                        <div className=\"layer__empty\">\n                            <h3 className=\"light\">\n                                Empty room \n                            </h3>\n                        </div>\n                    }\n                {!loading && \n                        <TagList tags={tags} tagCount={tagCount} activeFilter={activeFilter} \n                            eyedrop={eyedrop} handleColorSelect={handleColorSelect}\n                    />}\n                </div>\n            </div>\n        </div>\n    )\n}","import { useState } from 'react';\n\nexport default function useManyFilters(initialState) {\n    const [activeFilter, changeFilter] = useState(initialState);\n\n    const handleFilterClick = (e) => {\n        const currentState = [...activeFilter];\n        const newFilter = e.target.dataset.id;\n        let c; \n        //check if activeFilter contains newFilter\n        if(currentState.includes(newFilter)) { \n            //if activeFilter contains newFilter, remove it\n           c = currentState.filter(el => el !== newFilter);\n        } else {\n            //if activeFilter doesn't contain newFilter, add it  \n            c = currentState.concat(e.target.dataset.id);\n        }\n        changeFilter(c);\n    }\n\n    return {\n        activeFilter, \n        handleFilterClick\n    }\n}","import { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { UserContext } from '../UserContext';\n\nexport default function useChangeColor() {\n    const { globalTags, setGlobalTags } = useContext(UserContext);\n    //change tag color \n    const [eyedrop, colorChangeActive] = useState(false);\n\n    const handlePaintClick = () => {\n        colorChangeActive(!eyedrop); \n    }\n\n    async function changeColor(color, id) {\n        return axios.put(`/tags/${id}`, \n            { color })\n            .then(res => {\n                console.log(res.data.data.doc); \n                const newTag = res.data.data.doc;\n                const remainingTags = globalTags.filter(el => el._id !== newTag._id);\n                setGlobalTags([...remainingTags, newTag]);\n            }).catch(err => console.log(err));\n    }\n\n    const handleColorSelect = async (e) => {\n        console.log(e.target.value);\n        const color = e.target.value;\n        const id = e.target.dataset.id;\n        await changeColor(color, id);\n    }\n    \n    return {\n        handlePaintClick,\n        handleColorSelect,\n        eyedrop\n    }\n}","import React from 'react';\nimport { Link } from 'react-router-dom'; \n\nconst HouseNav = ({ hover }) => { \n    return (\n    <div className=\"houseNav\"> \n        <div className=\"houseNav__A\"> \n            <Link to=\"/library/paths\" className={`A A1 ${hover === 1 ? 'hover' : '' }`}>\n                    1\n            </Link>\n            <Link to=\"/library/rooms\" className={`A A2 ${hover === 2 ? 'hover' : '' }`}>\n                    2\n            </Link>\n        </div>\n\n        <div className=\"houseNav__B\"> \n            <Link to=\"/library/syllabus\" className={`B B1 ${hover === 3 ? 'hover' : '' }`}> \n                3\n            </Link>\n            <div className=\"B2\">\n                <div className=\"B2--top\">\n                <Link to=\"/\" className={`B B2--4 ${hover === 4 ? 'hover' : '' }`}> \n                        4\n                    </Link>\n                <Link to=\"/\" className={`B B2--5 ${hover === 5 ? 'hover' : '' }`}> \n                       5\n                    </Link>\n                </div>\n                    <Link to=\"/library/archive\" className={`B B2--6 ${hover === 6 ? 'hover' : '' }`}> \n                       6\n                    </Link>\n            </div>\n            <Link to=\"/library/inbox\" className={`B B3 ${hover === 7 ? 'hover' : '' }`}> \n                        7\n            </Link>\n        </div>\n    </div>\n    );\n}\n \nexport default HouseNav;\n                     ","import React from 'react';\nimport { Link } from 'react-router-dom'; \n\nconst HouseNavMenu = ({ house, hoverRoom }) => {\n    const rooms = [\n                { url: 'paths', label: 'Path key' }, \n                { url: 'rooms', label: 'Room key' }, \n                { url: 'syllabus', label: 'Syllabus' },\n                { url: '', label: 'Post view' },\n                { url: '', label: 'Path view' },\n                { url: 'archive', label: 'Archive' },\n                { url: 'filing', label: 'Mailroom' }\n                 ];\n    return (\n        <ol className=\"house__menu\">\n            <div className=\"dndHeader__label\">\n                <h4 className=\"heavy\">\n                    {house}\n                </h4>\n            </div>\n            {rooms.map((el, i) => { \n            return <Link to={`/library/${el.url}`} \n                        key={i}\n                        onMouseEnter={() => hoverRoom(i + 1)}\n                        onMouseLeave={() => hoverRoom(null)}>\n                <p className=\"dnd__item dnd__item--nested\">\n                    {i + 1}. {el.label}\n                </p>\n            </Link>\n            })\n          }\n        </ol>\n    );\n}\n \nexport default HouseNavMenu;","import React, { useContext, useState } from 'react';\nimport HouseNav from '../sections/HouseNav';\nimport { UserContext } from '../hooks/UserContext';\nimport HouseNavMenu from '../components/menus/HouseNavMenu';\n\nconst House = () => {\n    const { user } = useContext(UserContext);\n    const house = user.house.house; \n\n    const [hover, setHover] = useState(null);\n\n    const hoverRoom = (id) => {\n        setHover(id);\n    }\n    return (\n        <div className=\"house\">\n            <HouseNav hover={hover}/>\n            <HouseNavMenu house={house}\n                    hoverRoom={hoverRoom}\n            />\n        </div>\n    )\n};\n \nexport default House;\n\n","import React, { useRef, useEffect } from 'react';\nimport { Editor } from 'draft-js';\nimport Toolbar from '../../btns/Toolbar';\n\nexport default function RichEditor(props) { \n    const { title, \n            onTitleChange, \n            editorState,\n            onNoteChange, \n            mapKeyToEditorCommand,\n            handleKeyCommand, \n            toggleInlineStyle, \n            toggleBlockType,\n            styledToolbar } = props;\n    \n    const editRef = useRef(null);\n\n       useEffect(() => { \n           editRef.current.focus();\n        }, []);\n\n    return(\n      <>\n        <Toolbar editorState={editorState}\n                onToggleInline={toggleInlineStyle}\n                toggleBlockType={toggleBlockType}\n                addTag={false}\n                styled={styledToolbar} \n                /> \n            <div className=\"editorWrapper--block\">\n                <input type=\"text\" \n                            className=\"input editor__title\" \n                            disabled={false}\n                            name=\"title\"\n                            value={title}\n                            onChange={onTitleChange}\n                            onKeyDown={(e) => {\n                                if(e.keyCode === 13) {\n                                    e.preventDefault();\n                                }\n                            }}\n                            />\n                <div className=\"editorWrapper\" onClick={() => editRef.current.focus()}> \n                    <Editor editorState={editorState} \n                    ref={editRef} spellCheck={true}\n                    onChange={onNoteChange}\n                    handleKeyCommand={handleKeyCommand}\n                    mapKeyToEditorCommand={mapKeyToEditorCommand}\n                    />\n                </div>\n            </div>\n        </>\n\n    )\n}\n","import React from 'react'; \nimport { VscClose } from 'react-icons/vsc';\n\nexport default function InboxPreview({ post, plaintext, props }) {\n    const { handleLibraryBookDelete } = props; \n    \n    return(\n            <div className=\"inboxPreview\"> \n                <div className=\"inboxPreview__text\">\n                    <p className=\"inboxPreview__subject\">{post.title}</p>\n                    <p className=\"inboxPreview__body\">{plaintext}</p>\n                    <div className=\"inboxPreview__fade\"></div>\n                </div>\n                    <VscClose className=\"icon icon__btn inboxPreview__X\" \n                        data-id={post._id}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            handleLibraryBookDelete(e)}}/> \n            </div>\n    )\n} ","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport InboxPreviw from './InboxPreview';\n\nconst InboxLink = (props) => {\n    const { post } = props;\n \n    return ( \n        <Link to={{pathname: `/house/${post._id}`, state: post}}>\n            <InboxPreviw {...props}/> \n        </Link> \n    );\n}\n \nexport default InboxLink;\n\n/*\n   const history = useHistory();\n\n    const push = (id) => {\n        history.push(`/house${id}`);\n    }\n*/","import React from 'react';\nimport { VscArrowLeft, VscArrowRight } from 'react-icons/vsc'; \n\nexport default function Paginate(props) {\n   const { pageState, handlePageCounter } = props; \n   const { page, totalPages, prevPage, nextPage } = pageState;\n\n   return (\n       <>\n       {(totalPages && totalPages > 1) ?\n            <div className=\"paginate\">\n            {prevPage && \n            <VscArrowLeft className=\"icon icon__btn paginate__L\" \n                            onClick={() => handlePageCounter(page - 1)}/>\n                        }\n            {(totalPages && totalPages > 1) &&\n                <h4 className=\"paginate__pg\" >\n                    {page} of {totalPages}\n                </h4> }\n                {nextPage &&\n                <VscArrowRight className=\"icon icon__btn paginate__R\" \n                            onClick={() => handlePageCounter(page + 1)}/>\n                        }\n            </div>\n            : null\n            }\n        </>\n    )\n}","import React from 'react'; \nimport InboxLink from '../components/posts/InboxLink';\nimport { convertFromRaw } from 'draft-js';\nimport Paginate from '../atoms/Paginate';\n\nexport default function Inbox(props) {\n    const { threads } = props;\n    \n    return(\n        <div className=\"inbox\"> \n           {(threads && threads.length > 0)\n                ? <div> \n                   { threads.map((post, i)=> { \n                    const contentState = convertFromRaw(JSON.parse(post.content));\n                    const plaintext = contentState.getPlainText();\n                        return ( \n                                <InboxLink key={i} \n                                        post={post} plaintext={plaintext} \n                                        props={props} />\n                        )\n                    })}\n                   <Paginate {...props}/>\n                </div>\n                : <div className=\"light\">No threads</div>\n            }\n        </div>\n    )\n} \n","import React, { useEffect, useRef } from 'react';\nimport RichEditor from '../components/upload/library/RichEditor';\nimport CTA from '../components/btns/CTA';\nimport InlineButton from '../components/btns/InlineButton';\nimport Inbox from '../sections/Inbox';\nimport useRichEditor from '../hooks/posts/useRichEditor';\nimport useLibrary from '../hooks/useLibrary';\nimport useShowEditor from '../hooks/threads/useShowEditor';\nimport { CSSTransition } from 'react-transition-group';\n\nexport default function House() {\n    const nodeRef = useRef(null);\n    const limit = 6;  \n\n    const { getLibraryBooks, \n        handleLibrarySubmit, \n        threads, \n        handleLibraryBookDelete,\n        pageState,\n        handlePageCounter\n    } = useLibrary(limit);\n\n        useEffect(() => {\n            getLibraryBooks(1); \n        }, []); \n\n    const { showEdit, setEditor } = useShowEditor();\n    \n    const { \n        title,\n        onTitleChange,\n        editorState, \n        onNoteChange, \n        clearEditor,  \n        mapKeyToEditorCommand, \n        handleKeyCommand, \n        toggleInlineStyle, \n        toggleBlockType \n    } = useRichEditor();\n\n   const sendSubmit = (e) => {\n       e.preventDefault(); \n       const data = editorState.getCurrentContent();\n       handleLibrarySubmit(data, title);\n       clearEditor(); // clear editor on submit \n       setEditor(false); \n   }; \n \n    return (\n        <>\n            <h2 className=\"page__title\" style={{marginLeft:0}}>\n              House\n            </h2>\n          <div className=\"layer inmail\">\n              <div className=\"house__compose\"> \n                  {showEdit \n                        ? <InlineButton name=\"close\" handleClick={() => setEditor(!showEdit)}/>\n                        : <CTA name=\"new thread\" kind=\"primary\" handleClick={() => setEditor(!showEdit)}/> \n                    }\n              </div>\n                    <CSSTransition \n                    in={showEdit} timeout={350} \n                    nodeRef={nodeRef} classNames=\"rollDownFadeOut\"\n                    unmountOnExit>\n                        <form style={{transformOrigin:'top'}} \n                                onSubmit={sendSubmit} ref={nodeRef}>\n                            <RichEditor title={title}\n                                        onTitleChange={onTitleChange}\n                                        editorState={editorState} \n                                        onNoteChange={onNoteChange}\n                                        mapKeyToEditorCommand={mapKeyToEditorCommand}\n                                        handleKeyCommand={handleKeyCommand} \n                                        toggleInlineStyle={toggleInlineStyle}\n                                        toggleBlockType={toggleBlockType}\n                                        styledToolbar={true}\n                                        />\n                            <div className=\"inlineForm__submit\" style={{justifyContent:'flex-end'}}>\n                                    <CTA name=\"finish\" kind=\"primary\" type=\"submit\"/> \n                            </div>\n                        </form>\n                    </CSSTransition> \n                        <h4 className=\"heavy\" style={{paddingBottom:'0.5rem', cursor:'pointer'}} \n                            onClick={() => handlePageCounter(1)}>\n                            threads\n                        </h4>\n                    <Inbox threads={threads} \n                            handleLibraryBookDelete={handleLibraryBookDelete}\n                            pageState={pageState}\n                            handlePageCounter={handlePageCounter}\n                    />\n            </div>\n        </>\n    )\n};\n\n","import { useState, useContext } from 'react'; \nimport axios from 'axios';\nimport { convertToRaw } from 'draft-js';\nimport { UserContext } from './UserContext';\n\nexport default function useLibrary(limit) { \n    const { user } = useContext(UserContext);\n    const house = user.house._id;\n\n   const initPageState = {\n        page: 1,\n        totalPages: null, \n        prevPage: null,\n        nextPage: null\n    }\n\n    const [threads, setThreads] = useState(null); \n    const [pageState, setPage] = useState(initPageState); \n\n    //GET \n    const getLibraryBooks = async (page, add) => {\n        const offset = (page - 1) * limit; \n        return axios.get(`/posts/paginate/${house}/library?offset=${offset}&limit=${limit}`)\n            .then(res => {\n              let {docs, page, totalPages, prevPage, nextPage} = res.data.data.docs; \n              setThreads(docs);\n              \n              //combine\n              if(page > totalPages) {\n                  getLibraryBooks(totalPages);\n              }\n              if(add && nextPage) {\n                getLibraryBooks(totalPages);\n              }   \n\n              setPage({\n                page,\n                totalPages,\n                prevPage,\n                nextPage\n            })\n        }).catch(err => console.log(err));\n}\n\n    //POST \n    const addLibraryBook = async (data, title) => {\n        const content = JSON.stringify(convertToRaw(data));\n        return axios.post('/posts',{\n                type: 'library',\n                room: 'library',\n                title,\n                content,\n                user,\n                house\n            }).catch(err => console.log(err));\n        }\n\n    //DELETE \n    const deleteLibraryBook = async (id) => {\n        return axios.delete(`/posts/${id}`)\n            .then(async (res) => {\n                console.log(res);\n                return await axios.get(`/posts/h/${house}/library`) // ?? why \n            }).catch(err => console.log(err));\n    }\n\n    //functions\n    async function handleLibraryBookDelete(e) {\n        const id = e.currentTarget.dataset.id;\n        console.log(e.currentTarget);\n        await deleteLibraryBook(id);\n        await getLibraryBooks(pageState.page);\n    }\n    \n    async function handleLibrarySubmit(data, title) {\n       await addLibraryBook(data, title);\n       await getLibraryBooks(pageState.page, true); \n    }    \n\n    async function handlePageCounter(page) {\n        getLibraryBooks(page);\n    }\n\n    return {\n        handleLibrarySubmit,\n        getLibraryBooks,\n        handleLibraryBookDelete,\n        threads,\n        pageState,\n        handlePageCounter\n    }\n}\n","import React from 'react';\n\nconst Flex = (props) => {\n    //initialize axis\n    let mainAxis = \"flex-start\";\n    let crossAxis = \"stretch\"; \n\n    const getFlex = (props) => {\n        const {\n            inline, // flex or flex-inline  \n            column, // row or column \n            top, \n            middle,\n            bottom,\n            left,\n            center,\n            right,\n            between,\n            around, \n            gap,\n            width\n          } = props;\n\n        // does primary axis have a value?\n        if (left || center || right || between || around) {\n            // set value\n            if (left) {\n            mainAxis = \"flex-start\";\n                } else if (center) {\n            mainAxis = \"center\";\n                } else if (right) {\n            mainAxis = \"flex-end\";\n                } else if (between) {\n            mainAxis = \"space-between\";\n                } else if (around) {\n            mainAxis = \"space-around\";\n            }\n        }\n\n        if (top || middle || bottom) {\n            if (top) {\n            crossAxis = \"flex-start\";\n            } else if (middle) {\n            crossAxis = \"center\";\n            } else if (bottom) {\n            crossAxis = \"flex-end\";\n            }\n        }\n\n    // if vertical flip it\n    if (column) {\n        if (left || center || right) {\n        if (left) {\n            crossAxis = \"flex-start\"; \n        } else if (center) {\n            crossAxis = \"center\";\n        } else if (right) {\n            crossAxis = \"flex-end\";\n        }\n        }\n\n        if (top || middle || bottom || between || around) {\n            if (top) {\n                mainAxis = \"flex-start\";\n            } else if (middle) {\n                mainAxis = \"center\";\n            } else if (bottom) {\n                mainAxis = \"flex-end\";\n            } else if (between) {\n                mainAxis = \"space-between\";\n            } else if (around) {\n                mainAxis = \"space-around\";\n            }\n        }\n      }\n\n      return {\n          display: inline ? \"inline-flex\" : \"flex\",\n          flexDirection: column ? \"column\" : \"row\",\n          justifyContent: mainAxis,\n          alignItems: crossAxis,\n          width: width || 'auto',\n          gap: `${gap}rem`\n      }\n    }\n\n    return (\n        <div style={getFlex(props)}\n            className={props.className}>\n            {props.children}\n        </div>\n    );\n}\n \nexport default Flex;","import React, { useRef } from 'react';\nimport { CSSTransition } from 'react-transition-group'; \n\nconst Rolldown = (props) => {\n    const nodeRef = useRef(null);\n\n    return (\n        <CSSTransition in={props.in} \n                timeout={350} \n                nodeRef={nodeRef} \n                classNames=\"grow\" \n                unmountOnExit> \n            <span ref={nodeRef}>\n                {props.children} \n            </span>\n        </CSSTransition>\n\n    );\n}\n \nexport default Rolldown;","import React from 'react';\nimport Flex from '../utils/Flex';\nimport Grow from '../components/animate/Grow';\n\n//individual content node \nconst Node = ( { c, handleOpen } ) => {\n    return (\n                <h3 className=\"warp__stitch\" \n                onClick={() => handleOpen(c.id)}\n                >\n                    {c.text}\n                </h3> \n    \n    )\n}\n\n//ROW \nconst Row = ({ row, handleOpen, open }) => {\n    const { components, right, left } = row; \n    return (\n        <>\n        <Flex className=\"syllabus__row\" width=\"100%\">\n            <div className=\"warp\" style={{ left:left, right:right }}>\n            {components.map((el, i) => {\n                return (\n                    <Node c={el} key={i}\n                        handleOpen={handleOpen}\n                        />\n                )\n            })} \n            </div>\n        </Flex> \n            <div className=\"warp__dropdown\">\n            {components.length && \n                components.map((el, i) => {\n                    return (\n                        <Grow in={open[el.id]}>\n                            <div className=\"warp__dropdown__cell\" key={i}>\n                                {el.dropdown}\n                            </div>\n                      </Grow>\n                    )\n                })}\n            </div>\n        </>\n    );\n}\n \nexport default Row;\n\n/*\n<Grow in={open[el.id]}>\n                        <div className=\"warp__dropdown__cell\" key={i}>\n                            {el.dropdown}\n                        </div>\n                      </Grow>\n\n                         {open[el.id] &&\n                        <div className=\"warp__dropdown__cell\" key={i}>\n                            {el.dropdown}\n                        </div>}\n \n */","import { LayerIcon } from '../svg/LayerIcons';\n\n/*\n    {text: '', // array \n    dropdown: '', // array of components \n    right: '', // row right \n    left: '' // row left \n    }\n */\n\nexport const ROWS = [ \n { // row 1 \n    components: [ \n        { id: 0,\n        text: \"Memory palaces\",\n        dropdown: 'yoyoyo',\n        }, \n        { id: 1,\n        text: \"Club Penguin & Animal Crossing\",\n        dropdown: 'yoyoyo',\n        }\n    ],\n    right: '',\n    left: '0'\n},\n{ // row 2 \n    components: [ \n        { id: 2,\n        text: \"My website is a shifting house next to a river of knowledge. What could yours be?\",\n        dropdown: '???!!',\n    }],\n    right: '',\n    left: '0'\n},\n]\n\n\nconst l = '1rem';\nconst fill = '#312F2C'\n\n//memory \nconst metaphors = [\n    {component: <p>Memory palaces</p>\n    },\n    {component: <p>Dynamic virtual homes like Animal Crossing islands and Club Penguin igloos</p>\n    },\n    {component:  <p> <a href=\"https://web.archive.org/web/20200714135951/http://www.continentcontinent.cc/index.php/continent/article/view/334\"\n    target=\"_blank\" className=\"styledLink\">\n        This is Not my Beautiful House: Examining the Desktop Metaphor, 1980-1995 &nbsp; \n        </a>\n        (archived by the Wayback machine)</p>\n    },\n    {component: <p>The meditative invitation from Agnes Martin's paintings</p>,\n    },\n    {component: <p>\n        <a href=\"https://thecreativeindependent.com/people/laurel-schwulst-my-website-is-a-shifting-house-next-to-a-river-of-knowledge-what-could-yours-be/\"\n            target=\"_blank\" className=\"styledLink\">\n            My website is a shifting house next to a river of knowledge. What could yours be? </a>\n        </p>},\n    {component: <li>G sent certain people too many links</li>\n    },\n    {component:  <li>Geocities</li> },\n     \n];\n       \n/*\n    <li>Place for collection + memory instead of infinite scroll</li>\n    <li>Desktop metaphor (I WANT TO MENTION STEVE JOBS)</li>\n    <li>Covid + being stuck at home ...?</li> \n*/\n              \n          \n          \nconst epistolary = [\n    { component: <p>MA's essay</p> },\n    { component:   <p className=\"wark\">I'm very into you</p> }\n];\n               \n           \n//    \nconst hypertext = [\n    {component: <p>\n        This \n        <a href=\"https://www.wired.com/1995/06/xanadu/\" target=\"_blank\" className=\"styledLink\"> \n            &nbsp;Wired article (1995)&nbsp;\n        </a> \n        about Ted Nelson's Xanadu project. </p>},\n    {component: <p> A long digression looking at \n        <a href=\"https://roamresearch.com/\" target=\"_blank\" className=\"styledLink\">\n           &nbsp;Roam Research&nbsp;\n        </a>\n        as a modern hypertext-type project.\n        <blockquote>\n        <code className=\"bold\">jb:&nbsp;</code>\n        <code>\n        Then I started looking at this platform called Roam Research, which is more similar to our structure. \n        They have no folders (!) and all the pages are connected by internal links. It's very hypertextual. \n        </code>\n        </blockquote>\n    </p> \n    },\n    {component:  <p>\n        Hypertextiles\n    </p>\n    },\n    {component: <p>\n        This\n        <a href=\"https://www.are.na/blog/women-in-hypertext\" target=\"_blank\" className=\"styledLink\"> \n        &nbsp;are.na blog post (2018)&nbsp;\n        </a>\n        about Judy Malloy and Cathy Marshall's <em>Forward Anywhere</em> &nbsp; \n        <blockquote>\n            \"Cathy showed Judy VIKI, a spatial hypertext system she was building that allowed for soft, implicit associations between ideas. \n            Judy commented on the systems colors, then hurried to the next stop of her tour, dripping pea juice and blood.\"\n        </blockquote>\n    </p>},\n\n];    \n\n\n\nexport const SYLLABUS_HEADERS = [\n    {title: 'Domestic computing metaphors',\n    icon: <LayerIcon id='L0' l={l} fill={fill}/>,\n    column: metaphors\n},\n    {title: 'Epistolary narratives',\n    icon:  <LayerIcon id='L1' l={l} fill={fill}/>,\n    column: epistolary\n},\n    {title: 'Hypertext',\n    icon:  <LayerIcon id='L2' l={l} fill={fill}/>,\n    column: hypertext\n    }\n];\n\nexport const NODES = [\n    { from: 'wark',\n    to: 'malloy',\n    fromAnchor: 'center right',\n    toAnchor: 'center left' }\n]\n\n//<img src={ac} alt='animal crossing' className='syllabus__img'/>\n//<img src={bob} alt='microsoft bob' className='syllabus__img'/>\n\n/*\nexport const THEMES = [\n    {theme: <span> alternate computing <b>metaphor</b>s</span>, color: '#EA9144'},\n    {theme: <span> <b>domestic</b> knowledge organization</span>, color: '#4EAAC6'},\n    {theme: <span> <b>epistolary</b> correspondence</span>, color: '#FFE073'},\n    {theme: <span>and <b>hypertext</b></span>, color: '#D7F08E'}\n];\n */\n\n //<img src={hypertext} alt='forward anywhere floppy disk' className='syllabus__img'/>\n //            <img src={clubPenguin} alt='club penguin' className=\"reference__img\"/>\n\n //import bob from '../assets/pics/bob-screenshot.png';\n//import ac from '../assets/pics/ac-screenshot.png';\n//import hypertext from '../assets/pics/hypertext-screenshot.png';\n//import clubPenguin from '../assets/pics/club-penguin-big.png';","import React, { useState } from 'react';\nimport Row from '../atoms/Node';\nimport { ROWS } from '../data/syllabus'; \nimport SyllabusHeading from '../sections/SyllabusHeading';\n\nconst Syllabus = () => {\n    const c = ROWS.map(el => el.components);\n    const [open, setOpen] = useState(c.flat().map(el => false));\n\n    const handleOpen = (i) => {\n        const arr = [...open];\n        arr[i] = !arr[i];\n        setOpen(arr); \n    } \n\n    return (\n        <>\n            <div className=\"syllabus\">\n                {ROWS.map((row, i) => {\n                    return ( \n                        <Row key={i}\n                            row={row} open={open}\n                            handleOpen={handleOpen}\n                        /> \n                    )\n                })}\n            </div>\n        </>\n    ); \n}\n \nexport default Syllabus;\n\n/*\n<Grid columns='repeat(3, 1fr)' gap={3} className=\"syllabus\">\n            {SYLLABUS_HEADERS.map((item, i) => {\n                return <SyllabusColumn key={i}\n                        item={item}  id={i}\n                        />\n            })}\n        </Grid>\n <SteppedLineTo from=\"wark\" to=\"malloy\" \n        fromAnchor=\"center right\"\n        toAnchor=\"center left\"\n        orientation=\"h\"\n        delay />\n*/\n\n ","import GroupIcon from '../../svg/GroupIcon'; \nimport { VscMilestone } from 'react-icons/vsc';\n\nexport const COLOR_HEADINGS = ['color', 'zone', 'description', 'layer ex.'];  \n\nconst l = \"1.5rem\";\n\nexport const SYMBOL_KEY = [\n      { symbol: <GroupIcon l={l}/>, label: \"A group, which may contain layers.\"},\n      { symbol: <VscMilestone className=\"keyIcon\"/>, label: \"A path, which connects posts across layers.\"}\n];\n\n","import React, { useContext } from 'react';\nimport { SYMBOL_KEY } from './key';\nimport { COLOR_OBJECTS } from '../../data/colors';\nimport { UserContext } from '../../hooks/UserContext';\nimport { LayerIcon } from '../../svg/LayerIcons';\n\nconst SymbolKey = () => {\n    const { groups } = useContext(UserContext); \n\n    const rooms = groups.map(el => {\n        return el.layers;\n    });\n\n    return ( \n        <>\n        <div className=\"key symbolKey\">\n            <h3 className=\"houseTitle key__title\"> \n                Rooms and signs \n            </h3>\n                {SYMBOL_KEY.map((el, i) => {\n                   return <div key={i} className=\"key__row\">\n                        {el.symbol} \n                        {el.label}\n                    </div>\n                })}\n                {rooms.flat().map(el => {\n                    return <div key={el.slug} className=\"key__row\">\n                        <LayerIcon l=\"1.5rem\" id={`L${el.id}`}/>\n                        {el.label}\n                    </div>\n                })}\n        </div>\n            <div className=\"key symbolKey\">\n                <h3 className=\"houseTitle key__title\"> \n                    All path colors\n                </h3>\n                {COLOR_OBJECTS.map((obj) => {\n                   return Object.entries(obj)\n                            .map(([key, values]) => {\n                        return <div key={key} className=\"key__row\">\n                            {key}\n                            {values.map(el => {\n                                return(\n                                    <div key={el} className=\"key__color\"\n                                        style={{backgroundColor:el}}>\n                                    </div>\n                            )\n                        })}\n                    </div>\n                    })\n                })}\n        </div>\n        </>\n    );\n}\n\nexport default SymbolKey;\n\n","import React, { useEffect } from 'react';\nimport useLayerPosts from '../hooks/layers/useLayerPosts';\nimport Grid from '../utils/Grid';\nimport { Editor, EditorState, convertFromRaw } from 'draft-js';\nimport Paginate from '../atoms/Paginate';\n\nconst Archive = () => {\n    const { getHousePosts, posts, loading } = useLayerPosts();\n\n    useEffect(() => {\n        async function onPageLoad() {\n            getHousePosts(1)\n        }\n        onPageLoad();\n    }, []);\n\n    async function handlePageCounter(page) {\n        await getHousePosts(page);\n    }\n\n    if(loading) {\n        return null; \n    }\n    return (\n        <div>\n            <h2 className=\"houseTitle\">\n                Archive\n            </h2>\n            {posts.docs.map(el => { \n                let content; \n                if(el.type === 'note') {\n                    let contentState = convertFromRaw(JSON.parse(el.content));\n                    const editorState = EditorState.createWithContent(contentState);\n                    content = <Editor editorState={editorState} readOnly={true} />\n                } else {\n                    content = el.content;\n                }\n                \n                return(\n                    <span key={el._id}>\n                    <Grid columns=\"10% 10% 1fr\" gap={1}>\n                        <div className=\"archive__col\">\n                            <h4>\n                                {el.date}\n                            </h4>\n                        </div>\n                        <div className=\"archive__col\">\n                            <h4>\n                                {el.user.username}\n                            </h4>\n                        </div>\n                        <div className=\"archive__col\">\n                                {content}\n                        </div>\n                    </Grid>\n                    <Paginate pageState={posts}\n                            handlePageCounter={handlePageCounter}\n                            />\n                    </span>\n                )\n            })}\n        </div>\n    );\n}\n \nexport default Archive;\n\n// date \n// user \n// line ","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Header from './Header'\nimport Thread from '../pages/Thread'; \nimport Tags from '../pages/Tags'; \nimport House from '../pages/House';\nimport InMail from '../pages/InMail';\nimport Syllabus from '../pages/Syllabus'; \nimport SymbolKey from './color/SymbolKey';\nimport Archive from '../pages/Archive';\n\nconst HouseRoute = () => { \n    return ( \n      <div className=\"page\"> \n      <Header nav={[ {name: 'library', url: 'library'} ]}/> \n        <Switch>\n          <Route exact path='/library' component={House}/>\n          <Route path=\"/library/paths\" component={Tags}/>\n          <Route exact path='/library/rooms' component={SymbolKey}/>\n          <Route exact path=\"/library/archive\" component={Archive}/>\n          <Route exact path='/library/inbox' component={InMail}/> \n          <Route exact path='/library/syllabus' component={Syllabus}/> \n          <Route path='/library/:threadId' component={Thread}/> \n        </Switch>\n      </div>\n      );\n}\n \nexport default HouseRoute;","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom'; \nimport useGetPath from '../../hooks/paths/useGetPath';\nimport PageBody from './PageBody';\nimport Header from '../../sections/Header';\nimport Sidebar from './Sidebar';\n\nconst PathLayer = () => {\n    let params = useParams();\n\n    const { path, getPath } = useGetPath();\n  \n    useEffect(() => {\n        //send tag's slug to lookup\n        getPath(params.path);\n    }, [params])\n    \n    //get posts by tag \n    //say posts' layer of origin \n    const [activeView, setZoom] = useState('100%'); \n\n    return ( \n        <>\n        {path && \n        <div className=\"page\">\n            <Header nav={[{name: path.tag, url: params.path }]}/>\n            <div className=\"page__info\">\n                <div className=\"page__title\"\n                    style={{paddingLeft:'1rem'}}>\n                    {path.tag}\n                </div>\n            </div>\n             <div className=\"layer\">\n                 <Sidebar setZoomFilter={(e) => \n                        setZoom(e.currentTarget.dataset.id)}/>\n                 <div className=\"layer__body\">\n                    <PageBody path={path}\n                            activeView={activeView}\n                            />\n                 </div>\n             </div>\n        </div>}\n        </>\n    );\n}\n \nexport default PathLayer;","import { useState } from 'react';\nimport axios from 'axios';\n\nexport default function useGetPath() {\n    const [path, setPath] = useState(null);\n    //lookup path by slug\n\n    const getPath = async (slug) => {\n        return axios.get(`/tags/s/${slug}`)\n                .then(res => {\n                    //return tag object \n                    setPath(res.data.data.doc);\n            }).catch(err => console.log(err));\n    }\n\n    return {\n        path,\n        getPath\n    }\n}","import React from 'react';\nimport { Route, Switch } from 'react-router-dom'; \nimport Edit from './Edit'; \nimport PathLayer from '../pages/layer/PathLayer';\n\nconst PathRoute = () => {\n    return (\n        <>\n        <Switch>\n            <Route path='/path/:path/:postId' component={Edit}/>\n        </Switch>\n        <PathLayer/>\n        </>\n    );\n}\n \nexport default PathRoute;","import React from 'react';\n\nexport default function NotFound() {\n    return(\n        <div>\n            This is not a route yet. \n        </div>\n    )\n}","import React from 'react';\nimport Button from '../components/btns/Button';\nimport { Link } from 'react-router-dom';\nimport { VscHome } from 'react-icons/vsc';\n\nconst HomeButton = () => {\n    return (\n    <Link to=\"/\" className=\"homeButton\">\n        <Button icon={<VscHome className=\"icon icon__btn\" data-id=\"house\"/>}/>\n    </Link>\n   );\n}\n \nexport default HomeButton;","import './App.css'; \nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';  \nimport { UserContext } from './hooks/UserContext';\nimport PrivateRoute from './pages/PrivateRoute';\nimport Register from './pages/Register';\nimport Login from './pages/Login';\nimport Confirm from './pages/Confirm';\nimport Landing from './pages/Landing'; \nimport Home from './pages/Home';\nimport LayerRoute from './sections/LayerRoute';\nimport GroupRoute from './sections/GroupRoute';\nimport User from './pages/User';\nimport Add from './pages/Add';\nimport HouseRoute from './sections/HouseRoute';\nimport PathRoute from './sections/PathRoute';\nimport NotFound from './pages/NotFound';\nimport useFindUser from './hooks/user/useFindUser';\nimport HomeButton from './atoms/HomeButton';\n\nfunction App() {\n\n  const { \n    user, \n    rooms,\n    groups,\n    globalTags,\n    setUser,\n    setRooms,\n    setGroups,\n    setGlobalTags, \n    isLoading } = useFindUser();\n \n  return ( \n   <Router>\n       <UserContext.Provider value={{   user,\n                                        rooms,\n                                        groups,\n                                        globalTags, \n                                        setUser,\n                                        setRooms,\n                                        setGroups,\n                                        setGlobalTags,\n                                        isLoading }} >\n\n       <Switch>\n            <Route path=\"/home\" component={Landing}/>\n            <Route path=\"/register\" component={Register}/>\n            <Route path=\"/login\" component={Login}/>\n            <Route path=\"/confirm\" component={Confirm}/>\n            <PrivateRoute exact path=\"/\" component={Home}/>\n            <PrivateRoute path='/library' component={HouseRoute}/>\n            <PrivateRoute path='/path/:path' component={PathRoute}/>\n            <PrivateRoute path='/group/:group' component={GroupRoute}/>\n            <PrivateRoute path=\"/user\" component={User}/>\n            <PrivateRoute path=\"/add\" component={Add}/>\n            <PrivateRoute path='/:room' component={LayerRoute}/>\n            <Route component={NotFound}/> \n        </Switch>\n        <HomeButton/>\n      </UserContext.Provider>\n   </Router>\n  );\n}\n\nexport default App;\n\n\n","import { useState, useEffect } from 'react';\nimport axios from 'axios'; \n \nexport default function useFindUser() { \n    const [user, setUser] = useState(null);\n    const [globalTags, setGlobalTags] = useState(null);\n    const [rooms, setRooms] = useState(null);\n    const [groups, setGroups] = useState(null);\n    const [isLoading, setLoading] = useState(true); \n\nuseEffect(() => { \n    async function findUser() { \n        await axios.get('/user')\n            .then(res => { \n                const user = res.data.currentUser;\n                const groups = res.data.currentUser.house.groups;\n                setUser(user);\n                setGroups(groups);\n                const layerArrs = groups.map(el => {\n                    return el.layers\n                });\n                setRooms(layerArrs.flat());\n        return axios.get(`/tags/h/${user.house._id}`);\n        }).then(res => {\n                const tags = res.data.data.results;\n                setGlobalTags(tags);\n                setLoading(false); \n        }).catch(err => {\n            console.log(err);\n            // even if no user --> set to not loading  \n            setLoading(false); \n        });\n    }\n    findUser();\n    }, []);\n                    \n    return {\n        user,\n        rooms,\n        groups,\n        globalTags,\n        setUser,\n        setRooms,\n        setGroups,\n        setGlobalTags,\n        isLoading\n    }\n}\n\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport axios from 'axios';\n\n//axios.defaults.baseURL = 'http://127.0.0.1:5000/';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","import React from 'react';\n\nconst GroupIcon = ({l, name}) => {\n    return (\n        <svg width={l} height={l} viewBox=\"0 0 100 100\" fill=\"none\" \n        className={name}\n        xmlns=\"http://www.w3.org/2000/svg\"> \n            <rect x=\"0.5\" y=\"0.5\" width=\"100\" height=\"100\" \n                stroke=\"currentColor\" \n                strokeDasharray=\"20\" \n                strokeWidth=\"10\"\n            />\n        </svg>\n    );\n}\n \nexport default GroupIcon;"],"sourceRoot":""}